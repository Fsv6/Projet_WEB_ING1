{"ast":null,"code":"import authService from '../services/authService';\nexport default {\n  name: 'RegisterPage',\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      login: '',\n      email: '',\n      password: '',\n      codeFamille: '',\n      loading: false,\n      message: null,\n      photo: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files[0];\n      this.photo = file || null;\n    },\n    async handleRegister() {\n      this.loading = true;\n      this.message = null;\n      try {\n        const formData = new FormData();\n        formData.append('nom', this.nom);\n        formData.append('prenom', this.prenom);\n        formData.append('login', this.login);\n        formData.append('email', this.email);\n        formData.append('password', this.password);\n        formData.append('codeFamille', this.codeFamille);\n        if (this.photo) {\n          formData.append('photo', this.photo);\n        }\n        await authService.register(formData);\n        this.message = {\n          type: 'success',\n          text: 'Inscription réussie ! Vérifiez votre mail pour valider votre compte.'\n        };\n      } catch (error) {\n        console.error('Erreur lors de l\\'inscription:', error, error.response?.data);\n        this.message = {\n          type: 'error',\n          text: error.response?.data?.message || 'Erreur lors de l\\'inscription'\n        };\n        this.$nextTick(() => {\n          const alert = document.querySelector('.alert-error');\n          if (alert) alert.scrollIntoView({\n            behavior: 'smooth'\n          });\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["authService","name","data","nom","prenom","login","email","password","codeFamille","loading","message","photo","methods","onFileChange","e","file","target","files","handleRegister","formData","FormData","append","register","type","text","error","console","response","$nextTick","alert","document","querySelector","scrollIntoView","behavior"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-bg\">\n    <div class=\"register-container\">\n      <div class=\"register-card\">\n        <div class=\"register-image\">\n          <img src=\"@/assets/kitchen-left.jpg\" alt=\"Décor cuisine\" />\n        </div>\n        <h2>Inscription</h2>\n\n        <div v-if=\"message\" :class=\"['alert', message.type === 'success' ? 'alert-success' : 'alert-error']\">\n          {{ message.text }}\n        </div>\n\n        <form @submit.prevent=\"handleRegister\" class=\"register-form\">\n          <div class=\"form-group\">\n            <label for=\"nom\">Nom</label>\n            <input type=\"text\" id=\"nom\" v-model=\"nom\" required placeholder=\"Votre nom\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"prenom\">Prénom</label>\n            <input type=\"text\" id=\"prenom\" v-model=\"prenom\" required placeholder=\"Votre prénom\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"login\">Nom d'utilisateur</label>\n            <input type=\"text\" id=\"login\" v-model=\"login\" required placeholder=\"Votre nom d'utilisateur\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" v-model=\"email\" required placeholder=\"Votre email\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"password\">Mot de passe</label>\n            <input type=\"password\" id=\"password\" v-model=\"password\" required placeholder=\"Votre mot de passe\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"codeFamille\">Code Famille</label>\n            <input type=\"text\" id=\"codeFamille\" v-model=\"codeFamille\" required placeholder=\"Ex: DUPONT2024\">\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"photo\">Photo de profil (optionnel)</label>\n            <input type=\"file\" id=\"photo\" @change=\"onFileChange\" accept=\"image/*\">\n          </div>\n\n          <button type=\"submit\" :disabled=\"loading\">\n            {{ loading ? 'Inscription en cours...' : 'S\\'inscrire' }}\n          </button>\n\n          <p class=\"login-link\">\n            Déjà inscrit ?\n            <router-link to=\"/login\">Se connecter</router-link>\n          </p>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport authService from '../services/authService';\n\nexport default {\n  name: 'RegisterPage',\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      login: '',\n      email: '',\n      password: '',\n      codeFamille: '',\n      loading: false,\n      message: null,\n      photo: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files[0];\n      this.photo = file || null;\n    },\n    async handleRegister() {\n      this.loading = true;\n      this.message = null;\n\n      try {\n        const formData = new FormData();\n        formData.append('nom', this.nom);\n        formData.append('prenom', this.prenom);\n        formData.append('login', this.login);\n        formData.append('email', this.email);\n        formData.append('password', this.password);\n        formData.append('codeFamille', this.codeFamille);\n        if (this.photo) {\n          formData.append('photo', this.photo);\n        }\n        await authService.register(formData);\n        this.message = {\n          type: 'success',\n          text: 'Inscription réussie ! Vérifiez votre mail pour valider votre compte.'\n        };\n      } catch (error) {\n        console.error('Erreur lors de l\\'inscription:', error, error.response?.data);\n        this.message = {\n          type: 'error',\n          text: error.response?.data?.message || 'Erreur lors de l\\'inscription'\n        };\n        this.$nextTick(() => {\n          const alert = document.querySelector('.alert-error');\n          if (alert) alert.scrollIntoView({ behavior: 'smooth' });\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.register-bg {\n  min-height: 100vh;\n  width: 100vw;\n  background: linear-gradient(135deg, #e8f4f8 0%, #f5f7fa 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.register-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  width: 100vw;\n}\n\n.register-card {\n  background: #fff;\n  padding: 38px 32px 32px 32px;\n  border-radius: 32px;\n  box-shadow: 0 8px 32px rgba(44, 80, 56, 0.13), 0 1.5px 4px rgba(44, 80, 56, 0.08);\n  width: 100%;\n  max-width: 410px;\n  min-width: 320px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n}\n\n.register-image {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 18px;\n}\n.register-image img {\n  width: 90px;\n  height: 90px;\n  object-fit: cover;\n  border-radius: 50%;\n  box-shadow: 0 2px 8px rgba(44, 80, 56, 0.10);\n  border: 4px solid #e8f4f8;\n  background: #fff;\n}\n\nh2 {\n  text-align: center;\n  color: #006d77;\n  margin-bottom: 30px;\n  font-size: 2.1rem;\n  line-height: 1.3;\n  font-weight: 700;\n  letter-spacing: 0.01em;\n}\n\n.form-group {\n  margin-bottom: 22px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 8px;\n  color: #2c3e50;\n  font-weight: 500;\n  font-size: 1.05rem;\n}\n\ninput[type=\"text\"],\ninput[type=\"email\"],\ninput[type=\"password\"],\ninput[type=\"file\"],\ntextarea,\nselect {\n  width: 100%;\n  padding: 14px 13px;\n  border: 1.5px solid #e0e0e0;\n  border-radius: 8px;\n  font-size: 1.08rem;\n  margin-top: 2px;\n  box-sizing: border-box;\n  background: #f8fafc;\n  transition: border 0.2s, box-shadow 0.2s;\n  outline: none;\n}\ninput:focus, textarea:focus, select:focus {\n  border-color: #42b983;\n  box-shadow: 0 0 0 2px #b7e8d7;\n  background: #fff;\n}\ninput[type=\"file\"] {\n  background: transparent;\n  padding: 8px 0;\n}\n\nbutton {\n  width: 100%;\n  padding: 14px;\n  background: linear-gradient(90deg, #42b983 0%, #2ec4b6 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 1.15rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.2s, box-shadow 0.2s, transform 0.1s;\n  margin-top: 10px;\n  box-shadow: 0 2px 8px rgba(44, 80, 56, 0.08);\n}\nbutton:hover {\n  background: linear-gradient(90deg, #2ec4b6 0%, #42b983 100%);\n  transform: translateY(-2px) scale(1.01);\n  box-shadow: 0 6px 18px rgba(44, 80, 56, 0.13);\n}\nbutton:disabled {\n  background: #a8a8a8;\n  cursor: not-allowed;\n}\n\n.login-link {\n  text-align: center;\n  margin-top: 22px;\n  font-size: 1.05rem;\n}\n.login-link a {\n  color: #42b983;\n  text-decoration: none;\n  font-weight: 600;\n}\n.login-link a:hover {\n  text-decoration: underline;\n}\n\n.alert {\n  padding: 13px;\n  border-radius: 6px;\n  margin-bottom: 22px;\n  text-align: center;\n  font-size: 1.05rem;\n  font-weight: 500;\n  box-shadow: 0 1px 4px rgba(44, 80, 56, 0.07);\n}\n.alert-success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n.alert-error {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n@media (max-width: 600px) {\n  .register-card {\n    padding: 16px 3px 16px 3px;\n    min-width: unset;\n    border-radius: 12px;\n  }\n  h2 {\n    font-size: 1.25rem;\n    margin-bottom: 14px;\n  }\n  .form-group {\n    margin-bottom: 12px;\n  }\n  input, button {\n    font-size: 0.98rem;\n    padding: 10px;\n  }\n  .register-image img {\n    width: 60px;\n    height: 60px;\n    border-width: 2px;\n  }\n}\n</style>\n"],"mappings":"AAgEA,OAAOA,WAAU,MAAO,yBAAyB;AAEjD,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,EAAE;MACPC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,CAAC,EAAE;MACd,MAAMC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC9B,IAAI,CAACN,KAAI,GAAII,IAAG,IAAK,IAAI;IAC3B,CAAC;IACD,MAAMG,cAAcA,CAAA,EAAG;MACrB,IAAI,CAACT,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,OAAM,GAAI,IAAI;MAEnB,IAAI;QACF,MAAMS,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,KAAK,EAAE,IAAI,CAAClB,GAAG,CAAC;QAChCgB,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACjB,MAAM,CAAC;QACtCe,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAChB,KAAK,CAAC;QACpCc,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACf,KAAK,CAAC;QACpCa,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACd,QAAQ,CAAC;QAC1CY,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACb,WAAW,CAAC;QAChD,IAAI,IAAI,CAACG,KAAK,EAAE;UACdQ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,KAAK,CAAC;QACtC;QACA,MAAMX,WAAW,CAACsB,QAAQ,CAACH,QAAQ,CAAC;QACpC,IAAI,CAACT,OAAM,GAAI;UACba,IAAI,EAAE,SAAS;UACfC,IAAI,EAAE;QACR,CAAC;MACH,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,EAAEA,KAAK,CAACE,QAAQ,EAAEzB,IAAI,CAAC;QAC5E,IAAI,CAACQ,OAAM,GAAI;UACba,IAAI,EAAE,OAAO;UACbC,IAAI,EAAEC,KAAK,CAACE,QAAQ,EAAEzB,IAAI,EAAEQ,OAAM,IAAK;QACzC,CAAC;QACD,IAAI,CAACkB,SAAS,CAAC,MAAM;UACnB,MAAMC,KAAI,GAAIC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;UACpD,IAAIF,KAAK,EAAEA,KAAK,CAACG,cAAc,CAAC;YAAEC,QAAQ,EAAE;UAAS,CAAC,CAAC;QACzD,CAAC,CAAC;MACJ,UAAU;QACR,IAAI,CAACxB,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}