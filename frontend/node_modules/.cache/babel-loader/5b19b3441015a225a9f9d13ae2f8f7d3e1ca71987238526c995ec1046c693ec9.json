{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-families-container\"\n};\nconst _hoisted_2 = {\n  class: \"actions-bar\"\n};\nconst _hoisted_3 = {\n  class: \"search-box\"\n};\nconst _hoisted_4 = {\n  class: \"families-table\"\n};\nconst _hoisted_5 = {\n  class: \"badge-members\"\n};\nconst _hoisted_6 = {\n  class: \"actions-cell\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_11 = {\n  class: \"modal-content\"\n};\nconst _hoisted_12 = {\n  class: \"form-row\"\n};\nconst _hoisted_13 = [\"disabled\"];\nconst _hoisted_14 = {\n  class: \"form-row\"\n};\nconst _hoisted_15 = {\n  class: \"form-row\"\n};\nconst _hoisted_16 = {\n  class: \"modal-actions\"\n};\nconst _hoisted_17 = {\n  key: 1,\n  class: \"modal\"\n};\nconst _hoisted_18 = {\n  class: \"modal-content members-modal\"\n};\nconst _hoisted_19 = {\n  class: \"modal-header\"\n};\nconst _hoisted_20 = {\n  class: \"members-search-bar\"\n};\nconst _hoisted_21 = {\n  class: \"search-container\"\n};\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  key: 0\n};\nconst _hoisted_24 = {\n  class: \"members-table\"\n};\nconst _hoisted_25 = {\n  class: \"member-avatar\"\n};\nconst _hoisted_26 = [\"src\"];\nconst _hoisted_27 = [\"onClick\"];\nconst _hoisted_28 = {\n  key: 1,\n  class: \"no-results\"\n};\nconst _hoisted_29 = {\n  key: 2,\n  class: \"no-members\"\n};\nconst _hoisted_30 = {\n  class: \"modal-actions\"\n};\nconst _hoisted_31 = {\n  key: 2,\n  class: \"modal\"\n};\nconst _hoisted_32 = {\n  class: \"modal-content\"\n};\nconst _hoisted_33 = {\n  class: \"form-row\"\n};\nconst _hoisted_34 = {\n  class: \"search-container\"\n};\nconst _hoisted_35 = {\n  key: 0,\n  class: \"search-results\"\n};\nconst _hoisted_36 = {\n  class: \"users-list\"\n};\nconst _hoisted_37 = [\"onClick\"];\nconst _hoisted_38 = {\n  class: \"user-icon\"\n};\nconst _hoisted_39 = {\n  class: \"user-info\"\n};\nconst _hoisted_40 = {\n  class: \"user-name\"\n};\nconst _hoisted_41 = {\n  class: \"user-login\"\n};\nconst _hoisted_42 = {\n  key: 1,\n  class: \"form-row\"\n};\nconst _hoisted_43 = {\n  key: 2\n};\nconst _hoisted_44 = {\n  class: \"form-row\"\n};\nconst _hoisted_45 = {\n  class: \"form-row\"\n};\nconst _hoisted_46 = {\n  class: \"form-row\"\n};\nconst _hoisted_47 = {\n  class: \"modal-actions\"\n};\nconst _hoisted_48 = [\"disabled\"];\nconst _hoisted_49 = {\n  class: \"notification-icon\"\n};\nconst _hoisted_50 = {\n  class: \"notification-text\"\n};\nconst _hoisted_51 = [\"innerHTML\"];\nconst _hoisted_52 = {\n  key: 0,\n  class: \"notification-actions\"\n};\nconst _hoisted_53 = [\"onClick\"];\nconst _hoisted_54 = {\n  key: 1,\n  class: \"notification-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppLayout = _resolveComponent(\"AppLayout\");\n  return _openBlock(), _createBlock(_component_AppLayout, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_cache[27] || (_cache[27] = _createElementVNode(\"h1\", {\n      class: \"page-title\"\n    }, \"Gestion des familles\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n      placeholder: \"Rechercher...\",\n      class: \"search-input\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchQuery]])]), _createElementVNode(\"button\", {\n      onClick: _cache[1] || (_cache[1] = (...args) => $setup.openAddFamilleModal && $setup.openAddFamilleModal(...args)),\n      class: \"add-famille-btn\"\n    }, _cache[22] || (_cache[22] = [_createElementVNode(\"i\", {\n      class: \"fas fa-plus\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Ajouter une famille \")]))]), $setup.message ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: _normalizeClass({\n        'success-msg': $setup.messageSuccess,\n        'error-msg': !$setup.messageSuccess\n      })\n    }, _toDisplayString($setup.message), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", null, [_cache[26] || (_cache[26] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Code Famille\"), _createElementVNode(\"th\", null, \"Nom\"), _createElementVNode(\"th\", null, \"Description\"), _createElementVNode(\"th\", null, \"Membres\"), _createElementVNode(\"th\", null, \"Créée le\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredFamilies, famille => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: famille._id\n      }, [_createElementVNode(\"td\", null, [_createElementVNode(\"strong\", null, _toDisplayString(famille.codeFamille), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString(famille.nom || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(famille.description || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString($setup.getMembresValidesCount(famille)), 1 /* TEXT */)]), _createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(famille.createdAt)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, [_createElementVNode(\"button\", {\n        onClick: $event => $setup.editFamille(famille),\n        class: \"action-btn edit\",\n        title: \"Modifier\"\n      }, [...(_cache[23] || (_cache[23] = [_createElementVNode(\"i\", {\n        class: \"fas fa-edit\"\n      }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_7), _createElementVNode(\"button\", {\n        onClick: $event => $setup.viewMembers(famille),\n        class: \"action-btn view\",\n        title: \"Voir les membres\"\n      }, [...(_cache[24] || (_cache[24] = [_createElementVNode(\"i\", {\n        class: \"fas fa-users\"\n      }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_8), _createElementVNode(\"button\", {\n        onClick: $event => $setup.confirmDelete(famille),\n        class: \"action-btn delete\",\n        title: \"Supprimer\"\n      }, [...(_cache[25] || (_cache[25] = [_createElementVNode(\"i\", {\n        class: \"fas fa-trash\"\n      }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_9)])]);\n    }), 128 /* KEYED_FRAGMENT */))])])])]), _createCommentVNode(\" Modal pour éditer/ajouter une famille \"), $setup.showModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h2\", null, _toDisplayString($setup.editingFamille ? 'Modifier' : 'Ajouter') + \" une famille\", 1 /* TEXT */), _createElementVNode(\"form\", {\n      onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $setup.saveFamille && $setup.saveFamille(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", _hoisted_12, [_cache[28] || (_cache[28] = _createElementVNode(\"label\", null, \"Code Famille :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.codeFamille = $event),\n      type: \"text\",\n      required: \"\",\n      disabled: $setup.editingFamille\n    }, null, 8 /* PROPS */, _hoisted_13), [[_vModelText, $setup.form.codeFamille]])]), _createElementVNode(\"div\", _hoisted_14, [_cache[29] || (_cache[29] = _createElementVNode(\"label\", null, \"Nom de la famille :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.nom = $event),\n      type: \"text\",\n      required: \"\",\n      placeholder: \"Ex: Famille Dupont\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.nom]])]), _createElementVNode(\"div\", _hoisted_15, [_cache[30] || (_cache[30] = _createElementVNode(\"label\", null, \"Description :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.description = $event),\n      placeholder: \"Description de la famille (optionnelle)\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.description]])]), _createElementVNode(\"div\", _hoisted_16, [_cache[31] || (_cache[31] = _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"save-btn\"\n    }, \"Enregistrer\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[5] || (_cache[5] = (...args) => $setup.closeModal && $setup.closeModal(...args)),\n      class: \"cancel-btn\"\n    }, \"Annuler\")])], 32 /* NEED_HYDRATION */), $setup.formMessage ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: _normalizeClass({\n        'success-msg': $setup.formSuccess,\n        'error-msg': !$setup.formSuccess\n      })\n    }, _toDisplayString($setup.formMessage), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal pour voir les membres \"), $setup.showMembersModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h2\", null, \"Membres de la famille \" + _toDisplayString($setup.selectedFamille?.nom || $setup.selectedFamille?.codeFamille), 1 /* TEXT */), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[7] || (_cache[7] = (...args) => $setup.openAddMemberModal && $setup.openAddMemberModal(...args)),\n      class: \"add-member-btn\"\n    }, _cache[32] || (_cache[32] = [_createElementVNode(\"i\", {\n      class: \"fas fa-user-plus\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Ajouter un membre \")]))]), _createCommentVNode(\" Barre de recherche pour filtrer les membres \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.memberFilterQuery = $event),\n      placeholder: \"Rechercher un membre...\",\n      class: \"search-input\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.memberFilterQuery]]), _cache[33] || (_cache[33] = _createElementVNode(\"span\", {\n      class: \"search-icon\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-search\"\n    })], -1 /* HOISTED */))])]), $setup.selectedFamille ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [$setup.filteredFamilyMembers.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_createElementVNode(\"table\", _hoisted_24, [_cache[35] || (_cache[35] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Photo\"), _createElementVNode(\"th\", null, \"Nom\"), _createElementVNode(\"th\", null, \"Prénom\"), _createElementVNode(\"th\", null, \"Login\"), _createElementVNode(\"th\", null, \"Niveau\"), _createElementVNode(\"th\", null, \"Rôle\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredFamilyMembers, member => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: member._id\n      }, [_createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"img\", {\n        src: $setup.getPhotoUrl(member.photo, member._id),\n        class: \"member-avatar\",\n        alt: \"Avatar\"\n      }, null, 8 /* PROPS */, _hoisted_26)])]), _createElementVNode(\"td\", null, _toDisplayString(member.nom), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(member.prenom), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(member.login || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(member.niveau || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(member.role || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n        onClick: $event => $setup.removeMember(member),\n        class: \"action-btn delete\",\n        title: \"Retirer de la famille\"\n      }, [...(_cache[34] || (_cache[34] = [_createElementVNode(\"i\", {\n        class: \"fas fa-user-minus\"\n      }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_27)])]);\n    }), 128 /* KEYED_FRAGMENT */))])])])) : $setup.familyMembers.length > 0 && $setup.filteredFamilyMembers.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [_cache[36] || (_cache[36] = _createElementVNode(\"i\", {\n      class: \"fas fa-search\"\n    }, null, -1 /* HOISTED */)), _cache[37] || (_cache[37] = _createElementVNode(\"p\", null, \"Aucun membre ne correspond à votre recherche\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      onClick: _cache[9] || (_cache[9] = $event => $setup.memberFilterQuery = ''),\n      class: \"reset-search-btn\"\n    }, \" Réinitialiser la recherche \")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_29, [_cache[39] || (_cache[39] = _createElementVNode(\"i\", {\n      class: \"fas fa-users-slash\"\n    }, null, -1 /* HOISTED */)), _cache[40] || (_cache[40] = _createElementVNode(\"p\", null, \"Aucun membre dans cette famille\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      onClick: _cache[10] || (_cache[10] = (...args) => $setup.openAddMemberModal && $setup.openAddMemberModal(...args)),\n      class: \"add-member-btn-empty\"\n    }, _cache[38] || (_cache[38] = [_createElementVNode(\"i\", {\n      class: \"fas fa-user-plus\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Ajouter un membre \")]))]))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[11] || (_cache[11] = (...args) => $setup.closeMembersModal && $setup.closeMembersModal(...args)),\n      class: \"cancel-btn\"\n    }, \"Fermer\")])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal pour ajouter un membre à la famille \"), $setup.showAddMemberModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"h2\", null, \"Ajouter un membre à la famille \" + _toDisplayString($setup.selectedFamille?.codeFamille), 1 /* TEXT */), _createElementVNode(\"form\", {\n      onSubmit: _cache[18] || (_cache[18] = _withModifiers((...args) => $setup.addMemberToFamily && $setup.addMemberToFamily(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", _hoisted_33, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", null, \"Rechercher un utilisateur existant :\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_34, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $setup.memberSearchQuery = $event),\n      placeholder: \"Rechercher par nom, prénom ou login...\",\n      class: \"search-input\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.memberSearchQuery]]), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[13] || (_cache[13] = (...args) => $setup.searchUsers && $setup.searchUsers(...args)),\n      class: \"search-btn\"\n    }, _cache[41] || (_cache[41] = [_createElementVNode(\"i\", {\n      class: \"fas fa-search\"\n    }, null, -1 /* HOISTED */)]))])]), $setup.searchResults.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [_cache[43] || (_cache[43] = _createElementVNode(\"h3\", null, \"Résultats de recherche\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_36, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.searchResults, user => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: user._id,\n        class: _normalizeClass([\"user-item\", {\n          'selected': $setup.selectedUser && $setup.selectedUser._id === user._id\n        }]),\n        onClick: $event => $setup.selectUser(user)\n      }, [_createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"i\", {\n        class: _normalizeClass($setup.getGenderIcon(user.genre))\n      }, null, 2 /* CLASS */)]), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, _toDisplayString(user.nom) + \" \" + _toDisplayString(user.prenom), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_41, _toDisplayString(user.login), 1 /* TEXT */)])], 10 /* CLASS, PROPS */, _hoisted_37);\n    }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true), !$setup.selectedUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_42, _cache[44] || (_cache[44] = [_createElementVNode(\"div\", {\n      class: \"separator\"\n    }, [_createElementVNode(\"span\", null, \"ou créer une nouvelle personne\")], -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), !$setup.selectedUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_43, [_createElementVNode(\"div\", _hoisted_44, [_cache[45] || (_cache[45] = _createElementVNode(\"label\", null, \"Nom :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $setup.newPersonForm.nom = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newPersonForm.nom]])]), _createElementVNode(\"div\", _hoisted_45, [_cache[46] || (_cache[46] = _createElementVNode(\"label\", null, \"Prénom :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $setup.newPersonForm.prenom = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newPersonForm.prenom]])]), _createElementVNode(\"div\", _hoisted_46, [_cache[48] || (_cache[48] = _createElementVNode(\"label\", null, \"Genre :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $setup.newPersonForm.genre = $event)\n    }, _cache[47] || (_cache[47] = [_createElementVNode(\"option\", {\n      value: \"Homme\"\n    }, \"Homme\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"Femme\"\n    }, \"Femme\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"Non spécifié\"\n    }, \"Non spécifié\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.newPersonForm.genre]])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_47, [_createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"save-btn\",\n      disabled: !$setup.selectedUser && (!$setup.newPersonForm.nom || !$setup.newPersonForm.prenom)\n    }, \" Ajouter à la famille \", 8 /* PROPS */, _hoisted_48), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[17] || (_cache[17] = (...args) => $setup.closeAddMemberModal && $setup.closeAddMemberModal(...args)),\n      class: \"cancel-btn\"\n    }, \"Annuler\")])], 32 /* NEED_HYDRATION */), $setup.memberMessage ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: _normalizeClass({\n        'success-msg': $setup.memberSuccess,\n        'error-msg': !$setup.memberSuccess\n      })\n    }, _toDisplayString($setup.memberMessage), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Notification \"), $setup.showNotification ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 3,\n      class: \"notification\",\n      onClick: _cache[21] || (_cache[21] = $event => $setup.showNotification = false)\n    }, [_createElementVNode(\"div\", {\n      class: _normalizeClass([\"notification-content\", [`notification-${$setup.notificationType}`]]),\n      onClick: _cache[20] || (_cache[20] = _withModifiers(() => {}, [\"stop\"]))\n    }, [_createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"i\", {\n      class: _normalizeClass($setup.getNotificationIcon())\n    }, null, 2 /* CLASS */)]), _createElementVNode(\"div\", _hoisted_50, [_createElementVNode(\"p\", null, _toDisplayString($setup.notificationMessage), 1 /* TEXT */), $setup.notificationHtmlContent ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      innerHTML: $setup.notificationHtmlContent\n    }, null, 8 /* PROPS */, _hoisted_51)) : _createCommentVNode(\"v-if\", true)]), $setup.notificationActions ? (_openBlock(), _createElementBlock(\"div\", _hoisted_52, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.notificationActions, (action, index) => {\n      return _openBlock(), _createElementBlock(\"button\", {\n        key: index,\n        class: _normalizeClass(['notification-btn', action.type]),\n        onClick: action.handler\n      }, _toDisplayString(action.text), 11 /* TEXT, CLASS, PROPS */, _hoisted_53);\n    }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_54, [_createElementVNode(\"button\", {\n      onClick: _cache[19] || (_cache[19] = $event => $setup.showNotification = false),\n      class: \"notification-close\"\n    }, \"Fermer\")]))], 2 /* CLASS */)])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","key","_createBlock","_component_AppLayout","default","_withCtx","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","type","_cache","$event","$setup","searchQuery","placeholder","onClick","args","openAddFamilleModal","_createTextVNode","message","_createElementBlock","_normalizeClass","messageSuccess","_createCommentVNode","_hoisted_4","_Fragment","_renderList","filteredFamilies","famille","_id","_toDisplayString","codeFamille","nom","description","_hoisted_5","getMembresValidesCount","formatDate","createdAt","_hoisted_6","editFamille","title","_hoisted_7","viewMembers","_hoisted_8","confirmDelete","_hoisted_9","showModal","_hoisted_10","_hoisted_11","editingFamille","onSubmit","_withModifiers","saveFamille","_hoisted_12","form","required","disabled","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","closeModal","formMessage","formSuccess","showMembersModal","_hoisted_17","_hoisted_18","_hoisted_19","selectedFamille","openAddMemberModal","_hoisted_20","_hoisted_21","memberFilterQuery","_hoisted_22","filteredFamilyMembers","length","_hoisted_23","_hoisted_24","member","_hoisted_25","src","getPhotoUrl","photo","alt","_hoisted_26","prenom","login","niveau","role","removeMember","_hoisted_27","familyMembers","_hoisted_28","_hoisted_29","_hoisted_30","closeMembersModal","showAddMemberModal","_hoisted_31","_hoisted_32","addMemberToFamily","_hoisted_33","_hoisted_34","memberSearchQuery","searchUsers","searchResults","_hoisted_35","_hoisted_36","user","selectedUser","selectUser","_hoisted_38","getGenderIcon","genre","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_37","_hoisted_42","_hoisted_43","_hoisted_44","newPersonForm","_hoisted_45","_hoisted_46","value","_hoisted_47","_hoisted_48","closeAddMemberModal","memberMessage","memberSuccess","showNotification","notificationType","_hoisted_49","getNotificationIcon","_hoisted_50","notificationMessage","notificationHtmlContent","innerHTML","_hoisted_51","notificationActions","_hoisted_52","action","index","handler","text","_hoisted_53","_hoisted_54","_"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\AdminFamilies.vue"],"sourcesContent":["<template>\r\n  <AppLayout>\r\n    <div class=\"admin-families-container\">\r\n      <h1 class=\"page-title\">Gestion des familles</h1>\r\n\r\n      <div class=\"actions-bar\">\r\n        <div class=\"search-box\">\r\n          <input\r\n              type=\"text\"\r\n              v-model=\"searchQuery\"\r\n              placeholder=\"Rechercher...\"\r\n              class=\"search-input\"\r\n          />\r\n        </div>\r\n        <button @click=\"openAddFamilleModal\" class=\"add-famille-btn\">\r\n          <i class=\"fas fa-plus\"></i> Ajouter une famille\r\n        </button>\r\n      </div>\r\n      <div v-if=\"message\" :class=\"{'success-msg': messageSuccess, 'error-msg': !messageSuccess}\">\r\n        {{ message }}\r\n      </div>\r\n\r\n      <div class=\"families-table\">\r\n        <table>\r\n          <thead>\r\n          <tr>\r\n            <th>Code Famille</th>\r\n            <th>Nom</th>\r\n            <th>Description</th>\r\n            <th>Membres</th>\r\n            <th>Créée le</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"famille in filteredFamilies\" :key=\"famille._id\">\r\n            <td><strong>{{ famille.codeFamille }}</strong></td>\r\n            <td>{{ famille.nom || '-' }}</td>\r\n            <td>{{ famille.description || '-' }}</td>\r\n            <td>\r\n              <span class=\"badge-members\">{{ getMembresValidesCount(famille) }}</span>\r\n            </td>\r\n            <td>{{ formatDate(famille.createdAt) }}</td>\r\n            <td class=\"actions-cell\">\r\n              <button @click=\"editFamille(famille)\" class=\"action-btn edit\" title=\"Modifier\">\r\n                <i class=\"fas fa-edit\"></i>\r\n              </button>\r\n              <button @click=\"viewMembers(famille)\" class=\"action-btn view\" title=\"Voir les membres\">\r\n                <i class=\"fas fa-users\"></i>\r\n              </button>\r\n              <button @click=\"confirmDelete(famille)\" class=\"action-btn delete\" title=\"Supprimer\">\r\n                <i class=\"fas fa-trash\"></i>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal pour éditer/ajouter une famille -->\r\n    <div v-if=\"showModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h2>{{ editingFamille ? 'Modifier' : 'Ajouter' }} une famille</h2>\r\n        <form @submit.prevent=\"saveFamille\">\r\n          <div class=\"form-row\">\r\n            <label>Code Famille :</label>\r\n            <input v-model=\"form.codeFamille\" type=\"text\" required :disabled=\"editingFamille\" />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Nom de la famille :</label>\r\n            <input v-model=\"form.nom\" type=\"text\" required placeholder=\"Ex: Famille Dupont\" />\r\n          </div>\r\n          <div class=\"form-row\">\r\n            <label>Description :</label>\r\n            <textarea v-model=\"form.description\" placeholder=\"Description de la famille (optionnelle)\"></textarea>\r\n          </div>\r\n          <div class=\"modal-actions\">\r\n            <button type=\"submit\" class=\"save-btn\">Enregistrer</button>\r\n            <button type=\"button\" @click=\"closeModal\" class=\"cancel-btn\">Annuler</button>\r\n          </div>\r\n        </form>\r\n        <div v-if=\"formMessage\" :class=\"{'success-msg': formSuccess, 'error-msg': !formSuccess}\">{{ formMessage }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal pour voir les membres -->\r\n    <div v-if=\"showMembersModal\" class=\"modal\">\r\n      <div class=\"modal-content members-modal\">\r\n        <div class=\"modal-header\">\r\n          <h2>Membres de la famille {{ selectedFamille?.nom || selectedFamille?.codeFamille }}</h2>\r\n          <button type=\"button\" @click=\"openAddMemberModal\" class=\"add-member-btn\">\r\n            <i class=\"fas fa-user-plus\"></i> Ajouter un membre\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Barre de recherche pour filtrer les membres -->\r\n        <div class=\"members-search-bar\">\r\n          <div class=\"search-container\">\r\n            <input\r\n                type=\"text\"\r\n                v-model=\"memberFilterQuery\"\r\n                placeholder=\"Rechercher un membre...\"\r\n                class=\"search-input\"\r\n            />\r\n            <span class=\"search-icon\">\r\n              <i class=\"fas fa-search\"></i>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"selectedFamille\">\r\n          <div v-if=\"filteredFamilyMembers.length > 0\">\r\n            <table class=\"members-table\">\r\n              <thead>\r\n              <tr>\r\n                <th>Photo</th>\r\n                <th>Nom</th>\r\n                <th>Prénom</th>\r\n                <th>Login</th>\r\n                <th>Niveau</th>\r\n                <th>Rôle</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"member in filteredFamilyMembers\" :key=\"member._id\">\r\n                <td>\r\n                  <div class=\"member-avatar\">\r\n                    <img :src=\"getPhotoUrl(member.photo, member._id)\" class=\"member-avatar\" alt=\"Avatar\">\r\n                  </div>\r\n                </td>\r\n                <td>{{ member.nom }}</td>\r\n                <td>{{ member.prenom }}</td>\r\n                <td>{{ member.login || '-' }}</td>\r\n                <td>{{ member.niveau || '-' }}</td>\r\n                <td>{{ member.role || '-' }}</td>\r\n                <td>\r\n                  <button @click=\"removeMember(member)\" class=\"action-btn delete\" title=\"Retirer de la famille\">\r\n                    <i class=\"fas fa-user-minus\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div v-else-if=\"familyMembers.length > 0 && filteredFamilyMembers.length === 0\" class=\"no-results\">\r\n            <i class=\"fas fa-search\"></i>\r\n            <p>Aucun membre ne correspond à votre recherche</p>\r\n            <button @click=\"memberFilterQuery = ''\" class=\"reset-search-btn\">\r\n              Réinitialiser la recherche\r\n            </button>\r\n          </div>\r\n          <div v-else class=\"no-members\">\r\n            <i class=\"fas fa-users-slash\"></i>\r\n            <p>Aucun membre dans cette famille</p>\r\n            <button @click=\"openAddMemberModal\" class=\"add-member-btn-empty\">\r\n              <i class=\"fas fa-user-plus\"></i> Ajouter un membre\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-actions\">\r\n          <button type=\"button\" @click=\"closeMembersModal\" class=\"cancel-btn\">Fermer</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal pour ajouter un membre à la famille -->\r\n    <div v-if=\"showAddMemberModal\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h2>Ajouter un membre à la famille {{ selectedFamille?.codeFamille }}</h2>\r\n        <form @submit.prevent=\"addMemberToFamily\">\r\n          <div class=\"form-row\">\r\n            <label>Rechercher un utilisateur existant :</label>\r\n            <div class=\"search-container\">\r\n              <input\r\n                  type=\"text\"\r\n                  v-model=\"memberSearchQuery\"\r\n                  placeholder=\"Rechercher par nom, prénom ou login...\"\r\n                  class=\"search-input\"\r\n              />\r\n              <button type=\"button\" @click=\"searchUsers\" class=\"search-btn\">\r\n                <i class=\"fas fa-search\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"searchResults.length > 0\" class=\"search-results\">\r\n            <h3>Résultats de recherche</h3>\r\n            <div class=\"users-list\">\r\n              <div\r\n                  v-for=\"user in searchResults\"\r\n                  :key=\"user._id\"\r\n                  class=\"user-item\"\r\n                  @click=\"selectUser(user)\"\r\n                  :class=\"{'selected': selectedUser && selectedUser._id === user._id}\"\r\n              >\r\n                <div class=\"user-icon\">\r\n                  <i :class=\"getGenderIcon(user.genre)\"></i>\r\n                </div>\r\n                <div class=\"user-info\">\r\n                  <div class=\"user-name\">{{ user.nom }} {{ user.prenom }}</div>\r\n                  <div class=\"user-login\">{{ user.login }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-row\" v-if=\"!selectedUser\">\r\n            <div class=\"separator\">\r\n              <span>ou créer une nouvelle personne</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div v-if=\"!selectedUser\">\r\n            <div class=\"form-row\">\r\n              <label>Nom :</label>\r\n              <input v-model=\"newPersonForm.nom\" type=\"text\" required />\r\n            </div>\r\n            <div class=\"form-row\">\r\n              <label>Prénom :</label>\r\n              <input v-model=\"newPersonForm.prenom\" type=\"text\" required />\r\n            </div>\r\n            <div class=\"form-row\">\r\n              <label>Genre :</label>\r\n              <select v-model=\"newPersonForm.genre\">\r\n                <option value=\"Homme\">Homme</option>\r\n                <option value=\"Femme\">Femme</option>\r\n                <option value=\"Non spécifié\">Non spécifié</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-actions\">\r\n            <button\r\n                type=\"submit\"\r\n                class=\"save-btn\"\r\n                :disabled=\"!selectedUser && (!newPersonForm.nom || !newPersonForm.prenom)\"\r\n            >\r\n              Ajouter à la famille\r\n            </button>\r\n            <button type=\"button\" @click=\"closeAddMemberModal\" class=\"cancel-btn\">Annuler</button>\r\n          </div>\r\n        </form>\r\n        <div v-if=\"memberMessage\" :class=\"{'success-msg': memberSuccess, 'error-msg': !memberSuccess}\">\r\n          {{ memberMessage }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Notification -->\r\n    <div v-if=\"showNotification\" class=\"notification\" @click=\"showNotification = false\">\r\n      <div class=\"notification-content\" :class=\"[`notification-${notificationType}`]\" @click.stop>\r\n        <div class=\"notification-icon\">\r\n          <i :class=\"getNotificationIcon()\"></i>\r\n        </div>\r\n        <div class=\"notification-text\">\r\n          <p>{{ notificationMessage }}</p>\r\n          <div v-if=\"notificationHtmlContent\" v-html=\"notificationHtmlContent\"></div>\r\n        </div>\r\n        <div v-if=\"notificationActions\" class=\"notification-actions\">\r\n          <button v-for=\"(action, index) in notificationActions\" :key=\"index\"\r\n                  :class=\"['notification-btn', action.type]\"\r\n                  @click=\"action.handler\">\r\n            {{ action.text }}\r\n          </button>\r\n        </div>\r\n        <div v-else class=\"notification-actions\">\r\n          <button @click=\"showNotification = false\" class=\"notification-close\">Fermer</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </AppLayout>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport AppLayout from '@/layout/AppLayoutGlobal.vue';\r\nimport api from '@/services/api';\r\nimport { getPhotoUrl } from '@/utils/photo';\r\n\r\nexport default {\r\n  name: 'AdminFamilies',\r\n  components: {\r\n    AppLayout\r\n  },\r\n  setup() {\r\n    const families = ref([]);\r\n    const searchQuery = ref('');\r\n    const showModal = ref(false);\r\n    const editingFamille = ref(null);\r\n    const form = ref({\r\n      codeFamille: '',\r\n      nom: '',\r\n      description: ''\r\n    });\r\n    const formMessage = ref('');\r\n    const formSuccess = ref(false);\r\n    const message = ref('');\r\n    const messageSuccess = ref(false);\r\n    const showMembersModal = ref(false);\r\n    const selectedFamille = ref(null);\r\n    const familyMembers = ref([]);\r\n\r\n    // Compteur de membres valides par famille\r\n    const membresValidesCount = ref({});\r\n\r\n    // Nouveaux états pour l'ajout de membres\r\n    const showAddMemberModal = ref(false);\r\n    const memberSearchQuery = ref('');\r\n    const searchResults = ref([]);\r\n    const selectedUser = ref(null);\r\n    const newPersonForm = ref({\r\n      nom: '',\r\n      prenom: '',\r\n      genre: 'Non spécifié'\r\n    });\r\n    const memberMessage = ref('');\r\n    const memberSuccess = ref(false);\r\n\r\n    // Recherche de membres dans la famille\r\n    const memberFilterQuery = ref('');\r\n    const filteredFamilyMembers = computed(() => {\r\n      if (!memberFilterQuery.value.trim()) {\r\n        return familyMembers.value;\r\n      }\r\n\r\n      const query = memberFilterQuery.value.toLowerCase().trim();\r\n      return familyMembers.value.filter(member =>\r\n          member.nom?.toLowerCase().includes(query) ||\r\n          member.prenom?.toLowerCase().includes(query) ||\r\n          member.login?.toLowerCase().includes(query) ||\r\n          (member.role?.toLowerCase().includes(query)) ||\r\n          (member.niveau?.toLowerCase().includes(query))\r\n      );\r\n    });\r\n\r\n    // Notifications\r\n    const showNotification = ref(false);\r\n    const notificationMessage = ref('');\r\n    const notificationType = ref('info'); // 'success', 'error', 'warning', 'info'\r\n    const notificationDuration = ref(3000);\r\n    const notificationHtmlContent = ref('');\r\n    const notificationActions = ref([]);\r\n\r\n    const displayNotification = (message, type = 'info', duration = 3000, htmlContent = '', actions = null) => {\r\n      notificationMessage.value = message;\r\n      notificationType.value = type;\r\n      notificationDuration.value = duration;\r\n      notificationHtmlContent.value = htmlContent;\r\n      notificationActions.value = actions || [];\r\n      showNotification.value = true;\r\n\r\n      // Fermer automatiquement après la durée spécifiée\r\n      if (duration > 0) {\r\n        setTimeout(() => {\r\n          showNotification.value = false;\r\n        }, duration);\r\n      }\r\n    };\r\n\r\n    const loadFamilies = async () => {\r\n      try {\r\n        const response = await api.get('/familles');\r\n        families.value = response.data;\r\n\r\n        // Charger les compteurs de membres valides\r\n        await loadMembresValidesCount();\r\n      } catch (error) {\r\n        console.error('Erreur lors du chargement des familles:', error);\r\n        message.value = 'Erreur lors du chargement des familles';\r\n        messageSuccess.value = false;\r\n      }\r\n    };\r\n\r\n    const loadMembresValidesCount = async () => {\r\n      try {\r\n        const response = await api.get('/familles/membres-count');\r\n        membresValidesCount.value = response.data;\r\n      } catch (error) {\r\n        console.error('Erreur lors du chargement des compteurs de membres:', error);\r\n      }\r\n    };\r\n\r\n    const filteredFamilies = computed(() => {\r\n      if (!searchQuery.value) return families.value;\r\n      const query = searchQuery.value.toLowerCase();\r\n      return families.value.filter(famille =>\r\n          famille.codeFamille?.toLowerCase().includes(query) ||\r\n          famille.nom?.toLowerCase().includes(query) ||\r\n          famille.description?.toLowerCase().includes(query)\r\n      );\r\n    });\r\n\r\n    const formatDate = (dateString) => {\r\n      if (!dateString) return '-';\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('fr-FR');\r\n    };\r\n\r\n    const getGenderIcon = (genre) => {\r\n      switch (genre) {\r\n        case 'Homme':\r\n          return 'fas fa-male';\r\n        case 'Femme':\r\n          return 'fas fa-female';\r\n        default:\r\n          return 'fas fa-user';\r\n      }\r\n    };\r\n\r\n    const editFamille = (famille) => {\r\n      editingFamille.value = famille;\r\n      form.value = {\r\n        codeFamille: famille.codeFamille,\r\n        nom: famille.nom || '',\r\n        description: famille.description || ''\r\n      };\r\n      formMessage.value = '';\r\n      showModal.value = true;\r\n    };\r\n\r\n    const openAddFamilleModal = () => {\r\n      editingFamille.value = null;\r\n      showModal.value = true;\r\n      form.value = {\r\n        codeFamille: '',\r\n        nom: '',\r\n        description: ''\r\n      };\r\n      formMessage.value = '';\r\n    };\r\n\r\n    const closeModal = () => {\r\n      showModal.value = false;\r\n      editingFamille.value = null;\r\n    };\r\n\r\n    const saveFamille = async () => {\r\n      try {\r\n        formMessage.value = '';\r\n\r\n        const familleData = {\r\n          codeFamille: form.value.codeFamille.trim(),\r\n          nom: form.value.nom.trim(),\r\n          description: form.value.description?.trim() || ''\r\n        };\r\n\r\n        let response;\r\n        if (editingFamille.value) {\r\n          response = await api.put(`/familles/${editingFamille.value._id}`, familleData);\r\n        } else {\r\n          response = await api.post('/familles', familleData);\r\n        }\r\n\r\n        if (response.data) {\r\n          formMessage.value = editingFamille.value ?\r\n              'Famille modifiée avec succès !' :\r\n              'Famille ajoutée avec succès !';\r\n          formSuccess.value = true;\r\n          await loadFamilies();\r\n          setTimeout(() => closeModal(), 1500);\r\n        }\r\n      } catch (err) {\r\n        let errorMessage = editingFamille.value ?\r\n            'Erreur lors de la modification de la famille' :\r\n            'Erreur lors de la création de la famille';\r\n\r\n        if (err.response?.data?.message) {\r\n          errorMessage = err.response.data.message;\r\n        }\r\n\r\n        formMessage.value = errorMessage;\r\n        formSuccess.value = false;\r\n      }\r\n    };\r\n\r\n    const confirmDelete = async (famille) => {\r\n      // Actions pour les boutons\r\n      const actions = [\r\n        {\r\n          text: 'Oui, supprimer',\r\n          type: 'confirm',\r\n          handler: async () => {\r\n            showNotification.value = false;\r\n\r\n            try {\r\n              // D'abord vérifier si la famille a des membres\r\n              const response = await api.get(`/familles/${famille._id}/membres`);\r\n              const membres = response.data;\r\n\r\n              // Choix de suppression selon les cas\r\n              if (membres.length > 0) {\r\n                // Proposer des options si la famille a des membres\r\n                const optionsActions = [\r\n                  {\r\n                    text: 'Supprimer tout',\r\n                    type: 'danger',\r\n                    handler: async () => {\r\n                      showNotification.value = false;\r\n                      // Supprimer la famille ET les personnes\r\n                      await deleteFamilleWithOptions(famille, true, false);\r\n                    }\r\n                  },\r\n                  {\r\n                    text: 'Conserver les personnes',\r\n                    type: 'warning',\r\n                    handler: async () => {\r\n                      showNotification.value = false;\r\n                      // Supprimer la famille mais conserver les personnes\r\n                      await deleteFamilleWithOptions(famille, true, true);\r\n                    }\r\n                  },\r\n                  {\r\n                    text: 'Annuler',\r\n                    type: 'cancel',\r\n                    handler: () => {\r\n                      showNotification.value = false;\r\n                    }\r\n                  }\r\n                ];\r\n\r\n                displayNotification(\r\n                    `La famille ${famille.codeFamille} contient ${membres.length} membre(s). Souhaitez-vous supprimer également les personnes associées?`,\r\n                    'warning',\r\n                    0,\r\n                    '',\r\n                    optionsActions\r\n                );\r\n              } else {\r\n                // Pas de membres, supprimer directement\r\n                await deleteFamilleWithOptions(famille, false, true);\r\n              }\r\n            } catch (error) {\r\n              console.error('Erreur lors de la suppression:', error);\r\n              if (error.response?.data?.hasUsers) {\r\n                // Si la famille a des utilisateurs, proposer la suppression forcée\r\n                const forceActions = [\r\n                  {\r\n                    text: 'Forcer la suppression',\r\n                    type: 'warning',\r\n                    handler: async () => {\r\n                      showNotification.value = false;\r\n                      // Suppression forcée\r\n                      await deleteFamilleWithOptions(famille, true, true);\r\n                    }\r\n                  },\r\n                  {\r\n                    text: 'Annuler',\r\n                    type: 'cancel',\r\n                    handler: () => {\r\n                      showNotification.value = false;\r\n                    }\r\n                  }\r\n                ];\r\n\r\n                displayNotification(\r\n                    `La famille ne peut pas être supprimée car elle contient des utilisateurs associés (${error.response.data.count}). Voulez-vous tout de même forcer la suppression ? Les utilisateurs seront dissociés de cette famille.`,\r\n                    'error',\r\n                    0,\r\n                    '',\r\n                    forceActions\r\n                );\r\n              } else {\r\n                displayNotification(\r\n                    error.response?.data?.message || \"Erreur lors de la suppression de la famille.\",\r\n                    'error',\r\n                    3000\r\n                );\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          text: 'Annuler',\r\n          type: 'cancel',\r\n          handler: () => {\r\n            showNotification.value = false;\r\n          }\r\n        }\r\n      ];\r\n\r\n      // Affichage du choix de confirmation modal personnalisé\r\n      displayNotification(\r\n          `Êtes-vous sûr de vouloir supprimer la famille ${famille.codeFamille} ?`,\r\n          'warning',\r\n          0, // 0 = ne pas fermer automatiquement\r\n          '',\r\n          actions\r\n      );\r\n    };\r\n\r\n    const deleteFamilleWithOptions = async (famille, forcerSuppression, conserverPersonnes) => {\r\n      try {\r\n        // Construire l'URL avec les paramètres\r\n        let deleteUrl = `/familles/${famille._id}`;\r\n        if (forcerSuppression) {\r\n          deleteUrl += `?forcerSuppression=true&conserverPersonnes=${conserverPersonnes}`;\r\n        }\r\n\r\n        // Afficher un message de chargement\r\n        displayNotification('Suppression en cours...', 'info', 0);\r\n\r\n        // Appeler l'API de suppression\r\n        const deleteResponse = await api.delete(deleteUrl);\r\n\r\n        // Fermer la notification de chargement\r\n        showNotification.value = false;\r\n\r\n        // Traiter la réponse\r\n        if (deleteResponse.data) {\r\n          let successMessage = 'Famille supprimée avec succès !';\r\n\r\n          // Ajouter des détails à la confirmation\r\n          if (deleteResponse.data.membresCount > 0) {\r\n            successMessage += deleteResponse.data.personnesConservees ?\r\n                ' Les personnes ont été conservées.' :\r\n                ` ${deleteResponse.data.membresCount} personne(s) ont également été supprimées.`;\r\n          }\r\n\r\n          // Afficher le message de succès\r\n          displayNotification(successMessage, 'success', 3000);\r\n\r\n          // Recharger la liste des familles\r\n          await loadFamilies();\r\n        }\r\n      } catch (error) {\r\n        console.error('Erreur lors de la suppression forcée:', error);\r\n        displayNotification(\r\n            error.response?.data?.message || \"Erreur lors de la suppression de la famille.\",\r\n            'error',\r\n            3000\r\n        );\r\n      }\r\n    };\r\n\r\n    const viewMembers = async (famille) => {\r\n      selectedFamille.value = famille;\r\n      showMembersModal.value = true;\r\n      memberFilterQuery.value = '';\r\n      await loadFamilyMembers();\r\n    };\r\n\r\n    const loadFamilyMembers = async () => {\r\n      if (!selectedFamille.value) return;\r\n\r\n      try {\r\n        console.log(`Chargement des membres pour la famille: ${selectedFamille.value.codeFamille} (ID: ${selectedFamille.value._id})`);\r\n        const response = await api.get(`/familles/${selectedFamille.value._id}/membres`);\r\n        console.log('Réponse API membres:', response.data);\r\n        familyMembers.value = response.data;\r\n        console.log(`Nombre de membres chargés: ${familyMembers.value.length}`);\r\n      } catch (error) {\r\n        console.error('Erreur lors du chargement des membres:', error);\r\n        familyMembers.value = [];\r\n      }\r\n    };\r\n\r\n    const closeMembersModal = () => {\r\n      showMembersModal.value = false;\r\n      selectedFamille.value = null;\r\n      familyMembers.value = [];\r\n      memberFilterQuery.value = '';\r\n    };\r\n\r\n    // Nouveaux méthodes pour la gestion des membres\r\n    const openAddMemberModal = () => {\r\n      showAddMemberModal.value = true;\r\n      memberSearchQuery.value = '';\r\n      searchResults.value = [];\r\n      selectedUser.value = null;\r\n      newPersonForm.value = {\r\n        nom: '',\r\n        prenom: '',\r\n        genre: 'Non spécifié'\r\n      };\r\n      memberMessage.value = '';\r\n    };\r\n\r\n    const closeAddMemberModal = () => {\r\n      showAddMemberModal.value = false;\r\n      memberSearchQuery.value = '';\r\n      searchResults.value = [];\r\n      selectedUser.value = null;\r\n    };\r\n\r\n    const searchUsers = async () => {\r\n      if (!memberSearchQuery.value.trim()) return;\r\n\r\n      try {\r\n        const response = await api.get(`/users/search?query=${memberSearchQuery.value}`);\r\n        searchResults.value = response.data;\r\n      } catch (error) {\r\n        console.error('Erreur lors de la recherche d\\'utilisateurs:', error);\r\n        searchResults.value = [];\r\n      }\r\n    };\r\n\r\n    const selectUser = (user) => {\r\n      selectedUser.value = user;\r\n    };\r\n\r\n    const addMemberToFamily = async () => {\r\n      if (!selectedFamille.value) return;\r\n\r\n      try {\r\n        memberMessage.value = '';\r\n\r\n        let personneId;\r\n\r\n        if (selectedUser.value) {\r\n          // Ajouter un utilisateur existant\r\n          personneId = selectedUser.value.personne;\r\n        } else {\r\n          // Créer une nouvelle personne\r\n          const newPersonne = {\r\n            nom: newPersonForm.value.nom.trim(),\r\n            prenom: newPersonForm.value.prenom.trim(),\r\n            genre: newPersonForm.value.genre\r\n          };\r\n\r\n          const response = await api.post('/personnes', newPersonne);\r\n          personneId = response.data._id;\r\n        }\r\n\r\n        // Ajouter la personne à la famille\r\n        try {\r\n          await api.put(`/familles/${selectedFamille.value._id}/membres`, {\r\n            personneId\r\n          });\r\n\r\n          memberMessage.value = 'Membre ajouté avec succès !';\r\n          memberSuccess.value = true;\r\n\r\n          // Recharger les membres\r\n          await loadFamilyMembers();\r\n\r\n          // Mettre à jour le compteur de membres valides\r\n          await loadMembresValidesCount();\r\n\r\n          // Fermer la modal après un court délai\r\n          setTimeout(() => {\r\n            closeAddMemberModal();\r\n          }, 1500);\r\n        } catch (error) {\r\n          if (error.response?.data?.message.includes(\"appartient déjà à une autre famille\")) {\r\n            const autreFamille = error.response.data.famille;\r\n            memberMessage.value = `Cette personne appartient déjà à la famille ${autreFamille.codeFamille} (${autreFamille.nom})`;\r\n          } else {\r\n            memberMessage.value = error.response?.data?.message || \"Erreur lors de l'ajout du membre\";\r\n          }\r\n          memberSuccess.value = false;\r\n        }\r\n\r\n      } catch (error) {\r\n        let errorMessage = \"Erreur lors de l'ajout du membre\";\r\n\r\n        if (error.response?.data?.message) {\r\n          errorMessage = error.response.data.message;\r\n        }\r\n\r\n        memberMessage.value = errorMessage;\r\n        memberSuccess.value = false;\r\n      }\r\n    };\r\n\r\n    const removeMember = async (member) => {\r\n      console.log('Removing member:', member);\r\n\r\n      // Préparer les options en fonction du type d'utilisateur\r\n      const hasUserAccount = member.login && member.role;\r\n      const confirmationText = `Souhaitez-vous retirer ${member.prenom} ${member.nom} de cette famille ?`;\r\n\r\n      const modalContent = `\r\n        <div class=\"confirmation-details\">\r\n          <div class=\"member-info\">\r\n            <div class=\"member-info-item\"><strong>Nom:</strong> ${member.nom} ${member.prenom}</div>\r\n            ${hasUserAccount ? `<div class=\"member-info-item\"><strong>Login:</strong> ${member.login}</div>` : ''}\r\n            ${hasUserAccount ? `<div class=\"member-info-item\"><strong>Rôle:</strong> ${member.role}</div>` : ''}\r\n            ${hasUserAccount ? `<div class=\"member-info-item\"><strong>Niveau:</strong> ${member.niveau}</div>` : ''}\r\n            ${hasUserAccount ? `\r\n            <div class=\"member-warning\">\r\n              <i class=\"fas fa-exclamation-triangle\"></i> Cette personne possède un compte utilisateur. Le retirer de la famille pourrait affecter son accès à certaines fonctionnalités.\r\n            </div>` : ''}\r\n          </div>\r\n        </div>\r\n      `;\r\n\r\n      // Actions pour les boutons\r\n      const actions = [\r\n        {\r\n          text: 'Retirer de la famille',\r\n          type: 'warning',\r\n          handler: async () => {\r\n            showNotification.value = false;\r\n\r\n            try {\r\n              // Afficher une indication de chargement\r\n              displayNotification(\r\n                  `Retrait de ${member.prenom} ${member.nom} en cours...`,\r\n                  'info',\r\n                  0\r\n              );\r\n\r\n              // Appel API avec paramètre pour conserver la personne\r\n              const response = await api.delete(\r\n                  `familles/${selectedFamille.value._id}/membres/${member._id}?conserverPersonne=true`\r\n              );\r\n\r\n              // Fermer la notification de chargement\r\n              showNotification.value = false;\r\n\r\n              if (response.data.familleDeleted) {\r\n                displayNotification(\r\n                    `${member.prenom} ${member.nom} a été retiré. La famille a été supprimée car elle n'avait plus de membres.`,\r\n                    'success',\r\n                    5000\r\n                );\r\n                loadFamilies();\r\n                closeMembersModal();\r\n              } else {\r\n                displayNotification(\r\n                    `${member.prenom} ${member.nom} a été retiré de la famille. ${response.data.remainingMembers} membre(s) restant(s).`,\r\n                    'success',\r\n                    5000\r\n                );\r\n                loadFamilyMembers();\r\n\r\n                // Mettre à jour le compteur de membres valides\r\n                await loadMembresValidesCount();\r\n              }\r\n            } catch (error) {\r\n              console.error('Error removing member:', error);\r\n              displayNotification(\r\n                  `Erreur lors du retrait du membre: ${error.response?.data?.message || error.message}`,\r\n                  'error',\r\n                  5000\r\n              );\r\n            }\r\n          }\r\n        },\r\n        {\r\n          text: 'Annuler',\r\n          type: 'cancel',\r\n          handler: () => {\r\n            showNotification.value = false;\r\n          }\r\n        }\r\n      ];\r\n\r\n      // Utiliser la notification avancée avec les actions\r\n      displayNotification(\r\n          confirmationText,\r\n          'warning',\r\n          0, // Ne pas fermer automatiquement\r\n          modalContent,\r\n          actions\r\n      );\r\n    };\r\n\r\n    const getNotificationIcon = () => {\r\n      switch (notificationType.value) {\r\n        case 'success':\r\n          return 'fas fa-check-circle';\r\n        case 'error':\r\n          return 'fas fa-exclamation-circle';\r\n        case 'warning':\r\n          return 'fas fa-exclamation-triangle';\r\n        default:\r\n          return 'fas fa-info-circle';\r\n      }\r\n    };\r\n\r\n    const getMembresValidesCount = (famille) => {\r\n      if (!famille || !famille._id) return 0;\r\n\r\n      // Utiliser le compteur exact provenant de l'API\r\n      if (membresValidesCount.value && membresValidesCount.value[famille._id]) {\r\n        return membresValidesCount.value[famille._id];\r\n      }\r\n\r\n      // Fallback : filtrer les membres qui ont une référence personne valide\r\n      if (famille.membres) {\r\n        return famille.membres.filter(membre => membre.personne && membre.personne._id).length;\r\n      }\r\n\r\n      return 0;\r\n    };\r\n\r\n    onMounted(() => {\r\n      loadFamilies();\r\n    });\r\n\r\n    return {\r\n      families,\r\n      searchQuery,\r\n      filteredFamilies,\r\n      showModal,\r\n      editingFamille,\r\n      editFamille,\r\n      openAddFamilleModal,\r\n      closeModal,\r\n      confirmDelete,\r\n      saveFamille,\r\n      form,\r\n      formMessage,\r\n      formSuccess,\r\n      message,\r\n      messageSuccess,\r\n      showMembersModal,\r\n      selectedFamille,\r\n      familyMembers,\r\n      viewMembers,\r\n      closeMembersModal,\r\n      formatDate,\r\n      getGenderIcon,\r\n      // Nouvelles propriétés et méthodes\r\n      showAddMemberModal,\r\n      memberSearchQuery,\r\n      searchResults,\r\n      selectedUser,\r\n      newPersonForm,\r\n      memberMessage,\r\n      memberSuccess,\r\n      openAddMemberModal,\r\n      closeAddMemberModal,\r\n      searchUsers,\r\n      selectUser,\r\n      addMemberToFamily,\r\n      removeMember,\r\n      // Notifications\r\n      showNotification,\r\n      notificationMessage,\r\n      notificationType,\r\n      displayNotification,\r\n      getNotificationIcon,\r\n      notificationHtmlContent,\r\n      notificationActions,\r\n      memberFilterQuery,\r\n      filteredFamilyMembers,\r\n      getMembresValidesCount,\r\n      membresValidesCount,\r\n      getPhotoUrl\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-families-container {\r\n  padding: 20px;\r\n  background-color: #f8f9fa;\r\n  min-height: calc(100vh - 40px);\r\n}\r\n\r\n.page-title {\r\n  color: #2c5038;\r\n  margin-bottom: 25px;\r\n  font-size: 1.8rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.actions-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n}\r\n\r\n.search-box {\r\n  flex: 1;\r\n  max-width: 300px;\r\n  position: relative;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  padding: 10px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: #2c5038;\r\n  outline: none;\r\n}\r\n\r\n.add-famille-btn {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.add-famille-btn:hover {\r\n  background-color: #1e3725;\r\n}\r\n\r\n.families-table {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.05);\r\n  overflow: hidden;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\nth, td {\r\n  padding: 12px 15px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\nth {\r\n  background-color: #f4f6f8;\r\n  color: #2c5038;\r\n  font-weight: 600;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.badge-members {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  font-size: 0.8rem;\r\n  display: inline-block;\r\n  min-width: 25px;\r\n  text-align: center;\r\n}\r\n\r\n.actions-cell {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.action-btn {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s, background-color 0.2s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.action-btn.edit {\r\n  background-color: #2c5038;\r\n  color: white;\r\n}\r\n\r\n.action-btn.view {\r\n  background-color: #4a6fa5;\r\n  color: white;\r\n}\r\n\r\n.action-btn.delete {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.action-btn:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.action-btn.edit:hover {\r\n  background-color: #1e3725;\r\n}\r\n\r\n.action-btn.view:hover {\r\n  background-color: #3a5a84;\r\n}\r\n\r\n.action-btn.delete:hover {\r\n  background-color: #bd2130;\r\n}\r\n\r\n.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background-color: white;\r\n  padding: 25px;\r\n  border-radius: 8px;\r\n  width: 500px;\r\n  max-width: 90%;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.members-modal {\r\n  width: 800px;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: #2c5038;\r\n}\r\n\r\ninput, select, textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\ninput:focus, select:focus, textarea:focus {\r\n  border-color: #2c5038;\r\n  outline: none;\r\n}\r\n\r\ntextarea {\r\n  min-height: 100px;\r\n  resize: vertical;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 25px;\r\n}\r\n\r\n.save-btn {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n}\r\n\r\n.save-btn:hover {\r\n  background-color: #1e3725;\r\n}\r\n\r\n.save-btn:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.cancel-btn:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.success-msg {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.error-msg {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.members-table {\r\n  width: 100%;\r\n  margin-top: 15px;\r\n}\r\n\r\n.member-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: #e9ecef;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #2c5038;\r\n}\r\n\r\n.no-members {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: #6c757d;\r\n}\r\n\r\n.no-members i {\r\n  font-size: 48px;\r\n  margin-bottom: 15px;\r\n  color: #dee2e6;\r\n}\r\n\r\n.no-members p {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.add-member-btn {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n}\r\n\r\n.add-member-btn:hover {\r\n  background-color: #1e3725;\r\n}\r\n\r\n.add-member-btn-empty {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.search-container {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.search-btn {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.search-results {\r\n  margin-top: 20px;\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n}\r\n\r\n.search-results h3 {\r\n  margin-bottom: 15px;\r\n  color: #2c5038;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n}\r\n\r\n.users-list {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.user-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.user-item:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.user-item.selected {\r\n  background-color: #e8f4ea;\r\n  border: 1px solid #2c5038;\r\n}\r\n\r\n.user-icon {\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: #e9ecef;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 10px;\r\n  color: #2c5038;\r\n}\r\n\r\n.user-info {\r\n  flex: 1;\r\n}\r\n\r\n.user-name {\r\n  font-weight: 500;\r\n}\r\n\r\n.user-login {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n.separator {\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: center;\r\n  margin: 20px 0;\r\n}\r\n\r\n.separator::before,\r\n.separator::after {\r\n  content: '';\r\n  flex: 1;\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.separator span {\r\n  padding: 0 10px;\r\n  color: #6c757d;\r\n  font-size: 14px;\r\n}\r\n\r\n/* Notification */\r\n.notification {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n.notification-content {\r\n  background-color: white;\r\n  padding: 25px;\r\n  border-radius: 12px;\r\n  width: 500px;\r\n  max-width: 90%;\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  animation: slideDown 0.3s ease-out;\r\n}\r\n\r\n.notification-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.notification-success .notification-icon {\r\n  color: #28a745;\r\n}\r\n\r\n.notification-error .notification-icon {\r\n  color: #dc3545;\r\n}\r\n\r\n.notification-warning .notification-icon {\r\n  color: #ffc107;\r\n}\r\n\r\n.notification-info .notification-icon {\r\n  color: #17a2b8;\r\n}\r\n\r\n.notification-text {\r\n  text-align: center;\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.notification-text p {\r\n  color: #333;\r\n  font-size: 18px;\r\n  margin: 0;\r\n  line-height: 1.5;\r\n}\r\n\r\n.notification-actions {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.notification-close {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 25px;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.notification-close:hover {\r\n  background-color: #1e3725;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; }\r\n  to { opacity: 1; }\r\n}\r\n\r\n@keyframes slideDown {\r\n  from { transform: translateY(-50px); opacity: 0; }\r\n  to { transform: translateY(0); opacity: 1; }\r\n}\r\n\r\n.notification-btn {\r\n  padding: 10px 20px;\r\n  border-radius: 6px;\r\n  border: none;\r\n  margin: 0 5px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.notification-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.2);\r\n}\r\n\r\n.notification-btn.confirm {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n\r\n.notification-btn.confirm:hover {\r\n  background-color: #218838;\r\n}\r\n\r\n.notification-btn.cancel {\r\n  background-color: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.notification-btn.cancel:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.notification-btn.danger {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.notification-btn.danger:hover {\r\n  background-color: #c82333;\r\n}\r\n\r\n.notification-btn.warning {\r\n  background-color: #ffc107;\r\n  color: #212529;\r\n}\r\n\r\n.notification-btn.warning:hover {\r\n  background-color: #e0a800;\r\n}\r\n\r\n.notification-actions {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n}\r\n\r\n.confirmation-details {\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 6px;\r\n}\r\n\r\n.member-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.member-info-item {\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.member-warning {\r\n  margin-top: 10px;\r\n  font-size: 0.85rem;\r\n  color: #721c24;\r\n  background-color: #f8d7da;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.member-warning i {\r\n  color: #dc3545;\r\n}\r\n\r\n.members-search-bar {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-container {\r\n  position: relative;\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #6c757d;\r\n}\r\n\r\n.search-input {\r\n  padding-right: 30px;\r\n}\r\n\r\n.no-results {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n  color: #6c757d;\r\n}\r\n\r\n.reset-search-btn {\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.reset-search-btn:hover {\r\n  background-color: #1e3725;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}