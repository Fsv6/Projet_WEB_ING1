{"ast":null,"code":"import authService from '../services/authService';\nexport default {\n  name: 'RegisterPage',\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      login: '',\n      email: '',\n      password: '',\n      codeFamille: '',\n      loading: false,\n      message: null,\n      photo: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files[0];\n      this.photo = file || null;\n    },\n    async handleRegister() {\n      this.loading = true;\n      this.message = null;\n      try {\n        const formData = new FormData();\n        formData.append('nom', this.nom);\n        formData.append('prenom', this.prenom);\n        formData.append('login', this.login);\n        formData.append('email', this.email);\n        formData.append('password', this.password);\n        formData.append('codeFamille', this.codeFamille);\n        if (this.photo) {\n          formData.append('photo', this.photo);\n        }\n        await authService.register(formData);\n        this.message = {\n          type: 'success',\n          text: 'Inscription réussie ! Vérifiez votre mail pour valider votre compte.'\n        };\n      } catch (error) {\n        console.error('Erreur lors de l\\'inscription:', error, error.response?.data);\n        this.message = {\n          type: 'error',\n          text: error.response?.data?.message || 'Erreur lors de l\\'inscription'\n        };\n        this.$nextTick(() => {\n          const alert = document.querySelector('.alert-error');\n          if (alert) alert.scrollIntoView({\n            behavior: 'smooth'\n          });\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["authService","name","data","nom","prenom","login","email","password","codeFamille","loading","message","photo","methods","onFileChange","e","file","target","files","handleRegister","formData","FormData","append","register","type","text","error","console","response","$nextTick","alert","document","querySelector","scrollIntoView","behavior"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div class=\"register-card\">\n      <h2>Inscription</h2>\n\n      <div v-if=\"message\" :class=\"['alert', message.type === 'success' ? 'alert-success' : 'alert-error']\">\n        {{ message.text }}\n      </div>\n\n      <form @submit.prevent=\"handleRegister\" class=\"register-form\">\n        <div class=\"form-group\">\n          <label for=\"nom\">Nom</label>\n          <input type=\"text\" id=\"nom\" v-model=\"nom\" required placeholder=\"Votre nom\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"prenom\">Prénom</label>\n          <input type=\"text\" id=\"prenom\" v-model=\"prenom\" required placeholder=\"Votre prénom\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"login\">Nom d'utilisateur</label>\n          <input type=\"text\" id=\"login\" v-model=\"login\" required placeholder=\"Votre nom d'utilisateur\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" id=\"email\" v-model=\"email\" required placeholder=\"Votre email\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"password\">Mot de passe</label>\n          <input type=\"password\" id=\"password\" v-model=\"password\" required placeholder=\"Votre mot de passe\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"codeFamille\">Code Famille</label>\n          <input type=\"text\" id=\"codeFamille\" v-model=\"codeFamille\" required placeholder=\"Ex: DUPONT2024\">\n        </div>\n\n        <div class=\"form-group\">\n          <label for=\"photo\">Photo de profil (optionnel)</label>\n          <input type=\"file\" id=\"photo\" @change=\"onFileChange\" accept=\"image/*\">\n        </div>\n\n        <button type=\"submit\" :disabled=\"loading\">\n          {{ loading ? 'Inscription en cours...' : 'S\\'inscrire' }}\n        </button>\n\n        <p class=\"login-link\">\n          Déjà inscrit ?\n          <router-link to=\"/login\">Se connecter</router-link>\n        </p>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport authService from '../services/authService';\n\nexport default {\n  name: 'RegisterPage',\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      login: '',\n      email: '',\n      password: '',\n      codeFamille: '',\n      loading: false,\n      message: null,\n      photo: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files[0];\n      this.photo = file || null;\n    },\n    async handleRegister() {\n      this.loading = true;\n      this.message = null;\n\n      try {\n        const formData = new FormData();\n        formData.append('nom', this.nom);\n        formData.append('prenom', this.prenom);\n        formData.append('login', this.login);\n        formData.append('email', this.email);\n        formData.append('password', this.password);\n        formData.append('codeFamille', this.codeFamille);\n        if (this.photo) {\n          formData.append('photo', this.photo);\n        }\n        await authService.register(formData);\n        this.message = {\n          type: 'success',\n          text: 'Inscription réussie ! Vérifiez votre mail pour valider votre compte.'\n        };\n      } catch (error) {\n        console.error('Erreur lors de l\\'inscription:', error, error.response?.data);\n        this.message = {\n          type: 'error',\n          text: error.response?.data?.message || 'Erreur lors de l\\'inscription'\n        };\n        this.$nextTick(() => {\n          const alert = document.querySelector('.alert-error');\n          if (alert) alert.scrollIntoView({ behavior: 'smooth' });\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.register-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  padding: 20px;\n}\n\n.register-card {\n  background: white;\n  padding: 30px;\n  border-radius: 10px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 400px;\n}\n\nh2 {\n  text-align: center;\n  color: #2c3e50;\n  margin-bottom: 30px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 8px;\n  color: #2c3e50;\n}\n\ninput {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 16px;\n}\n\nbutton {\n  width: 100%;\n  padding: 12px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\nbutton:hover {\n  background-color: #3aa876;\n}\n\nbutton:disabled {\n  background-color: #a8a8a8;\n  cursor: not-allowed;\n}\n\n.login-link {\n  text-align: center;\n  margin-top: 20px;\n}\n\n.login-link a {\n  color: #42b983;\n  text-decoration: none;\n}\n\n.alert {\n  padding: 12px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.alert-success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n\n.alert-error {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n</style>\n"],"mappings":"AA2DA,OAAOA,WAAU,MAAO,yBAAyB;AAEjD,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,EAAE;MACPC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,CAAC,EAAE;MACd,MAAMC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC9B,IAAI,CAACN,KAAI,GAAII,IAAG,IAAK,IAAI;IAC3B,CAAC;IACD,MAAMG,cAAcA,CAAA,EAAG;MACrB,IAAI,CAACT,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,OAAM,GAAI,IAAI;MAEnB,IAAI;QACF,MAAMS,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,KAAK,EAAE,IAAI,CAAClB,GAAG,CAAC;QAChCgB,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACjB,MAAM,CAAC;QACtCe,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAChB,KAAK,CAAC;QACpCc,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACf,KAAK,CAAC;QACpCa,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACd,QAAQ,CAAC;QAC1CY,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACb,WAAW,CAAC;QAChD,IAAI,IAAI,CAACG,KAAK,EAAE;UACdQ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,KAAK,CAAC;QACtC;QACA,MAAMX,WAAW,CAACsB,QAAQ,CAACH,QAAQ,CAAC;QACpC,IAAI,CAACT,OAAM,GAAI;UACba,IAAI,EAAE,SAAS;UACfC,IAAI,EAAE;QACR,CAAC;MACH,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,EAAEA,KAAK,CAACE,QAAQ,EAAEzB,IAAI,CAAC;QAC5E,IAAI,CAACQ,OAAM,GAAI;UACba,IAAI,EAAE,OAAO;UACbC,IAAI,EAAEC,KAAK,CAACE,QAAQ,EAAEzB,IAAI,EAAEQ,OAAM,IAAK;QACzC,CAAC;QACD,IAAI,CAACkB,SAAS,CAAC,MAAM;UACnB,MAAMC,KAAI,GAAIC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;UACpD,IAAIF,KAAK,EAAEA,KAAK,CAACG,cAAc,CAAC;YAAEC,QAAQ,EAAE;UAAS,CAAC,CAAC;QACzD,CAAC,CAAC;MACJ,UAAU;QACR,IAAI,CAACxB,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}