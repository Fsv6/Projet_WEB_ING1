{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, computed, onMounted, watch } from 'vue';\nimport AppLayout from '@/layout/AppLayoutGlobal.vue';\nimport api from '@/services/api';\nimport defaultAvatar from '@/assets/default-avatar.png';\nimport { getPhotoUrl } from '@/utils/photo';\nexport default {\n  name: 'AdminUserPoints',\n  components: {\n    AppLayout\n  },\n  setup() {\n    const users = ref([]);\n    const loading = ref(false);\n    const searchTerm = ref('');\n    const searchTimeout = ref(null);\n    const currentPage = ref(1);\n    const itemsPerPage = 10;\n    const sortBy = ref('points-desc');\n\n    // Modals\n    const showPointsModal = ref(false);\n    const selectedUser = ref({});\n    const pointsAmount = ref(null);\n    const pointsReason = ref('');\n\n    // Load all users with their points\n    const loadUsers = async () => {\n      try {\n        loading.value = true;\n        const response = await api.get('/users');\n        users.value = response.data.map(user => ({\n          ...user,\n          lastActivity: new Date() // Dans un cas réel, il faudrait récupérer cette information\n        }));\n      } catch (error) {\n        console.error('Erreur lors du chargement des utilisateurs:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Filter and sort users\n    const filteredUsers = computed(() => {\n      if (!users.value) return [];\n      let result = [...users.value];\n\n      // Apply search filter\n      if (searchTerm.value) {\n        const search = searchTerm.value.toLowerCase();\n        result = result.filter(user => user.email?.toLowerCase().includes(search) || user.personne?.nom?.toLowerCase().includes(search) || user.personne?.prenom?.toLowerCase().includes(search) || user.login?.toLowerCase().includes(search));\n      }\n\n      // Apply sorting\n      switch (sortBy.value) {\n        case 'points-desc':\n          result.sort((a, b) => b.points - a.points);\n          break;\n        case 'points-asc':\n          result.sort((a, b) => a.points - b.points);\n          break;\n        case 'nom':\n          result.sort((a, b) => {\n            const nomA = a.personne?.nom || '';\n            const nomB = b.personne?.nom || '';\n            return nomA.localeCompare(nomB);\n          });\n          break;\n        case 'date':\n          result.sort((a, b) => new Date(b.lastActivity) - new Date(a.lastActivity));\n          break;\n      }\n      return result;\n    });\n\n    // Pagination\n    const totalPages = computed(() => {\n      return Math.ceil(filteredUsers.value.length / itemsPerPage);\n    });\n    const displayedUsers = computed(() => {\n      const start = (currentPage.value - 1) * itemsPerPage;\n      const end = start + itemsPerPage;\n      return filteredUsers.value.slice(start, end);\n    });\n    const changePage = page => {\n      if (page >= 1 && page <= totalPages.value) {\n        currentPage.value = page;\n      }\n    };\n\n    // Search with debounce\n    const debounceSearch = () => {\n      if (searchTimeout.value) {\n        clearTimeout(searchTimeout.value);\n      }\n      searchTimeout.value = setTimeout(() => {\n        currentPage.value = 1; // Reset to first page on search\n      }, 300);\n    };\n    const applyFilters = () => {\n      currentPage.value = 1; // Reset to first page when changing filters\n    };\n\n    // Format date for display\n    const formatLastActivity = date => {\n      if (!date) return 'N/A';\n      return new Date(date).toLocaleString('fr-FR');\n    };\n\n    // Modal functions\n    const openAddPointsModal = user => {\n      selectedUser.value = user;\n      pointsAmount.value = null;\n      pointsReason.value = '';\n      showPointsModal.value = true;\n    };\n    const closePointsModal = () => {\n      showPointsModal.value = false;\n    };\n    const confirmPointsAdjustment = async () => {\n      if (!pointsAmount.value) return;\n      try {\n        loading.value = true;\n\n        // Call API to adjust points\n        const response = await api.post(`/users/${selectedUser.value._id}/points`, {\n          amount: parseFloat(pointsAmount.value),\n          reason: pointsReason.value\n        });\n\n        // Update user points in the local state\n        const updatedUser = users.value.find(u => u._id === selectedUser.value._id);\n        if (updatedUser) {\n          updatedUser.points = response.data.points;\n        }\n\n        // Close modal\n        closePointsModal();\n      } catch (error) {\n        console.error('Erreur lors de l\\'ajustement des points:', error);\n        alert('Une erreur est survenue lors de l\\'ajustement des points.');\n      } finally {\n        loading.value = false;\n      }\n    };\n    const openHistoryModal = user => {\n      // Rediriger vers la page d'historique avec filtre sur cet utilisateur\n      // Cette fonctionnalité pourrait être implémentée plus tard\n      console.log('Ouvrir historique pour:', user.email);\n    };\n\n    // Reset page when filters change\n    watch([searchTerm, sortBy], () => {\n      if (currentPage.value !== 1) {\n        currentPage.value = 1;\n      }\n    });\n    onMounted(() => {\n      loadUsers();\n    });\n    return {\n      users,\n      loading,\n      searchTerm,\n      currentPage,\n      totalPages,\n      sortBy,\n      displayedUsers,\n      showPointsModal,\n      selectedUser,\n      pointsAmount,\n      pointsReason,\n      defaultAvatar,\n      getPhotoUrl,\n      debounceSearch,\n      applyFilters,\n      changePage,\n      formatLastActivity,\n      openAddPointsModal,\n      closePointsModal,\n      confirmPointsAdjustment,\n      openHistoryModal\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","watch","AppLayout","api","defaultAvatar","getPhotoUrl","name","components","setup","users","loading","searchTerm","searchTimeout","currentPage","itemsPerPage","sortBy","showPointsModal","selectedUser","pointsAmount","pointsReason","loadUsers","value","response","get","data","map","user","lastActivity","Date","error","console","filteredUsers","result","search","toLowerCase","filter","email","includes","personne","nom","prenom","login","sort","a","b","points","nomA","nomB","localeCompare","totalPages","Math","ceil","length","displayedUsers","start","end","slice","changePage","page","debounceSearch","clearTimeout","setTimeout","applyFilters","formatLastActivity","date","toLocaleString","openAddPointsModal","closePointsModal","confirmPointsAdjustment","post","_id","amount","parseFloat","reason","updatedUser","find","u","alert","openHistoryModal","log"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\AdminUserPoints.vue"],"sourcesContent":["<template>\r\n  <AppLayout>\r\n    <div class=\"points-management-container\">\r\n      <h1 class=\"page-title\">Supervision des points utilisateurs</h1>\r\n\r\n      <!-- Filtres -->\r\n      <div class=\"filters-container\">\r\n        <div class=\"search-box\">\r\n          <input\r\n              type=\"text\"\r\n              v-model=\"searchTerm\"\r\n              placeholder=\"Rechercher un utilisateur...\"\r\n              @input=\"debounceSearch\"\r\n          />\r\n          <i class=\"fas fa-search search-icon\"></i>\r\n        </div>\r\n\r\n        <div class=\"filter-options\">\r\n          <div class=\"sort-option\">\r\n            <label for=\"sort-by\">Trier par:</label>\r\n            <select id=\"sort-by\" v-model=\"sortBy\" @change=\"applyFilters\">\r\n              <option value=\"points-desc\">Points (décroissant)</option>\r\n              <option value=\"points-asc\">Points (croissant)</option>\r\n              <option value=\"nom\">Nom</option>\r\n              <option value=\"date\">Date de dernière activité</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Tableau des utilisateurs et leurs points -->\r\n      <div class=\"users-table-container\">\r\n        <table class=\"users-table\">\r\n          <thead>\r\n          <tr>\r\n            <th>Utilisateur</th>\r\n            <th>Points</th>\r\n            <th>Niveau</th>\r\n            <th>Dernière activité</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr v-for=\"user in displayedUsers\" :key=\"user._id\">\r\n            <td class=\"user-info\">\r\n              <img :src=\"getPhotoUrl(user.photo, user._id)\" class=\"user-avatar\" alt=\"Avatar\">\r\n              <div class=\"user-details\">\r\n                <div class=\"user-name\">{{ user.personne?.nom }} {{ user.personne?.prenom }}</div>\r\n                <div class=\"user-email\">{{ user.email }}</div>\r\n              </div>\r\n            </td>\r\n            <td class=\"points-column\">\r\n              <span class=\"points-badge\">{{ user.points }}</span>\r\n            </td>\r\n            <td>{{ user.niveau }}</td>\r\n            <td>{{ formatLastActivity(user.lastActivity) }}</td>\r\n            <td class=\"actions-column\">\r\n              <button class=\"btn view-history\" @click=\"openHistoryModal(user)\">\r\n                <i class=\"fas fa-history\"></i> Historique\r\n              </button>\r\n              <button class=\"btn edit-points\" @click=\"openAddPointsModal(user)\">\r\n                <i class=\"fas fa-plus-circle\"></i> Ajuster\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- Pagination -->\r\n      <div class=\"pagination\" v-if=\"totalPages > 1\">\r\n        <button\r\n            :disabled=\"currentPage === 1\"\r\n            @click=\"changePage(currentPage - 1)\"\r\n            class=\"page-btn\"\r\n        >\r\n          <i class=\"fas fa-chevron-left\"></i> Précédent\r\n        </button>\r\n        <span class=\"page-info\">Page {{ currentPage }} sur {{ totalPages }}</span>\r\n        <button\r\n            :disabled=\"currentPage === totalPages\"\r\n            @click=\"changePage(currentPage + 1)\"\r\n            class=\"page-btn\"\r\n        >\r\n          Suivant <i class=\"fas fa-chevron-right\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <!-- Modal pour ajouter/retirer des points -->\r\n      <div v-if=\"showPointsModal\" class=\"modal-overlay\" @click=\"closePointsModal\">\r\n        <div class=\"modal-content\" @click.stop>\r\n          <div class=\"modal-header\">\r\n            <h2>Ajuster les points - {{ selectedUser.email }}</h2>\r\n            <button class=\"close-button\" @click=\"closePointsModal\">\r\n              <i class=\"fas fa-times\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"points-info\">\r\n              <p>Points actuels: <strong>{{ selectedUser.points }}</strong></p>\r\n            </div>\r\n            <div class=\"points-form\">\r\n              <div class=\"form-group\">\r\n                <label for=\"points-amount\">Montant des points:</label>\r\n                <input\r\n                    type=\"number\"\r\n                    id=\"points-amount\"\r\n                    v-model=\"pointsAmount\"\r\n                    step=\"0.5\"\r\n                    placeholder=\"Entrez un nombre positif ou négatif\"\r\n                />\r\n              </div>\r\n              <div class=\"form-group\">\r\n                <label for=\"points-reason\">Raison:</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"points-reason\"\r\n                    v-model=\"pointsReason\"\r\n                    placeholder=\"Ex: Aziz a été sage !\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button class=\"btn cancel\" @click=\"closePointsModal\">Annuler</button>\r\n            <button\r\n                class=\"btn confirm\"\r\n                @click=\"confirmPointsAdjustment\"\r\n                :disabled=\"!pointsAmount || loading\"\r\n            >\r\n              <span v-if=\"loading\">Traitement...</span>\r\n              <span v-else>Confirmer</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </AppLayout>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted, watch } from 'vue';\r\nimport AppLayout from '@/layout/AppLayoutGlobal.vue';\r\nimport api from '@/services/api';\r\nimport defaultAvatar from '@/assets/default-avatar.png';\r\nimport { getPhotoUrl } from '@/utils/photo';\r\n\r\nexport default {\r\n  name: 'AdminUserPoints',\r\n  components: {\r\n    AppLayout\r\n  },\r\n  setup() {\r\n    const users = ref([]);\r\n    const loading = ref(false);\r\n    const searchTerm = ref('');\r\n    const searchTimeout = ref(null);\r\n    const currentPage = ref(1);\r\n    const itemsPerPage = 10;\r\n    const sortBy = ref('points-desc');\r\n\r\n    // Modals\r\n    const showPointsModal = ref(false);\r\n    const selectedUser = ref({});\r\n    const pointsAmount = ref(null);\r\n    const pointsReason = ref('');\r\n\r\n    // Load all users with their points\r\n    const loadUsers = async () => {\r\n      try {\r\n        loading.value = true;\r\n        const response = await api.get('/users');\r\n        users.value = response.data.map(user => ({\r\n          ...user,\r\n          lastActivity: new Date() // Dans un cas réel, il faudrait récupérer cette information\r\n        }));\r\n      } catch (error) {\r\n        console.error('Erreur lors du chargement des utilisateurs:', error);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    // Filter and sort users\r\n    const filteredUsers = computed(() => {\r\n      if (!users.value) return [];\r\n\r\n      let result = [...users.value];\r\n\r\n      // Apply search filter\r\n      if (searchTerm.value) {\r\n        const search = searchTerm.value.toLowerCase();\r\n        result = result.filter(user =>\r\n            user.email?.toLowerCase().includes(search) ||\r\n            user.personne?.nom?.toLowerCase().includes(search) ||\r\n            user.personne?.prenom?.toLowerCase().includes(search) ||\r\n            user.login?.toLowerCase().includes(search)\r\n        );\r\n      }\r\n\r\n      // Apply sorting\r\n      switch (sortBy.value) {\r\n        case 'points-desc':\r\n          result.sort((a, b) => b.points - a.points);\r\n          break;\r\n        case 'points-asc':\r\n          result.sort((a, b) => a.points - b.points);\r\n          break;\r\n        case 'nom':\r\n          result.sort((a, b) => {\r\n            const nomA = a.personne?.nom || '';\r\n            const nomB = b.personne?.nom || '';\r\n            return nomA.localeCompare(nomB);\r\n          });\r\n          break;\r\n        case 'date':\r\n          result.sort((a, b) => new Date(b.lastActivity) - new Date(a.lastActivity));\r\n          break;\r\n      }\r\n\r\n      return result;\r\n    });\r\n\r\n    // Pagination\r\n    const totalPages = computed(() => {\r\n      return Math.ceil(filteredUsers.value.length / itemsPerPage);\r\n    });\r\n\r\n    const displayedUsers = computed(() => {\r\n      const start = (currentPage.value - 1) * itemsPerPage;\r\n      const end = start + itemsPerPage;\r\n      return filteredUsers.value.slice(start, end);\r\n    });\r\n\r\n    const changePage = (page) => {\r\n      if (page >= 1 && page <= totalPages.value) {\r\n        currentPage.value = page;\r\n      }\r\n    };\r\n\r\n    // Search with debounce\r\n    const debounceSearch = () => {\r\n      if (searchTimeout.value) {\r\n        clearTimeout(searchTimeout.value);\r\n      }\r\n\r\n      searchTimeout.value = setTimeout(() => {\r\n        currentPage.value = 1; // Reset to first page on search\r\n      }, 300);\r\n    };\r\n\r\n    const applyFilters = () => {\r\n      currentPage.value = 1; // Reset to first page when changing filters\r\n    };\r\n\r\n    // Format date for display\r\n    const formatLastActivity = (date) => {\r\n      if (!date) return 'N/A';\r\n      return new Date(date).toLocaleString('fr-FR');\r\n    };\r\n\r\n    // Modal functions\r\n    const openAddPointsModal = (user) => {\r\n      selectedUser.value = user;\r\n      pointsAmount.value = null;\r\n      pointsReason.value = '';\r\n      showPointsModal.value = true;\r\n    };\r\n\r\n    const closePointsModal = () => {\r\n      showPointsModal.value = false;\r\n    };\r\n\r\n    const confirmPointsAdjustment = async () => {\r\n      if (!pointsAmount.value) return;\r\n\r\n      try {\r\n        loading.value = true;\r\n\r\n        // Call API to adjust points\r\n        const response = await api.post(`/users/${selectedUser.value._id}/points`, {\r\n          amount: parseFloat(pointsAmount.value),\r\n          reason: pointsReason.value\r\n        });\r\n\r\n        // Update user points in the local state\r\n        const updatedUser = users.value.find(u => u._id === selectedUser.value._id);\r\n        if (updatedUser) {\r\n          updatedUser.points = response.data.points;\r\n        }\r\n\r\n        // Close modal\r\n        closePointsModal();\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'ajustement des points:', error);\r\n        alert('Une erreur est survenue lors de l\\'ajustement des points.');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    const openHistoryModal = (user) => {\r\n      // Rediriger vers la page d'historique avec filtre sur cet utilisateur\r\n      // Cette fonctionnalité pourrait être implémentée plus tard\r\n      console.log('Ouvrir historique pour:', user.email);\r\n    };\r\n\r\n    // Reset page when filters change\r\n    watch([searchTerm, sortBy], () => {\r\n      if (currentPage.value !== 1) {\r\n        currentPage.value = 1;\r\n      }\r\n    });\r\n\r\n    onMounted(() => {\r\n      loadUsers();\r\n    });\r\n\r\n    return {\r\n      users,\r\n      loading,\r\n      searchTerm,\r\n      currentPage,\r\n      totalPages,\r\n      sortBy,\r\n      displayedUsers,\r\n      showPointsModal,\r\n      selectedUser,\r\n      pointsAmount,\r\n      pointsReason,\r\n      defaultAvatar,\r\n      getPhotoUrl,\r\n\r\n      debounceSearch,\r\n      applyFilters,\r\n      changePage,\r\n      formatLastActivity,\r\n      openAddPointsModal,\r\n      closePointsModal,\r\n      confirmPointsAdjustment,\r\n      openHistoryModal\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.points-management-container {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-title {\r\n  color: #2c5038;\r\n  margin-bottom: 30px;\r\n  font-size: 2rem;\r\n}\r\n\r\n/* Filtres */\r\n.filters-container {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n}\r\n\r\n.search-box {\r\n  position: relative;\r\n  flex: 1;\r\n  min-width: 200px;\r\n  max-width: 400px;\r\n}\r\n\r\n.search-box input {\r\n  width: 100%;\r\n  padding: 10px 15px 10px 40px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 30px;\r\n  font-size: 1rem;\r\n  outline: none;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.search-box input:focus {\r\n  border-color: #2c5038;\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 15px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #666;\r\n}\r\n\r\n.filter-options {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.sort-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.sort-option label {\r\n  font-weight: bold;\r\n  color: #2c5038;\r\n}\r\n\r\n.sort-option select {\r\n  padding: 8px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  background-color: white;\r\n  font-size: 1rem;\r\n}\r\n\r\n/* Tableau des utilisateurs */\r\n.users-table-container {\r\n  overflow-x: auto;\r\n  margin-bottom: 20px;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.users-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.users-table th,\r\n.users-table td {\r\n  padding: 15px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.users-table th {\r\n  background-color: #f8f9fa;\r\n  color: #2c5038;\r\n  font-weight: bold;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.user-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.user-name {\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.user-email {\r\n  font-size: 0.85rem;\r\n  color: #666;\r\n}\r\n\r\n.points-column {\r\n  font-weight: bold;\r\n}\r\n\r\n.points-badge {\r\n  display: inline-block;\r\n  padding: 5px 10px;\r\n  background-color: #2c5038;\r\n  color: white;\r\n  border-radius: 15px;\r\n  font-size: 0.9rem;\r\n  min-width: 50px;\r\n  text-align: center;\r\n}\r\n\r\n.actions-column {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.btn {\r\n  padding: 8px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.view-history {\r\n  background-color: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.edit-points {\r\n  background-color: #2c5038;\r\n  color: white;\r\n}\r\n\r\n/* Pagination */\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.page-btn {\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: #2c5038;\r\n  color: white;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.page-btn:disabled {\r\n  background-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.page-info {\r\n  color: #666;\r\n}\r\n\r\n/* Modal */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 10px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 20px;\r\n  background-color: #2c5038;\r\n  color: white;\r\n}\r\n\r\n.modal-header h2 {\r\n  margin: 0;\r\n  font-size: 1.3rem;\r\n}\r\n\r\n.close-button {\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px;\r\n}\r\n\r\n.points-info {\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 5px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 15px 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.btn.cancel {\r\n  background-color: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.btn.confirm {\r\n  background-color: #2c5038;\r\n  color: white;\r\n}\r\n\r\n.btn:disabled {\r\n  background-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .filters-container {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .search-box {\r\n    max-width: none;\r\n  }\r\n\r\n  .actions-column {\r\n    flex-direction: column;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}