{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useAuthStore } from '../stores/auth';\nimport { useThemeStore } from '../stores/theme';\nimport { useRouter } from 'vue-router';\nimport { computed, onMounted } from 'vue';\nimport { getPhotoUrl } from '@/utils/photo';\nexport default {\n  __name: 'SideBar',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const auth = useAuthStore();\n    const theme = useThemeStore();\n    const router = useRouter();\n    const role = auth.role;\n    const userId = auth.userId;\n    function logout() {\n      auth.clearAuth();\n      router.push('/login');\n    }\n    function toggleTheme() {\n      theme.toggleDarkMode();\n    }\n    onMounted(() => {\n      theme.initTheme();\n    });\n    const navItems = computed(() => {\n      if (role === 'visiteur') {\n        return [{\n          path: '/explore',\n          label: 'Explorer',\n          icon: 'fas fa-search'\n        }, {\n          path: '/recettes',\n          label: 'Recettes',\n          icon: 'fas fa-utensils'\n        }, {\n          path: '/level',\n          label: 'Niveau',\n          icon: 'fas fa-chart-line'\n        }];\n      }\n      const common = [{\n        path: '/profile',\n        label: 'Profil',\n        icon: 'fas fa-user'\n      }, {\n        path: '/explore',\n        label: 'Explorer',\n        icon: 'fas fa-search'\n      }, {\n        path: '/recettes',\n        label: 'Recettes',\n        icon: 'fas fa-utensils'\n      }, {\n        path: '/level',\n        label: 'Niveau',\n        icon: 'fas fa-chart-line'\n      }];\n      const complexe = [{\n        path: '/manage/objects',\n        label: 'Gestion Objets',\n        icon: 'fas fa-cogs'\n      }];\n      if (role === 'admin') {\n        return [{\n          path: '/admin',\n          label: 'Tableau de bord',\n          icon: 'fas fa-home'\n        }, {\n          path: '/admin/users',\n          label: 'Gestion Utilisateurs',\n          icon: 'fas fa-users-cog'\n        }, {\n          path: '/admin/families',\n          label: 'Gestion Familles',\n          icon: 'fas fa-users'\n        }, {\n          path: '/manage/objects',\n          label: 'Gestion Objets',\n          icon: 'fas fa-cogs'\n        }, {\n          path: '/admin/history',\n          label: 'Historique des actions',\n          icon: 'fas fa-history'\n        }, {\n          path: '/profile',\n          label: 'Profil',\n          icon: 'fas fa-user'\n        }, {\n          path: '/explore',\n          label: 'Explorer',\n          icon: 'fas fa-search'\n        }, {\n          path: '/recettes',\n          label: 'Recettes',\n          icon: 'fas fa-utensils'\n        }, {\n          path: '/level',\n          label: 'Niveau',\n          icon: 'fas fa-chart-line'\n        }];\n      }\n      if (role === 'complexe') return [...common, ...complexe];\n      return common;\n    });\n    const __returned__ = {\n      auth,\n      theme,\n      router,\n      role,\n      userId,\n      logout,\n      toggleTheme,\n      navItems,\n      get useAuthStore() {\n        return useAuthStore;\n      },\n      get useThemeStore() {\n        return useThemeStore;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      computed,\n      onMounted,\n      get getPhotoUrl() {\n        return getPhotoUrl;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useAuthStore","useThemeStore","useRouter","computed","onMounted","getPhotoUrl","auth","theme","router","role","userId","logout","clearAuth","push","toggleTheme","toggleDarkMode","initTheme","navItems","path","label","icon","common","complexe"],"sources":["C:/Users/benab/Desktop/COURS 24_25/S2/WEB/V4/Projet_WEB_ING1/frontend/src/components/SideBar.vue"],"sourcesContent":["<template>\r\n  <nav class=\"sidebar\">\r\n    <div class=\"sidebar-header\">\r\n      <h1 class=\"logo\">Smart Kitchen</h1>\r\n      \r\n      <!-- Photo de profil de l'utilisateur connecté -->\r\n      <div v-if=\"userId\" class=\"user-photo-container\">\r\n        <img :src=\"getPhotoUrl(null, userId)\" alt=\"Photo de profil\" class=\"user-photo\" />\r\n      </div>\r\n    </div>\r\n    <hr class=\"divider\" />\r\n\r\n    <!-- Bouton de déconnexion remonté pour les utilisateurs connectés -->\r\n    <div v-if=\"role && role !== 'visiteur'\" class=\"logout-container\">\r\n      <button @click=\"logout\" class=\"auth-btn logout-btn\">Se déconnecter</button>\r\n    </div>\r\n\r\n    <ul class=\"nav-list\">\r\n      <li v-for=\"item in navItems\" :key=\"item.path\">\r\n        <router-link :to=\"item.path\" class=\"nav-link\">\r\n          <span class=\"nav-icon\"><i :class=\"item.icon\"></i></span>\r\n          <span class=\"nav-label\">{{ item.label }}</span>\r\n        </router-link>\r\n      </li>\r\n      <li v-if=\"role !== 'admin'\">\r\n        <router-link to=\"/family-members\" class=\"nav-link\">\r\n          <span class=\"nav-icon\"><i class=\"fas fa-users\"></i></span>\r\n          <span class=\"nav-label\">Membres de ma famille</span>\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n\r\n    <!-- Bouton mode sombre -->\r\n    <div class=\"theme-toggle-container\">\r\n      <button @click=\"toggleTheme\" class=\"theme-toggle-btn\">\r\n        <span class=\"nav-icon\">\r\n          <i :class=\"theme.darkMode ? 'fas fa-sun' : 'fas fa-moon'\"></i>\r\n        </span>\r\n        <span class=\"nav-label\">{{ theme.darkMode ? 'Mode clair' : 'Mode sombre' }}</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"auth-actions\">\r\n      <template v-if=\"role === 'visiteur' || role === null\">\r\n        <router-link to=\"/register\" class=\"auth-btn\">S'inscrire</router-link>\r\n        <router-link to=\"/login\" class=\"auth-btn\">Se connecter</router-link>\r\n      </template>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script setup>\r\nimport { useAuthStore } from '../stores/auth'\r\nimport { useThemeStore } from '../stores/theme'\r\nimport { useRouter } from 'vue-router'\r\nimport { computed, onMounted } from 'vue'\r\nimport { getPhotoUrl } from '@/utils/photo'\r\n\r\nconst auth = useAuthStore()\r\nconst theme = useThemeStore()\r\nconst router = useRouter()\r\nconst role = auth.role\r\nconst userId = auth.userId\r\n\r\nfunction logout() {\r\n  auth.clearAuth()\r\n  router.push('/login')\r\n}\r\n\r\nfunction toggleTheme() {\r\n  theme.toggleDarkMode()\r\n}\r\n\r\nonMounted(() => {\r\n  theme.initTheme()\r\n})\r\n\r\nconst navItems = computed(() => {\r\n  if (role === 'visiteur') {\r\n    return [\r\n      { path: '/explore', label: 'Explorer', icon: 'fas fa-search' },\r\n      { path: '/recettes', label: 'Recettes', icon: 'fas fa-utensils' },\r\n      { path: '/level', label: 'Niveau', icon: 'fas fa-chart-line' }\r\n    ]\r\n  }\r\n\r\n  const common = [\r\n    { path: '/profile', label: 'Profil', icon: 'fas fa-user' },\r\n    { path: '/explore', label: 'Explorer', icon: 'fas fa-search' },\r\n    { path: '/recettes', label: 'Recettes', icon: 'fas fa-utensils' },\r\n    { path: '/level', label: 'Niveau', icon: 'fas fa-chart-line' }\r\n  ]\r\n\r\n  const complexe = [\r\n    { path: '/manage/objects', label: 'Gestion Objets', icon: 'fas fa-cogs' }\r\n  ]\r\n\r\n  if (role === 'admin') {\r\n    return [\r\n      { path: '/admin', label: 'Tableau de bord', icon: 'fas fa-home' },\r\n      { path: '/admin/users', label: 'Gestion Utilisateurs', icon: 'fas fa-users-cog' },\r\n      { path: '/admin/families', label: 'Gestion Familles', icon: 'fas fa-users' },\r\n      { path: '/manage/objects', label: 'Gestion Objets', icon: 'fas fa-cogs' },\r\n      { path: '/admin/history', label: 'Historique des actions', icon: 'fas fa-history' },\r\n      { path: '/profile', label: 'Profil', icon: 'fas fa-user' },\r\n      { path: '/explore', label: 'Explorer', icon: 'fas fa-search' },\r\n      { path: '/recettes', label: 'Recettes', icon: 'fas fa-utensils' },\r\n      { path: '/level', label: 'Niveau', icon: 'fas fa-chart-line' }\r\n    ]\r\n  }\r\n\r\n  if (role === 'complexe') return [...common, ...complexe]\r\n  return common\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.sidebar {\r\n  width: 250px;\r\n  background-color: #1f2a36;\r\n  color: white;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.sidebar-header {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.logo {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.user-photo-container {\r\n  margin: 0.5rem 0 0.25rem;\r\n}\r\n\r\n.user-photo {\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid white;\r\n  box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.divider {\r\n  margin: 0.5rem 0;\r\n  border-color: rgba(255, 255, 255, 0.2);\r\n  width: 100%;\r\n}\r\n\r\n.logout-container {\r\n  margin: 0.35rem 0 0.5rem;\r\n}\r\n\r\n.nav-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  flex-grow: 1;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.nav-link {\r\n  display: flex;\r\n  align-items: center;\r\n  color: white;\r\n  text-decoration: none;\r\n  padding: 0.75rem 1rem;\r\n  font-weight: 500;\r\n  border-radius: 4px;\r\n  transition: background-color 0.2s;\r\n  position: relative;\r\n}\r\n\r\n.nav-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 24px;\r\n  margin-right: 12px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.nav-label {\r\n  flex-grow: 1;\r\n  text-align: center;\r\n  padding-right: 24px; /* Pour compenser la largeur de l'icône et centrer le texte */\r\n}\r\n\r\n.nav-link:hover {\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  text-decoration: none;\r\n}\r\n\r\n.theme-toggle-container {\r\n  margin:  0;\r\n}\r\n\r\n.theme-toggle-btn {\r\n  width: 100%;\r\n  background: linear-gradient(90deg, #4a7c59 0%, #2c5038 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 0.75rem 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.theme-toggle-btn:hover {\r\n  box-shadow: 0 0 12px rgba(255, 255, 255, 0.2);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.auth-actions {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  margin-top: auto;\r\n}\r\n\r\n.auth-btn {\r\n  background-color: #f0f4f8;\r\n  color: #036672;\r\n  padding: 0.6rem 1.2rem;\r\n  border-radius: 4px;\r\n  border: none;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n  transition: 0.2s;\r\n  width: 100%;\r\n}\r\n\r\n.logout-btn {\r\n  background-color: #ffe4e6;\r\n  color: #9b1c1c;\r\n}\r\n\r\n.auth-btn:hover {\r\n  background-color: #e2e8f0;\r\n}\r\n.logout-btn:hover {\r\n  background-color: #fecaca;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}