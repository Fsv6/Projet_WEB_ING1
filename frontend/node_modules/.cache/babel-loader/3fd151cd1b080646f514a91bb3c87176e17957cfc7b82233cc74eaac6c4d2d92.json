{"ast":null,"code":"// src/stores/auth.js\nimport { defineStore } from 'pinia';\nexport const useAuthStore = defineStore('auth', {\n  state: () => ({\n    userId: localStorage.getItem('userId') || null,\n    role: localStorage.getItem('role') || null,\n    niveau: localStorage.getItem('niveau') || null,\n    points: Number(localStorage.getItem('points')) || 0\n  }),\n  actions: {\n    setAuth(user) {\n      this.userId = user._id;\n      this.role = user.role;\n      this.niveau = user.niveau;\n      this.points = user.points;\n      localStorage.setItem('userId', user._id);\n      localStorage.setItem('role', user.role);\n      localStorage.setItem('niveau', user.niveau);\n      localStorage.setItem('points', user.points);\n    },\n    clearAuth() {\n      this.userId = null;\n      this.role = null;\n      this.niveau = null;\n      this.points = 0;\n      localStorage.removeItem('userId');\n      localStorage.removeItem('role');\n      localStorage.removeItem('niveau');\n      localStorage.removeItem('points');\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n    },\n    setAsVisitor() {\n      this.userId = null;\n      this.role = 'visiteur';\n      this.niveau = null;\n      this.points = 0;\n      localStorage.setItem('role', 'visiteur');\n      localStorage.removeItem('userId');\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      localStorage.removeItem('niveau');\n      localStorage.removeItem('points');\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useAuthStore","state","userId","localStorage","getItem","role","niveau","points","Number","actions","setAuth","user","_id","setItem","clearAuth","removeItem","setAsVisitor"],"sources":["C:/Users/benab/Desktop/COURS 24_25/S2/WEB/V4/Projet_WEB_ING1/frontend/src/stores/auth.js"],"sourcesContent":["// src/stores/auth.js\r\nimport { defineStore } from 'pinia'\r\n\r\nexport const useAuthStore = defineStore('auth', {\r\n    state: () => ({\r\n        userId: localStorage.getItem('userId') || null,\r\n        role: localStorage.getItem('role') || null,\r\n        niveau: localStorage.getItem('niveau') || null,\r\n        points: Number(localStorage.getItem('points')) || 0\r\n    }),\r\n    actions: {\r\n        setAuth(user) {\r\n            this.userId = user._id\r\n            this.role = user.role\r\n            this.niveau = user.niveau\r\n            this.points = user.points\r\n\r\n            localStorage.setItem('userId', user._id)\r\n            localStorage.setItem('role', user.role)\r\n            localStorage.setItem('niveau', user.niveau)\r\n            localStorage.setItem('points', user.points)\r\n        },\r\n        clearAuth() {\r\n            this.userId = null\r\n            this.role = null\r\n            this.niveau = null\r\n            this.points = 0\r\n\r\n            localStorage.removeItem('userId')\r\n            localStorage.removeItem('role')\r\n            localStorage.removeItem('niveau')\r\n            localStorage.removeItem('points')\r\n            localStorage.removeItem('token')\r\n            localStorage.removeItem('user')\r\n        },\r\n        setAsVisitor() {\r\n            this.userId = null\r\n            this.role = 'visiteur'\r\n            this.niveau = null\r\n            this.points = 0\r\n\r\n            localStorage.setItem('role', 'visiteur')\r\n            localStorage.removeItem('userId')\r\n            localStorage.removeItem('token')\r\n            localStorage.removeItem('user')\r\n            localStorage.removeItem('niveau')\r\n            localStorage.removeItem('points')\r\n        }\r\n    }\r\n})\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,YAAY,GAAGD,WAAW,CAAC,MAAM,EAAE;EAC5CE,KAAK,EAAEA,CAAA,MAAO;IACVC,MAAM,EAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI;IAC9CC,IAAI,EAAEF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI;IAC1CE,MAAM,EAAEH,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,IAAI;IAC9CG,MAAM,EAAEC,MAAM,CAACL,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI;EACtD,CAAC,CAAC;EACFK,OAAO,EAAE;IACLC,OAAOA,CAACC,IAAI,EAAE;MACV,IAAI,CAACT,MAAM,GAAGS,IAAI,CAACC,GAAG;MACtB,IAAI,CAACP,IAAI,GAAGM,IAAI,CAACN,IAAI;MACrB,IAAI,CAACC,MAAM,GAAGK,IAAI,CAACL,MAAM;MACzB,IAAI,CAACC,MAAM,GAAGI,IAAI,CAACJ,MAAM;MAEzBJ,YAAY,CAACU,OAAO,CAAC,QAAQ,EAAEF,IAAI,CAACC,GAAG,CAAC;MACxCT,YAAY,CAACU,OAAO,CAAC,MAAM,EAAEF,IAAI,CAACN,IAAI,CAAC;MACvCF,YAAY,CAACU,OAAO,CAAC,QAAQ,EAAEF,IAAI,CAACL,MAAM,CAAC;MAC3CH,YAAY,CAACU,OAAO,CAAC,QAAQ,EAAEF,IAAI,CAACJ,MAAM,CAAC;IAC/C,CAAC;IACDO,SAASA,CAAA,EAAG;MACR,IAAI,CAACZ,MAAM,GAAG,IAAI;MAClB,IAAI,CAACG,IAAI,GAAG,IAAI;MAChB,IAAI,CAACC,MAAM,GAAG,IAAI;MAClB,IAAI,CAACC,MAAM,GAAG,CAAC;MAEfJ,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;MACjCZ,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;MAC/BZ,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;MACjCZ,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;MACjCZ,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;MAChCZ,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;IACnC,CAAC;IACDC,YAAYA,CAAA,EAAG;MACX,IAAI,CAACd,MAAM,GAAG,IAAI;MAClB,IAAI,CAACG,IAAI,GAAG,UAAU;MACtB,IAAI,CAACC,MAAM,GAAG,IAAI;MAClB,IAAI,CAACC,MAAM,GAAG,CAAC;MAEfJ,YAAY,CAACU,OAAO,CAAC,MAAM,EAAE,UAAU,CAAC;MACxCV,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;MACjCZ,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;MAChCZ,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;MAC/BZ,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;MACjCZ,YAAY,CAACY,UAAU,CAAC,QAAQ,CAAC;IACrC;EACJ;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}