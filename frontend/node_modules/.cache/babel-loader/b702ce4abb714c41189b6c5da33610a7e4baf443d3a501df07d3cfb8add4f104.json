{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"accueil-container\"\n};\nconst _hoisted_2 = {\n  class: \"main-content\"\n};\nconst _hoisted_3 = {\n  class: \"welcome-card\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"user-info\"\n};\nconst _hoisted_5 = {\n  class: \"user-profile\"\n};\nconst _hoisted_6 = {\n  class: \"user-details\"\n};\nconst _hoisted_7 = {\n  class: \"date-info\"\n};\nconst _hoisted_8 = {\n  class: \"actions\"\n};\nconst _hoisted_9 = {\n  class: \"quick-actions\"\n};\nconst _hoisted_10 = {\n  class: \"actions-grid\"\n};\nconst _hoisted_11 = {\n  class: \"dashboard-stats\"\n};\nconst _hoisted_12 = {\n  class: \"stat-card\"\n};\nconst _hoisted_13 = {\n  class: \"stat-content\"\n};\nconst _hoisted_14 = {\n  class: \"stat-number\"\n};\nconst _hoisted_15 = {\n  class: \"stat-info\"\n};\nconst _hoisted_16 = {\n  class: \"stat-highlight\"\n};\nconst _hoisted_17 = {\n  class: \"stat-card\"\n};\nconst _hoisted_18 = {\n  class: \"stat-content\"\n};\nconst _hoisted_19 = {\n  class: \"stat-number\"\n};\nconst _hoisted_20 = {\n  class: \"stat-info\"\n};\nconst _hoisted_21 = {\n  class: \"stat-highlight\"\n};\nconst _hoisted_22 = {\n  class: \"stat-card\"\n};\nconst _hoisted_23 = {\n  class: \"stat-content\"\n};\nconst _hoisted_24 = {\n  class: \"stat-number\"\n};\nconst _hoisted_25 = {\n  class: \"stat-info\"\n};\nconst _hoisted_26 = {\n  class: \"stat-highlight\"\n};\nconst _hoisted_27 = {\n  class: \"stat-card\"\n};\nconst _hoisted_28 = {\n  class: \"stat-content\"\n};\nconst _hoisted_29 = {\n  class: \"stat-number\"\n};\nconst _hoisted_30 = {\n  class: \"stat-info\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"stat-positive\"\n};\nconst _hoisted_32 = {\n  key: 1,\n  class: \"stat-negative\"\n};\nconst _hoisted_33 = {\n  class: \"chart-section\"\n};\nconst _hoisted_34 = {\n  class: \"section-header\"\n};\nconst _hoisted_35 = {\n  key: 0,\n  class: \"loading-indicator\"\n};\nconst _hoisted_36 = {\n  key: 1,\n  class: \"charts-container\"\n};\nconst _hoisted_37 = {\n  class: \"chart-wrapper\"\n};\nconst _hoisted_38 = {\n  class: \"doughnut-chart\"\n};\nconst _hoisted_39 = {\n  class: \"doughnut-segments\"\n};\nconst _hoisted_40 = {\n  class: \"chart-center\"\n};\nconst _hoisted_41 = {\n  class: \"chart-legend\"\n};\nconst _hoisted_42 = {\n  class: \"chart-wrapper\"\n};\nconst _hoisted_43 = {\n  class: \"heatmap-chart\"\n};\nconst _hoisted_44 = {\n  class: \"heatmap-grid\"\n};\nconst _hoisted_45 = {\n  class: \"heatmap-x-label\"\n};\nconst _hoisted_46 = {\n  class: \"heatmap-value\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_AppLayout = _resolveComponent(\"AppLayout\");\n  return _openBlock(), _createBlock(_component_AppLayout, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", null, _toDisplayString($setup.getWelcomeMessage()), 1 /* TEXT */), $setup.userData ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"i\", {\n      class: \"fas fa-calendar-alt\"\n    }, null, -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.formatDate(new Date())), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args)),\n      class: \"logout-btn\"\n    }, _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n      class: \"fas fa-sign-out-alt\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Se déconnecter \")]))])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Actions rapides \"), _createElementVNode(\"div\", _hoisted_9, [_cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n      class: \"section-header\"\n    }, [_createElementVNode(\"h2\", null, [_createElementVNode(\"i\", {\n      class: \"fas fa-bolt\"\n    }), _createTextVNode(\" Actions rapides\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, [_createVNode(_component_router_link, {\n      to: \"/admin/users?newUser=true\",\n      class: \"action-button\"\n    }, {\n      default: _withCtx(() => _cache[4] || (_cache[4] = [_createElementVNode(\"i\", {\n        class: \"fas fa-user-plus\"\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", null, \"Nouvel utilisateur\", -1 /* HOISTED */)])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_router_link, {\n      to: \"/admin/families?newFamily=true\",\n      class: \"action-button\"\n    }, {\n      default: _withCtx(() => _cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n        class: \"fas fa-plus-circle\"\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", null, \"Nouvelle famille\", -1 /* HOISTED */)])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_router_link, {\n      to: \"/admin/user-points\",\n      class: \"action-button\"\n    }, {\n      default: _withCtx(() => _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n        class: \"fas fa-coins\"\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", null, \"Gérer les points\", -1 /* HOISTED */)])),\n      _: 1 /* STABLE */\n    }), _createElementVNode(\"button\", {\n      onClick: _cache[1] || (_cache[1] = (...args) => $setup.refreshStats && $setup.refreshStats(...args)),\n      class: \"action-button\"\n    }, _cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n      class: \"fas fa-sync-alt\"\n    }, null, -1 /* HOISTED */), _createElementVNode(\"span\", null, \"Actualiser\", -1 /* HOISTED */)]))])]), _createCommentVNode(\" Statistiques générales \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n      class: \"stat-icon user-icon\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-users\"\n    })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_13, [_cache[10] || (_cache[10] = _createElementVNode(\"h3\", null, \"Utilisateurs\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, _toDisplayString($setup.stats.usersCount || '...'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, _toDisplayString($setup.stats.newUsers || 0), 1 /* TEXT */), _cache[9] || (_cache[9] = _createTextVNode(\" nouveaux cette semaine \"))])])]), _createElementVNode(\"div\", _hoisted_17, [_cache[14] || (_cache[14] = _createElementVNode(\"div\", {\n      class: \"stat-icon family-icon\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-home\"\n    })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_18, [_cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"Familles\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_19, _toDisplayString($setup.stats.familiesCount || '...'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"span\", _hoisted_21, _toDisplayString($setup.stats.activeWithPoints || 0), 1 /* TEXT */), _cache[12] || (_cache[12] = _createTextVNode(\" actives avec points \"))])])]), _createElementVNode(\"div\", _hoisted_22, [_cache[17] || (_cache[17] = _createElementVNode(\"div\", {\n      class: \"stat-icon action-icon\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-history\"\n    })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_23, [_cache[16] || (_cache[16] = _createElementVNode(\"h3\", null, \"Actions\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_24, _toDisplayString($setup.stats.actionsCount || '...'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"span\", _hoisted_26, _toDisplayString($setup.stats.todayActions || 0), 1 /* TEXT */), _cache[15] || (_cache[15] = _createTextVNode(\" aujourd'hui \"))])])]), _createElementVNode(\"div\", _hoisted_27, [_cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n      class: \"stat-icon points-icon\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-star\"\n    })], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_28, [_cache[19] || (_cache[19] = _createElementVNode(\"h3\", null, \"Points\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_29, _toDisplayString($setup.stats.totalPoints || '...'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_30, [$setup.stats.pointsDistributed > 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_31, \"+\" + _toDisplayString($setup.stats.pointsDistributed), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_32, _toDisplayString($setup.stats.pointsDistributed), 1 /* TEXT */)), _cache[18] || (_cache[18] = _createTextVNode(\" cette semaine \"))])])])]), _createCommentVNode(\" Activité récente (remplacée par des graphiques) \"), _createElementVNode(\"div\", _hoisted_33, [_createElementVNode(\"div\", _hoisted_34, [_cache[22] || (_cache[22] = _createElementVNode(\"h2\", null, [_createElementVNode(\"i\", {\n      class: \"fas fa-chart-line\"\n    }), _createTextVNode(\" Statistiques & Activité\")], -1 /* HOISTED */)), _createVNode(_component_router_link, {\n      to: \"/admin/history\",\n      class: \"view-all-link\"\n    }, {\n      default: _withCtx(() => _cache[21] || (_cache[21] = [_createTextVNode(\" Voir l'historique \"), _createElementVNode(\"i\", {\n        class: \"fas fa-arrow-right\"\n      }, null, -1 /* HOISTED */)])),\n      _: 1 /* STABLE */\n    })]), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, _cache[23] || (_cache[23] = [_createElementVNode(\"i\", {\n      class: \"fas fa-spinner fa-spin\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Chargement des données... \")]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [_createCommentVNode(\" Graphique des utilisateurs par niveau (amélioré) \"), _createElementVNode(\"div\", _hoisted_37, [_cache[25] || (_cache[25] = _createElementVNode(\"h3\", null, \"Distribution des utilisateurs par niveau\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"div\", _hoisted_39, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.stats.usersByLevel, (count, level) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: level,\n        class: \"doughnut-segment\",\n        style: _normalizeStyle($setup.getDoughnutSegmentStyle(level, $setup.stats.usersByLevel))\n      }, null, 4 /* STYLE */);\n    }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"span\", null, _toDisplayString($setup.stats.usersCount), 1 /* TEXT */), _cache[24] || (_cache[24] = _createElementVNode(\"small\", null, \"utilisateurs\", -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_41, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.stats.usersByLevel, (count, level) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: level,\n        class: \"legend-item\"\n      }, [_createElementVNode(\"span\", {\n        class: \"color-badge\",\n        style: _normalizeStyle({\n          backgroundColor: $setup.getLevelColor(level)\n        })\n      }, null, 4 /* STYLE */), _createElementVNode(\"span\", null, _toDisplayString($setup.getNiceLevelName(level)) + \": \" + _toDisplayString(count) + \" (\" + _toDisplayString((count / $setup.stats.usersCount * 100).toFixed(1)) + \"%)\", 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Graphique: Actions par jour et tranche horaire \"), _createElementVNode(\"div\", _hoisted_42, [_cache[27] || (_cache[27] = _createElementVNode(\"h3\", null, \"Nombre d'actions/utilisations (7 jours)\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_43, [_cache[26] || (_cache[26] = _createElementVNode(\"div\", {\n      class: \"heatmap-y-axis\"\n    }, [_createElementVNode(\"div\", {\n      class: \"heatmap-y-label\"\n    }, [_createTextVNode(\"Matin\"), _createElementVNode(\"br\"), _createTextVNode(\"(00h-08h)\")]), _createElementVNode(\"div\", {\n      class: \"heatmap-y-label\"\n    }, [_createTextVNode(\"Journée\"), _createElementVNode(\"br\"), _createTextVNode(\"(08h-16h)\")]), _createElementVNode(\"div\", {\n      class: \"heatmap-y-label\"\n    }, [_createTextVNode(\"Soir\"), _createElementVNode(\"br\"), _createTextVNode(\"(16h-00h)\")])], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_44, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'], (day, dayIndex) => {\n      return _createElementVNode(\"div\", {\n        key: dayIndex,\n        class: \"heatmap-day-column\"\n      }, [_createElementVNode(\"div\", _hoisted_45, _toDisplayString(day), 1 /* TEXT */), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(['morning', 'afternoon', 'evening'], (timeSlot, slotIndex) => {\n        return _createElementVNode(\"div\", {\n          key: `${dayIndex}-${slotIndex}`,\n          class: \"heatmap-cell\",\n          style: _normalizeStyle({\n            backgroundColor: $setup.getHeatmapColor($setup.stats.actionsByDayTime[dayIndex]?.[slotIndex] || 0)\n          })\n        }, [_createElementVNode(\"span\", _hoisted_46, _toDisplayString($setup.stats.actionsByDayTime[dayIndex]?.[slotIndex] || 0), 1 /* TEXT */)], 4 /* STYLE */);\n      }), 64 /* STABLE_FRAGMENT */))]);\n    }), 64 /* STABLE_FRAGMENT */))])])])]))]), _createCommentVNode(\" Menu administration \")])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","key","_createBlock","_component_AppLayout","default","_withCtx","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$setup","getWelcomeMessage","userData","_createElementBlock","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createTextVNode","formatDate","Date","_hoisted_8","onClick","_cache","args","logout","_createCommentVNode","_hoisted_9","_hoisted_10","_createVNode","_component_router_link","to","_","refreshStats","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","stats","usersCount","_hoisted_15","_hoisted_16","newUsers","_hoisted_17","_hoisted_18","_hoisted_19","familiesCount","_hoisted_20","_hoisted_21","activeWithPoints","_hoisted_22","_hoisted_23","_hoisted_24","actionsCount","_hoisted_25","_hoisted_26","todayActions","_hoisted_27","_hoisted_28","_hoisted_29","totalPoints","_hoisted_30","pointsDistributed","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","loading","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_Fragment","_renderList","usersByLevel","count","level","style","_normalizeStyle","getDoughnutSegmentStyle","_hoisted_40","_hoisted_41","backgroundColor","getLevelColor","getNiceLevelName","toFixed","_hoisted_42","_hoisted_43","_hoisted_44","day","dayIndex","_hoisted_45","timeSlot","slotIndex","getHeatmapColor","actionsByDayTime","_hoisted_46"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\AccueilAdmin.vue"],"sourcesContent":["<template>\n  <AppLayout>\n    <div class=\"accueil-container\">\n      <div class=\"main-content\">\n        <div class=\"welcome-card\">\n          <h1>{{ getWelcomeMessage() }}</h1>\n          <div class=\"user-info\" v-if=\"userData\">\n            <div class=\"user-profile\">\n\n              <div class=\"user-details\">\n                <div class=\"date-info\">\n                  <i class=\"fas fa-calendar-alt\"></i> {{ formatDate(new Date()) }}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"actions\">\n              <button @click=\"logout\" class=\"logout-btn\">\n                <i class=\"fas fa-sign-out-alt\"></i>\n                Se déconnecter\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Actions rapides -->\n        <div class=\"quick-actions\">\n          <div class=\"section-header\">\n            <h2><i class=\"fas fa-bolt\"></i> Actions rapides</h2>\n          </div>\n          <div class=\"actions-grid\">\n            <router-link to=\"/admin/users?newUser=true\" class=\"action-button\">\n              <i class=\"fas fa-user-plus\"></i>\n              <span>Nouvel utilisateur</span>\n            </router-link>\n            <router-link to=\"/admin/families?newFamily=true\" class=\"action-button\">\n              <i class=\"fas fa-plus-circle\"></i>\n              <span>Nouvelle famille</span>\n            </router-link>\n            <router-link to=\"/admin/user-points\" class=\"action-button\">\n              <i class=\"fas fa-coins\"></i>\n              <span>Gérer les points</span>\n            </router-link>\n            <button @click=\"refreshStats\" class=\"action-button\">\n              <i class=\"fas fa-sync-alt\"></i>\n              <span>Actualiser</span>\n            </button>\n          </div>\n        </div>\n\n        <!-- Statistiques générales -->\n        <div class=\"dashboard-stats\">\n          <div class=\"stat-card\">\n            <div class=\"stat-icon user-icon\">\n              <i class=\"fas fa-users\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Utilisateurs</h3>\n              <div class=\"stat-number\">{{ stats.usersCount || '...' }}</div>\n              <div class=\"stat-info\">\n                <span class=\"stat-highlight\">{{ stats.newUsers || 0 }}</span> nouveaux cette semaine\n              </div>\n            </div>\n          </div>\n\n          <div class=\"stat-card\">\n            <div class=\"stat-icon family-icon\">\n              <i class=\"fas fa-home\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Familles</h3>\n              <div class=\"stat-number\">{{ stats.familiesCount || '...' }}</div>\n              <div class=\"stat-info\">\n                <span class=\"stat-highlight\">{{ stats.activeWithPoints || 0 }}</span> actives avec points\n              </div>\n            </div>\n          </div>\n\n          <div class=\"stat-card\">\n            <div class=\"stat-icon action-icon\">\n              <i class=\"fas fa-history\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Actions</h3>\n              <div class=\"stat-number\">{{ stats.actionsCount || '...' }}</div>\n              <div class=\"stat-info\">\n                <span class=\"stat-highlight\">{{ stats.todayActions || 0 }}</span> aujourd'hui\n              </div>\n            </div>\n          </div>\n\n          <div class=\"stat-card\">\n            <div class=\"stat-icon points-icon\">\n              <i class=\"fas fa-star\"></i>\n            </div>\n            <div class=\"stat-content\">\n              <h3>Points</h3>\n              <div class=\"stat-number\">{{ stats.totalPoints || '...' }}</div>\n              <div class=\"stat-info\">\n                <span v-if=\"stats.pointsDistributed > 0\" class=\"stat-positive\">+{{ stats.pointsDistributed }}</span>\n                <span v-else class=\"stat-negative\">{{ stats.pointsDistributed }}</span>\n                cette semaine\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Activité récente (remplacée par des graphiques) -->\n        <div class=\"chart-section\">\n          <div class=\"section-header\">\n            <h2><i class=\"fas fa-chart-line\"></i> Statistiques & Activité</h2>\n            <router-link to=\"/admin/history\" class=\"view-all-link\">\n              Voir l'historique <i class=\"fas fa-arrow-right\"></i>\n            </router-link>\n          </div>\n\n          <div v-if=\"loading\" class=\"loading-indicator\">\n            <i class=\"fas fa-spinner fa-spin\"></i> Chargement des données...\n          </div>\n          <div v-else class=\"charts-container\">\n            <!-- Graphique des utilisateurs par niveau (amélioré) -->\n            <div class=\"chart-wrapper\">\n              <h3>Distribution des utilisateurs par niveau</h3>\n              <div class=\"doughnut-chart\">\n                <div class=\"doughnut-segments\">\n                  <div v-for=\"(count, level) in stats.usersByLevel\" :key=\"level\"\n                       class=\"doughnut-segment\"\n                       :style=\"getDoughnutSegmentStyle(level, stats.usersByLevel)\">\n                  </div>\n                </div>\n                <div class=\"chart-center\">\n                  <span>{{ stats.usersCount }}</span>\n                  <small>utilisateurs</small>\n                </div>\n              </div>\n              <div class=\"chart-legend\">\n                <div v-for=\"(count, level) in stats.usersByLevel\" :key=\"level\" class=\"legend-item\">\n                  <span class=\"color-badge\" :style=\"{ backgroundColor: getLevelColor(level) }\"></span>\n                  <span>{{ getNiceLevelName(level) }}: {{ count }} ({{ ((count / stats.usersCount) * 100).toFixed(1) }}%)</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- Graphique: Actions par jour et tranche horaire -->\n            <div class=\"chart-wrapper\">\n              <h3>Nombre d'actions/utilisations (7 jours)</h3>\n              <div class=\"heatmap-chart\">\n                <div class=\"heatmap-y-axis\">\n                  <div class=\"heatmap-y-label\">Matin<br/>(00h-08h)</div>\n                  <div class=\"heatmap-y-label\">Journée<br/>(08h-16h)</div>\n                  <div class=\"heatmap-y-label\">Soir<br/>(16h-00h)</div>\n                </div>\n                <div class=\"heatmap-grid\">\n                  <div v-for=\"(day, dayIndex) in ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam']\" :key=\"dayIndex\" class=\"heatmap-day-column\">\n                    <div class=\"heatmap-x-label\">{{ day }}</div>\n                    <div v-for=\"(timeSlot, slotIndex) in ['morning', 'afternoon', 'evening']\" :key=\"`${dayIndex}-${slotIndex}`\"\n                         class=\"heatmap-cell\"\n                         :style=\"{ backgroundColor: getHeatmapColor(stats.actionsByDayTime[dayIndex]?.[slotIndex] || 0) }\">\n                      <span class=\"heatmap-value\">{{ stats.actionsByDayTime[dayIndex]?.[slotIndex] || 0 }}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Menu administration -->\n        \n      </div>\n    </div>\n  </AppLayout>\n</template>\n\n<script>\nimport AppLayout from '@/layout/AppLayoutGlobal.vue';\nimport { useAuthStore } from '@/stores/auth';\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport api from '@/services/api';\nimport defaultAvatar from '@/assets/default-avatar.png';\n\nexport default {\n  name: 'AccueilAdminPage',\n  components: {\n    AppLayout\n  },\n  setup() {\n    const auth = useAuthStore();\n    const router = useRouter();\n    const userData = ref(null);\n    const loading = ref(false);\n    const recentActions = ref([]);\n    const stats = ref({\n      usersCount: 0,\n      newUsers: 0,\n      familiesCount: 0,\n      activeWithPoints: 0,\n      actionsCount: 0,\n      todayActions: 0,\n      totalPoints: 0,\n      pointsDistributed: 0,\n      usersByLevel: {\n        'débutant': 0,\n        'intermédiaire': 0,\n        'avancé': 0,\n        'expert': 0\n      },\n      actionsByDayTime: Array(7).fill().map(() => Array(3).fill(0))\n    });\n\n    const loadUserData = async () => {\n      try {\n        const storedUser = JSON.parse(localStorage.getItem('user'));\n        if (!storedUser || storedUser.role !== 'admin') {\n          router.push('/login');\n          return;\n        }\n\n        // Vérifier que le token est présent\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error('Token manquant');\n        }\n\n        // Configuration de l'en-tête d'autorisation\n        api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n        // Charger les données complètes de l'utilisateur depuis l'API\n        const response = await api.get(`/users/me`);\n        console.log('Réponse API:', response.data); // Pour le débogage\n\n        userData.value = {\n          ...response.data,\n          nom: response.data.personne?.nom || storedUser.nom,\n          prenom: response.data.personne?.prenom || storedUser.prenom,\n          email: response.data.email || storedUser.email,\n          photo_profil: response.data.photo_profil || defaultAvatar\n        };\n      } catch (error) {\n        console.error('Erreur détaillée:', error.response || error);\n        // Utiliser les données du localStorage comme fallback\n        const storedUser = JSON.parse(localStorage.getItem('user'));\n        userData.value = {\n          ...storedUser,\n          photo_profil: storedUser.photo_profil || defaultAvatar\n        };\n      }\n    };\n\n    const loadStats = async () => {\n      try {\n        loading.value = true;\n\n        // Configuration de l'en-tête d'autorisation\n        const token = localStorage.getItem('token');\n        if (!token) {\n          throw new Error('Token manquant');\n        }\n        api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n        // Récupérer toutes les statistiques en un seul appel API\n        const response = await api.get('/history/admin-stats');\n        const adminStats = response.data;\n        \n        // Mettre à jour les statistiques avec les données de l'API\n        stats.value = adminStats;\n        \n      } catch (error) {\n        console.error('Erreur lors du chargement des statistiques:', error);\n        // En cas d'erreur, ne pas afficher de données fictives, mais garder\n        // les valeurs par défaut initialisées dans le ref stats\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    const refreshStats = () => {\n      loadStats();\n    };\n\n    onMounted(() => {\n      loadUserData();\n      loadStats();\n    });\n\n    const getWelcomeMessage = () => {\n      if (!userData.value) return 'Bienvenue sur Smart Kitchen';\n      const nom = userData.value.nom || '';\n      const prenom = userData.value.prenom || '';\n      return `Bienvenue ${prenom} ${nom}`.trim();\n    };\n\n    const logout = () => {\n      auth.clearAuth();\n      router.push('/login');\n    };\n\n    const formatDate = (date) => {\n      return new Date(date).toLocaleDateString('fr-FR', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    };\n\n    const formatTimeAgo = (dateString) => {\n      const now = new Date();\n      const date = new Date(dateString);\n      const diffMs = now - date;\n      const diffSec = Math.floor(diffMs / 1000);\n      const diffMin = Math.floor(diffSec / 60);\n      const diffHour = Math.floor(diffMin / 60);\n      const diffDay = Math.floor(diffHour / 24);\n\n      if (diffDay > 0) {\n        return `il y a ${diffDay} jour${diffDay > 1 ? 's' : ''}`;\n      } else if (diffHour > 0) {\n        return `il y a ${diffHour} heure${diffHour > 1 ? 's' : ''}`;\n      } else if (diffMin > 0) {\n        return `il y a ${diffMin} minute${diffMin > 1 ? 's' : ''}`;\n      } else {\n        return 'à l\\'instant';\n      }\n    };\n\n    const formatActionName = (action) => {\n      const actions = {\n        connexion: 'Connexion',\n        deconnexion: 'Déconnexion',\n        creation_utilisateur: 'Création d\\'utilisateur',\n        modification_utilisateur: 'Modification d\\'utilisateur',\n        suppression_utilisateur: 'Suppression d\\'utilisateur',\n        validation_compte: 'Validation de compte',\n        ajout_points: 'Ajout de points',\n        creation_famille: 'Création de famille',\n        modification_famille: 'Modification de famille',\n        suppression_famille: 'Suppression de famille',\n        ajout_membre_famille: 'Ajout de membre à une famille',\n        retrait_membre_famille: 'Retrait de membre d\\'une famille',\n        creation_recette: 'Création de recette',\n        modification_recette: 'Modification de recette',\n        suppression_recette: 'Suppression de recette',\n        notation_recette: 'Notation de recette',\n        commentaire_recette: 'Commentaire sur recette',\n        creation_objet: 'Création d\\'objet',\n        modification_objet: 'Modification d\\'objet',\n        suppression_objet: 'Suppression d\\'objet',\n        utilisation_objet: 'Utilisation d\\'objet'\n      };\n      return actions[action] || action;\n    };\n\n    const getActionDescription = (action) => {\n      switch (action.action) {\n        case 'ajout_points':\n          return `${action.details.montant > 0 ? 'Ajout' : 'Retrait'} de ${Math.abs(action.details.montant)} points à ${action.details.email || 'un utilisateur'}`;\n        case 'creation_utilisateur':\n          return `Création de l'utilisateur ${action.details.email || 'inconnu'}`;\n        case 'connexion':\n          return `Connexion utilisateur ${action.details.email || 'inconnu'}`;\n        default:\n          return `Action ${action.action} effectuée`;\n      }\n    };\n\n    const getActionIcon = (action) => {\n      const icons = {\n        connexion: 'fas fa-sign-in-alt',\n        deconnexion: 'fas fa-sign-out-alt',\n        creation_utilisateur: 'fas fa-user-plus',\n        modification_utilisateur: 'fas fa-user-edit',\n        suppression_utilisateur: 'fas fa-user-minus',\n        validation_compte: 'fas fa-user-check',\n        ajout_points: 'fas fa-coins',\n        creation_famille: 'fas fa-home',\n        modification_famille: 'fas fa-edit',\n        suppression_famille: 'fas fa-trash',\n        ajout_membre_famille: 'fas fa-user-plus',\n        retrait_membre_famille: 'fas fa-user-minus',\n        creation_recette: 'fas fa-utensils',\n        modification_recette: 'fas fa-edit',\n        suppression_recette: 'fas fa-trash',\n        notation_recette: 'fas fa-star',\n        commentaire_recette: 'fas fa-comment',\n        creation_objet: 'fas fa-plus-circle',\n        modification_objet: 'fas fa-edit',\n        suppression_objet: 'fas fa-trash',\n        utilisation_objet: 'fas fa-cog'\n      };\n      return icons[action] || 'fas fa-history';\n    };\n\n    const getActionIconClass = (action) => {\n      const classes = {\n        connexion: 'action-login',\n        deconnexion: 'action-logout',\n        creation_utilisateur: 'action-create',\n        modification_utilisateur: 'action-update',\n        suppression_utilisateur: 'action-delete',\n        validation_compte: 'action-validate',\n        ajout_points: 'action-points'\n      };\n      return classes[action] || 'action-default';\n    };\n\n    // Fonctions pour les graphiques\n    const getLevelColor = (level) => {\n      const colors = {\n        'débutant': '#4a90e2',   // Bleu plus moderne et vibrant\n        'intermédiaire': '#2ec4b6', // Vert turquoise\n        'avancé': '#f7b801',     // Or plus moderne\n        'expert': '#8a4fff'      // Violet plus moderne\n      };\n      return colors[level] || '#95a5a6';\n    };\n\n    const getNiceLevelName = (level) => {\n      const names = {\n        'débutant': 'Débutant',\n        'intermédiaire': 'Intermédiaire',\n        'avancé': 'Avancé',\n        'expert': 'Expert'\n      };\n      return names[level] || level;\n    };\n\n    const getDoughnutSegmentStyle = (level, data) => {\n      const colors = {\n        'débutant': '#4a90e2',\n        'intermédiaire': '#2ec4b6',\n        'avancé': '#f7b801',\n        'expert': '#8a4fff'\n      };\n\n      const total = Object.values(data).reduce((sum, val) => sum + val, 0);\n      if (total === 0) return { display: 'none' };\n\n      const levels = Object.keys(data);\n      const currentIndex = levels.indexOf(level);\n\n      let startAngle = 0;\n      for (let i = 0; i < currentIndex; i++) {\n        startAngle += (data[levels[i]] / total) * 360;\n      }\n\n      const angle = (data[level] / total) * 360;\n      const endAngle = startAngle + angle;\n\n      return {\n        backgroundColor: colors[level],\n        clipPath: `conic-gradient(from ${startAngle}deg at 50% 50%, ${colors[level]} 0deg ${angle}deg, transparent ${angle}deg 360deg)`,\n        opacity: data[level] > 0 ? 1 : 0,\n        transform: 'rotate(0deg)',\n        boxShadow: data[level] > 0 ? '0 0 10px rgba(0,0,0,0.1)' : 'none'\n      };\n    };\n\n    // Fonction pour la couleur de la heatmap\n    const getHeatmapColor = (value) => {\n      // Échelle de couleur de bleu clair à bleu foncé\n      const maxValue = Math.max(...stats.value.actionsByDayTime.flat());\n      if (maxValue === 0) return '#f1f5fa'; // Couleur par défaut si pas de données\n\n      const intensity = Math.min(value / maxValue, 1);\n\n      // Échelle de couleur de bleu clair à vert\n      if (intensity === 0) return '#f1f5fa';\n      if (intensity < 0.2) return '#e3f2fd';\n      if (intensity < 0.4) return '#bbdefb';\n      if (intensity < 0.6) return '#90caf9';\n      if (intensity < 0.8) return '#64b5f6';\n      return '#2196f3';\n    };\n\n    return {\n      userData,\n      getWelcomeMessage,\n      logout,\n      defaultAvatar,\n      recentActions,\n      stats,\n      loading,\n      formatDate,\n      formatTimeAgo,\n      formatActionName,\n      getActionDescription,\n      getActionIcon,\n      getActionIconClass,\n      refreshStats,\n      getLevelColor,\n      getDoughnutSegmentStyle,\n      getHeatmapColor,\n      getNiceLevelName\n    };\n  }\n};\n</script>\n\n<style scoped>\n.accueil-container {\n  padding: 12px;\n}\n\n.main-content {\n  flex: 1;\n}\n\n.welcome-card {\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  margin-bottom: 12px;\n}\n\nh1 {\n  color: #2c5038;\n  margin-bottom: 15px;\n  font-size: 1.6rem;\n}\n\n.user-profile {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.profile-image-container {\n  position: relative;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 2px solid #2c5038;\n  margin-right: 15px;\n}\n\n.profile-pic {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.user-details {\n  flex: 1;\n}\n\n.date-info {\n  color: #666;\n  font-size: 0.85rem;\n}\n\nh2 {\n  color: #2c5038;\n  margin: 0 0 12px 0;\n  font-size: 1.2rem;\n}\n\n.actions {\n  text-align: right;\n}\n\n.logout-btn {\n  background-color: #dc3545;\n  color: white;\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.8rem;\n  transition: background-color 0.3s;\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.logout-btn:hover {\n  background-color: #c82333;\n}\n\n/* Statistiques */\n.dashboard-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 12px;\n  margin-bottom: 15px;\n}\n\n.stat-card {\n  background: white;\n  border-radius: 8px;\n  padding: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n}\n\n.stat-icon {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 10px;\n  flex-shrink: 0;\n}\n\n.stat-icon i {\n  font-size: 1.3rem;\n  color: white;\n}\n\n.user-icon {\n  background-color: #3498db;\n}\n\n.family-icon {\n  background-color: #2ecc71;\n}\n\n.action-icon {\n  background-color: #9b59b6;\n}\n\n.points-icon {\n  background-color: #f39c12;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-content h3 {\n  margin: 0 0 3px 0;\n  font-size: 0.85rem;\n  color: #666;\n}\n\n.stat-number {\n  font-size: 1.4rem;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 2px;\n}\n\n.stat-info {\n  font-size: 0.75rem;\n  color: #777;\n}\n\n.stat-highlight {\n  font-weight: bold;\n  color: #2c5038;\n}\n\n.stat-positive {\n  color: #2ecc71;\n  font-weight: bold;\n}\n\n.stat-negative {\n  color: #e74c3c;\n  font-weight: bold;\n}\n\n/* Activité récente remplacée par des graphiques */\n.chart-section {\n  background: white;\n  border-radius: 8px;\n  padding: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  margin-bottom: 15px;\n}\n\n.charts-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));\n  gap: 12px;\n}\n\n.chart-wrapper {\n  background-color: #f8f9fa;\n  border-radius: 6px;\n  padding: 10px;\n  text-align: center;\n}\n\n.chart-wrapper h3 {\n  margin-top: 0;\n  margin-bottom: 8px;\n  font-size: 0.85rem;\n  color: #333;\n}\n\n/* Pie Chart Styles */\n.pie-chart {\n  position: relative;\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  background-color: #eee;\n  margin: 0 auto 20px;\n  overflow: hidden;\n}\n\n.pie-segment {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform-origin: 50% 50%;\n}\n\n.segment-label {\n  display: none;\n}\n\n.chart-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: white;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 0 10px rgba(0,0,0,0.1);\n}\n\n.chart-center span {\n  font-size: 1.2rem;\n}\n\n.chart-center small {\n  font-size: 0.7rem;\n  color: #666;\n}\n\n.chart-legend {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-top: 8px;\n  gap: 8px;\n}\n\n.legend-item {\n  font-size: 0.75rem;\n}\n\n.color-badge {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 3px;\n  margin-right: 5px;\n}\n\n/* Bar Chart Styles */\n.bar-chart {\n  height: 200px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  padding: 10px 5px;\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: inset 0 0 3px rgba(0,0,0,0.1);\n}\n\n.bar-column {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  height: 100%;\n  padding: 0 5px;\n}\n\n.bar-value {\n  width: 100%;\n  background-color: #2ecc71;\n  border-radius: 4px 4px 0 0;\n  position: relative;\n  min-height: 5px; /* pour les valeurs très petites */\n  transition: height 0.5s;\n}\n\n.bar-tooltip {\n  position: absolute;\n  top: -25px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #333;\n  color: white;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-size: 0.7rem;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.bar-value:hover .bar-tooltip {\n  opacity: 1;\n}\n\n.bar-label {\n  font-size: 0.7rem;\n  color: #666;\n  margin-top: 5px;\n}\n\n/* Actions rapides */\n.quick-actions {\n  background: white;\n  border-radius: 8px;\n  padding: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  margin-bottom: 15px;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.view-all-link {\n  color: #2c5038;\n  font-size: 0.8rem;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.actions-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  gap: 10px;\n}\n\n.action-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  background-color: #f8f9fa;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  padding: 10px;\n  cursor: pointer;\n  text-decoration: none;\n  color: #333;\n  transition: all 0.3s ease;\n}\n\n.action-button:hover {\n  background-color: #e9ecef;\n  transform: translateY(-2px);\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n}\n\n.action-button i {\n  font-size: 1.1rem;\n  color: #2c5038;\n}\n\n.action-button span {\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n/* Menu navigation */\n.admin-menu {\n  margin-top: 12px;\n}\n\n.admin-menu h2 {\n  color: #2c5038;\n  margin-bottom: 12px;\n}\n\n.menu-cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.menu-card {\n  background-color: white;\n  border-radius: 8px;\n  padding: 12px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  gap: 10px;\n  text-decoration: none;\n  color: #333;\n  transition: transform 0.3s, box-shadow 0.3s;\n}\n\n.menu-card:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n}\n\n.menu-card i {\n  font-size: 1.5rem;\n  color: #2c5038;\n}\n\n.menu-card span {\n  font-size: 0.9rem;\n  font-weight: bold;\n}\n\n/* Responsive */\n@media screen and (max-width: 768px) {\n  .accueil-container {\n    padding: 10px;\n  }\n\n  .dashboard-stats {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  }\n\n  .actions-grid {\n    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  }\n}\n\n@media screen and (max-width: 480px) {\n  .accueil-container {\n    padding: 8px;\n  }\n\n  .dashboard-stats {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  .welcome-card {\n    padding: 12px;\n  }\n\n  .user-profile {\n    flex-direction: column;\n    text-align: center;\n  }\n\n  .profile-image-container {\n    margin-right: 0;\n    margin-bottom: 8px;\n  }\n\n  .activity-header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n}\n\n/* Graphiques améliorés */\n.doughnut-chart {\n  position: relative;\n  width: 130px;\n  height: 130px;\n  margin: 0 auto 10px;\n}\n\n.doughnut-segments {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: #eaeaea;\n}\n\n.doughnut-segment {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  border-radius: 50%;\n  clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%, 50% 50%);\n  transform-origin: center;\n  transition: all 0.3s ease;\n}\n\n.enhanced-bar-chart {\n  position: relative;\n  height: 200px;\n  display: flex;\n  padding: 10px 0 20px 30px;\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: inset 0 0 3px rgba(0,0,0,0.1);\n}\n\n.chart-axis-y {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 5px 0;\n}\n\n.axis-label {\n  font-size: 0.7rem;\n  color: #666;\n  text-align: right;\n  padding-right: 5px;\n}\n\n.bars-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  width: 100%;\n  height: 100%;\n}\n\n.trend-line {\n  position: absolute;\n  bottom: 30px;\n  left: 30px;\n  right: 10px;\n  height: 150px;\n  background: linear-gradient(to top, rgba(46, 204, 113, 0.1), rgba(46, 204, 113, 0.3));\n  border-top: 2px dashed rgba(46, 204, 113, 0.6);\n  pointer-events: none;\n}\n\n/* Nouveau graphique de tendance */\n.trend-chart {\n  height: 150px;\n  position: relative;\n  padding: 8px 5px 25px 5px;\n}\n\n.trend-line-container {\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\n.trend-point {\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  margin-left: -3px;\n  margin-bottom: -3px;\n  background-color: #2ecc71;\n  border-radius: 50%;\n  z-index: 2;\n}\n\n.trend-tooltip {\n  position: absolute;\n  bottom: 15px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #333;\n  color: white;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-size: 0.7rem;\n  white-space: nowrap;\n  opacity: 0;\n  transition: opacity 0.3s;\n  pointer-events: none;\n}\n\n.trend-point:hover .trend-tooltip {\n  opacity: 1;\n}\n\n.trend-path {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1;\n}\n\n.trend-x-axis {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 20px;\n}\n\n.trend-hour-label {\n  position: absolute;\n  transform: translateX(-50%);\n  font-size: 0.65rem;\n  color: #666;\n}\n\n/* Graphique de barres horizontales */\n.horizontal-bar-chart {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 5px;\n}\n\n.horizontal-bar-row {\n  display: flex;\n  align-items: center;\n}\n\n.horizontal-bar-label {\n  width: 100px;\n  font-size: 0.8rem;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  padding-right: 10px;\n}\n\n.horizontal-bar-container {\n  flex: 1;\n  height: 20px;\n  background-color: #f1f1f1;\n  border-radius: 3px;\n  overflow: hidden;\n}\n\n.horizontal-bar {\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-radius: 3px;\n  transition: width 0.5s;\n}\n\n.horizontal-bar-value {\n  position: absolute;\n  right: 5px;\n  color: white;\n  font-size: 0.8rem;\n  font-weight: bold;\n  text-shadow: 0 0 2px rgba(0,0,0,0.5);\n}\n\n/* Styles pour le message d'absence de données */\n.no-data-message {\n  text-align: center;\n  color: #95a5a6;\n  font-style: italic;\n  padding: 20px;\n}\n\n/* Heatmap styles */\n.heatmap-chart {\n  display: flex;\n  height: 130px;\n  margin-top: 10px;\n}\n\n.heatmap-y-axis {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding-right: 6px;\n  width: 60px;\n}\n\n.heatmap-y-label {\n  height: 36px;\n  display: flex;\n  align-items: center;\n  font-size: 0.6rem;\n  color: #666;\n  text-align: right;\n}\n\n.heatmap-grid {\n  display: flex;\n  flex: 1;\n  gap: 3px;\n}\n\n.heatmap-day-column {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.heatmap-x-label {\n  text-align: center;\n  font-size: 0.6rem;\n  color: #666;\n  margin-bottom: 4px;\n}\n\n.heatmap-cell {\n  flex: 1;\n  margin: 1px 0;\n  border-radius: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  cursor: default;\n  transition: transform 0.2s;\n}\n\n.heatmap-cell:hover {\n  transform: scale(1.05);\n}\n\n.heatmap-value {\n  font-size: 0.65rem;\n  font-weight: bold;\n  color: rgb(85, 81, 81);\n  text-shadow: 0 0 1px rgba(0,0,0,0.5);\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}