{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport api from '@/services/api';\nimport AppLayout from '@/layout/AppLayoutGlobal.vue';\nexport default {\n  __name: 'CreateObjectView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const form = ref({\n      nom: '',\n      description: '',\n      type: '',\n      marque: '',\n      connectivite: 'Wi-Fi',\n      statut: 'Actif',\n      niveauDanger: 'faible',\n      supporteTemperature: false,\n      supporteMode: false\n    });\n    const modesInput = ref('');\n    const createObject = async () => {\n      try {\n        const payload = {\n          ...form.value,\n          modesDisponibles: form.value.supporteMode ? modesInput.value.split(',').map(m => m.trim()).filter(Boolean) : []\n        };\n        await api.post('/objets', payload);\n        alert('✅ Objet ajouté avec succès');\n        router.push('/manage/objects');\n      } catch (err) {\n        console.error('Erreur API POST:', err);\n        alert('❌ Erreur lors de la création de l\\'objet');\n      }\n    };\n    const __returned__ = {\n      router,\n      form,\n      modesInput,\n      createObject,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get api() {\n        return api;\n      },\n      AppLayout\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","api","AppLayout","router","form","nom","description","type","marque","connectivite","statut","niveauDanger","supporteTemperature","supporteMode","modesInput","createObject","payload","value","modesDisponibles","split","map","m","trim","filter","Boolean","post","alert","push","err","console","error"],"sources":["C:/Users/benab/Desktop/COURS 24_25/S2/WEB/V4/Projet_WEB_ING1/frontend/src/views/CreateObjectView.vue"],"sourcesContent":["<template>\r\n  <AppLayout>\r\n    <div class=\"create-object-page\">\r\n      <h1>➕ Ajouter un nouvel objet connecté</h1>\r\n\r\n      <form @submit.prevent=\"createObject\" class=\"object-form\">\r\n        <div class=\"form-group\">\r\n          <label>Nom</label>\r\n          <input v-model=\"form.nom\" required />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Description</label>\r\n          <textarea v-model=\"form.description\" required></textarea>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Type</label>\r\n          <input v-model=\"form.type\" required />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Marque</label>\r\n          <input v-model=\"form.marque\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Connectivité</label>\r\n          <select v-model=\"form.connectivite\">\r\n            <option value=\"Wi-Fi\">Wi-Fi</option>\r\n            <option value=\"Bluetooth\">Bluetooth</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Statut</label>\r\n          <select v-model=\"form.statut\">\r\n            <option value=\"Actif\">Actif</option>\r\n            <option value=\"Inactif\">Inactif</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>Niveau de danger</label>\r\n          <select v-model=\"form.niveauDanger\">\r\n            <option value=\"faible\">Faible</option>\r\n            <option value=\"élevé\">Élevé</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"form-group checkbox-group\">\r\n          <label><input type=\"checkbox\" v-model=\"form.supporteTemperature\" /> Supporte la température</label>\r\n          <label><input type=\"checkbox\" v-model=\"form.supporteMode\" /> Supporte les modes</label>\r\n        </div>\r\n\r\n        <div class=\"form-group\" v-if=\"form.supporteMode\">\r\n          <label>Modes disponibles (séparés par des virgules)</label>\r\n          <input v-model=\"modesInput\" placeholder=\"Ex: Espresso, Lungo, Cappuccino\" />\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"btn-submit\">Créer l'objet</button>\r\n      </form>\r\n    </div>\r\n  </AppLayout>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport api from '@/services/api'\r\nimport AppLayout from '@/layout/AppLayoutGlobal.vue'\r\n\r\nconst router = useRouter()\r\nconst form = ref({\r\n  nom: '',\r\n  description: '',\r\n  type: '',\r\n  marque: '',\r\n  connectivite: 'Wi-Fi',\r\n  statut: 'Actif',\r\n  niveauDanger: 'faible',\r\n  supporteTemperature: false,\r\n  supporteMode: false\r\n})\r\nconst modesInput = ref('')\r\n\r\nconst createObject = async () => {\r\n  try {\r\n    const payload = {\r\n      ...form.value,\r\n      modesDisponibles: form.value.supporteMode\r\n          ? modesInput.value.split(',').map(m => m.trim()).filter(Boolean)\r\n          : []\r\n    }\r\n\r\n    await api.post('/objets', payload)\r\n    alert('✅ Objet ajouté avec succès')\r\n    router.push('/manage/objects')\r\n  } catch (err) {\r\n    console.error('Erreur API POST:', err)\r\n    alert('❌ Erreur lors de la création de l\\'objet')\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.create-object-page {\r\n  padding: 20px;\r\n}\r\n\r\n.object-form {\r\n  max-width: 600px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\ninput, textarea, select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  margin-top: 5px;\r\n}\r\n\r\n.checkbox-group label {\r\n  display: block;\r\n  margin-top: 10px;\r\n}\r\n\r\n.btn-submit {\r\n  padding: 10px 20px;\r\n  background-color: #2e8b57;\r\n  color: white;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":";;;;AAmEA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,GAAG,MAAM,gBAAgB;AAChC,OAAOC,SAAS,MAAM,8BAA8B;;;;;;;IAEpD,MAAMC,MAAM,GAAGH,SAAS,CAAC,CAAC;IAC1B,MAAMI,IAAI,GAAGL,GAAG,CAAC;MACfM,GAAG,EAAE,EAAE;MACPC,WAAW,EAAE,EAAE;MACfC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,YAAY,EAAE,OAAO;MACrBC,MAAM,EAAE,OAAO;MACfC,YAAY,EAAE,QAAQ;MACtBC,mBAAmB,EAAE,KAAK;MAC1BC,YAAY,EAAE;IAChB,CAAC,CAAC;IACF,MAAMC,UAAU,GAAGf,GAAG,CAAC,EAAE,CAAC;IAE1B,MAAMgB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,OAAO,GAAG;UACd,GAAGZ,IAAI,CAACa,KAAK;UACbC,gBAAgB,EAAEd,IAAI,CAACa,KAAK,CAACJ,YAAY,GACnCC,UAAU,CAACG,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,GAC9D;QACR,CAAC;QAED,MAAMvB,GAAG,CAACwB,IAAI,CAAC,SAAS,EAAET,OAAO,CAAC;QAClCU,KAAK,CAAC,4BAA4B,CAAC;QACnCvB,MAAM,CAACwB,IAAI,CAAC,iBAAiB,CAAC;MAChC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEF,GAAG,CAAC;QACtCF,KAAK,CAAC,0CAA0C,CAAC;MACnD;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}