{"ast":null,"code":"import authService from '../services/authService';\nexport default {\n  name: 'RegisterPage',\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      login: '',\n      email: '',\n      password: '',\n      codeFamille: '',\n      loading: false,\n      message: null,\n      photo: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files[0];\n      this.photo = file || null;\n    },\n    async handleRegister() {\n      this.loading = true;\n      this.message = null;\n      try {\n        const formData = new FormData();\n        formData.append('nom', this.nom);\n        formData.append('prenom', this.prenom);\n        formData.append('login', this.login);\n        formData.append('email', this.email);\n        formData.append('password', this.password);\n        formData.append('codeFamille', this.codeFamille);\n        if (this.photo) {\n          formData.append('photo', this.photo);\n        }\n        await authService.register(formData);\n        this.message = {\n          type: 'success',\n          text: 'Inscription réussie ! Vérifiez votre mail pour valider votre compte.'\n        };\n      } catch (error) {\n        console.error('Erreur lors de l\\'inscription:', error, error.response?.data);\n        this.message = {\n          type: 'error',\n          text: error.response?.data?.message || 'Erreur lors de l\\'inscription'\n        };\n        this.$nextTick(() => {\n          const alert = document.querySelector('.alert-error');\n          if (alert) alert.scrollIntoView({\n            behavior: 'smooth'\n          });\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["authService","name","data","nom","prenom","login","email","password","codeFamille","loading","message","photo","methods","onFileChange","e","file","target","files","handleRegister","formData","FormData","append","register","type","text","error","console","response","$nextTick","alert","document","querySelector","scrollIntoView","behavior"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\Register.vue"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <div class=\"register-image left\">\n      <img src=\"@/assets/kitchen-left.jpg\" alt=\"Cuisine gauche\" />\n    </div>\n    <div class=\"register-card-modern\">\n      <h2>Inscription</h2>\n      <div v-if=\"message\" :class=\"['alert', message.type === 'success' ? 'alert-success' : 'alert-error']\">\n        {{ message.text }}\n      </div>\n      <form @submit.prevent=\"handleRegister\" class=\"register-form-modern\">\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"nom\">Nom</label>\n            <input type=\"text\" id=\"nom\" v-model=\"nom\" required placeholder=\"Votre nom\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"prenom\">Prénom</label>\n            <input type=\"text\" id=\"prenom\" v-model=\"prenom\" required placeholder=\"Votre prénom\">\n          </div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"login\">Nom d'utilisateur</label>\n            <input type=\"text\" id=\"login\" v-model=\"login\" required placeholder=\"Votre nom d'utilisateur\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" v-model=\"email\" required placeholder=\"Votre email\">\n          </div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"password\">Mot de passe</label>\n            <input type=\"password\" id=\"password\" v-model=\"password\" required placeholder=\"Votre mot de passe\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"codeFamille\">Code Famille</label>\n            <input type=\"text\" id=\"codeFamille\" v-model=\"codeFamille\" required placeholder=\"Ex: DUPONT2024\">\n          </div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"form-group\" style=\"width:100%\">\n            <label for=\"photo\">Photo de profil (optionnel)</label>\n            <input type=\"file\" id=\"photo\" @change=\"onFileChange\" accept=\"image/*\">\n          </div>\n        </div>\n        <button type=\"submit\" :disabled=\"loading\">\n          {{ loading ? 'Inscription en cours...' : 'S\\'inscrire' }}\n        </button>\n        <p class=\"login-link\">\n          Déjà inscrit ? <router-link to=\"/login\">Se connecter</router-link>\n        </p>\n      </form>\n    </div>\n    <div class=\"register-image right\">\n      <img src=\"@/assets/kitchen-right.jpg\" alt=\"Cuisine droite\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport authService from '../services/authService';\n\nexport default {\n  name: 'RegisterPage',\n  data() {\n    return {\n      nom: '',\n      prenom: '',\n      login: '',\n      email: '',\n      password: '',\n      codeFamille: '',\n      loading: false,\n      message: null,\n      photo: null\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files[0];\n      this.photo = file || null;\n    },\n    async handleRegister() {\n      this.loading = true;\n      this.message = null;\n\n      try {\n        const formData = new FormData();\n        formData.append('nom', this.nom);\n        formData.append('prenom', this.prenom);\n        formData.append('login', this.login);\n        formData.append('email', this.email);\n        formData.append('password', this.password);\n        formData.append('codeFamille', this.codeFamille);\n        if (this.photo) {\n          formData.append('photo', this.photo);\n        }\n        await authService.register(formData);\n        this.message = {\n          type: 'success',\n          text: 'Inscription réussie ! Vérifiez votre mail pour valider votre compte.'\n        };\n      } catch (error) {\n        console.error('Erreur lors de l\\'inscription:', error, error.response?.data);\n        this.message = {\n          type: 'error',\n          text: error.response?.data?.message || 'Erreur lors de l\\'inscription'\n        };\n        this.$nextTick(() => {\n          const alert = document.querySelector('.alert-error');\n          if (alert) alert.scrollIntoView({ behavior: 'smooth' });\n        });\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.register-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: linear-gradient(120deg, #e8f4f8 60%, #f5f5f5 100%);\n  padding: 0;\n  gap: 20px;\n}\n\n.register-image {\n  height: 540px;\n  width: 280px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 30px;\n  background: #fff;\n  box-shadow: 0 2px 10px rgba(44, 80, 56, 0.10);\n}\n.register-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 30px;\n}\n@media (max-width: 1100px) {\n  .register-image { display: none; }\n}\n\n.register-card-modern {\n  background: white;\n  padding: 48px 40px 40px 40px;\n  border-radius: 16px;\n  box-shadow: 0 4px 24px rgba(44, 80, 56, 0.13);\n  width: 100%;\n  max-width: 480px;\n  min-width: 340px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\nh2 {\n  text-align: center;\n  color: #006d77;\n  margin-bottom: 30px;\n  font-size: 2rem;\n  line-height: 1.3;\n  font-weight: 700;\n}\n\n.register-form-modern {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.form-row {\n  display: flex;\n  gap: 18px;\n  margin-bottom: 12px;\n}\n.form-group {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\nlabel {\n  margin-bottom: 7px;\n  color: #2c3e50;\n  font-weight: 500;\n  font-size: 1rem;\n}\ninput[type=\"text\"],\ninput[type=\"email\"],\ninput[type=\"password\"],\ninput[type=\"file\"],\ntextarea,\nselect {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  font-size: 16px;\n  margin-top: 2px;\n  box-sizing: border-box;\n  background: #f8fafc;\n  transition: border 0.2s;\n}\ninput:focus {\n  border: 1.5px solid #42b983;\n  outline: none;\n}\nbutton {\n  width: 100%;\n  padding: 14px;\n  background: linear-gradient(90deg, #42b983 60%, #2c5038 100%);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.3s;\n  margin-top: 18px;\n  box-shadow: 0 2px 8px rgba(44, 80, 56, 0.08);\n}\nbutton:hover {\n  background: linear-gradient(90deg, #3aa876 60%, #2c5038 100%);\n}\nbutton:disabled {\n  background: #a8a8a8;\n  cursor: not-allowed;\n}\n.login-link {\n  text-align: center;\n  margin-top: 22px;\n  font-size: 1rem;\n}\n.login-link a {\n  color: #42b983;\n  text-decoration: none;\n  font-weight: 500;\n}\n.alert {\n  padding: 12px;\n  border-radius: 6px;\n  margin-bottom: 20px;\n  text-align: center;\n  font-size: 1rem;\n}\n.alert-success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n.alert-error {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n@media (max-width: 900px) {\n  .register-container {\n    flex-direction: column;\n    padding: 18px 0;\n  }\n  .register-image {\n    display: none;\n  }\n  .register-card-modern {\n    border-radius: 18px;\n    min-width: unset;\n    max-width: 98vw;\n    padding: 28px 8px 28px 8px;\n  }\n  .form-row {\n    flex-direction: column;\n    gap: 0;\n  }\n}\n@media (max-width: 600px) {\n  .register-card-modern {\n    padding: 14px 2px 14px 2px;\n    min-width: unset;\n  }\n  h2 {\n    font-size: 1.2rem;\n    margin-bottom: 14px;\n  }\n  .form-group label {\n    font-size: 0.95rem;\n  }\n  .form-row {\n    margin-bottom: 6px;\n  }\n  button {\n    font-size: 0.95rem;\n    padding: 10px;\n  }\n}\n</style>\n"],"mappings":"AA8DA,OAAOA,WAAU,MAAO,yBAAyB;AAEjD,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,EAAE;MACPC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAACC,CAAC,EAAE;MACd,MAAMC,IAAG,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC9B,IAAI,CAACN,KAAI,GAAII,IAAG,IAAK,IAAI;IAC3B,CAAC;IACD,MAAMG,cAAcA,CAAA,EAAG;MACrB,IAAI,CAACT,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,OAAM,GAAI,IAAI;MAEnB,IAAI;QACF,MAAMS,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,KAAK,EAAE,IAAI,CAAClB,GAAG,CAAC;QAChCgB,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACjB,MAAM,CAAC;QACtCe,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAAChB,KAAK,CAAC;QACpCc,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACf,KAAK,CAAC;QACpCa,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACd,QAAQ,CAAC;QAC1CY,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE,IAAI,CAACb,WAAW,CAAC;QAChD,IAAI,IAAI,CAACG,KAAK,EAAE;UACdQ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,KAAK,CAAC;QACtC;QACA,MAAMX,WAAW,CAACsB,QAAQ,CAACH,QAAQ,CAAC;QACpC,IAAI,CAACT,OAAM,GAAI;UACba,IAAI,EAAE,SAAS;UACfC,IAAI,EAAE;QACR,CAAC;MACH,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,EAAEA,KAAK,CAACE,QAAQ,EAAEzB,IAAI,CAAC;QAC5E,IAAI,CAACQ,OAAM,GAAI;UACba,IAAI,EAAE,OAAO;UACbC,IAAI,EAAEC,KAAK,CAACE,QAAQ,EAAEzB,IAAI,EAAEQ,OAAM,IAAK;QACzC,CAAC;QACD,IAAI,CAACkB,SAAS,CAAC,MAAM;UACnB,MAAMC,KAAI,GAAIC,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;UACpD,IAAIF,KAAK,EAAEA,KAAK,CAACG,cAAc,CAAC;YAAEC,QAAQ,EAAE;UAAS,CAAC,CAAC;QACzD,CAAC,CAAC;MACJ,UAAU;QACR,IAAI,CAACxB,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}