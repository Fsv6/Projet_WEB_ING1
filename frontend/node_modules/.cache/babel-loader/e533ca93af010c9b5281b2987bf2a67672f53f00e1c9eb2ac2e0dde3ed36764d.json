{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withModifiers as _withModifiers, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-users-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"error-msg\"\n};\nconst _hoisted_3 = {\n  class: \"actions-bar\"\n};\nconst _hoisted_4 = {\n  class: \"search-box\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"loading-container\"\n};\nconst _hoisted_6 = {\n  key: 3,\n  class: \"no-users\"\n};\nconst _hoisted_7 = {\n  key: 4,\n  class: \"users-table\"\n};\nconst _hoisted_8 = {\n  class: \"users-data-table\"\n};\nconst _hoisted_9 = [\"src\", \"alt\"];\nconst _hoisted_10 = {\n  class: \"niveau-badge\"\n};\nconst _hoisted_11 = {\n  class: \"points-actions-cell\"\n};\nconst _hoisted_12 = {\n  class: \"points-badge\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = {\n  key: 5,\n  class: \"no-results\"\n};\nconst _hoisted_18 = {\n  key: 0,\n  class: \"modal\"\n};\nconst _hoisted_19 = {\n  class: \"modal-content user-modal-content\"\n};\nconst _hoisted_20 = {\n  class: \"form-row\"\n};\nconst _hoisted_21 = {\n  class: \"form-row\"\n};\nconst _hoisted_22 = {\n  class: \"form-row\"\n};\nconst _hoisted_23 = {\n  class: \"form-row\"\n};\nconst _hoisted_24 = {\n  class: \"form-row\"\n};\nconst _hoisted_25 = [\"value\"];\nconst _hoisted_26 = {\n  class: \"form-row\"\n};\nconst _hoisted_27 = {\n  class: \"form-row\"\n};\nconst _hoisted_28 = {\n  key: 0,\n  class: \"form-row\"\n};\nconst _hoisted_29 = {\n  class: \"form-row\"\n};\nconst _hoisted_30 = {\n  class: \"modal-actions\"\n};\nconst _hoisted_31 = {\n  key: 1,\n  class: \"modal\"\n};\nconst _hoisted_32 = {\n  class: \"modal-content\"\n};\nconst _hoisted_33 = {\n  class: \"form-row\"\n};\nconst _hoisted_34 = {\n  class: \"form-row\"\n};\nconst _hoisted_35 = {\n  class: \"form-row\"\n};\nconst _hoisted_36 = {\n  class: \"modal-actions\"\n};\nconst _hoisted_37 = {\n  key: 2,\n  class: \"modal\"\n};\nconst _hoisted_38 = {\n  class: \"modal-content points-history-modal\"\n};\nconst _hoisted_39 = {\n  class: \"modal-header\"\n};\nconst _hoisted_40 = {\n  class: \"modal-body\"\n};\nconst _hoisted_41 = {\n  class: \"user-points-summary\"\n};\nconst _hoisted_42 = {\n  class: \"total-points\"\n};\nconst _hoisted_43 = {\n  class: \"points-value\"\n};\nconst _hoisted_44 = {\n  class: \"points-history-list\"\n};\nconst _hoisted_45 = {\n  key: 0,\n  class: \"no-history\"\n};\nconst _hoisted_46 = {\n  key: 1,\n  class: \"points-history-table\"\n};\nconst _hoisted_47 = {\n  key: 3,\n  class: \"modal\"\n};\nconst _hoisted_48 = {\n  class: \"modal-content points-adjust-modal\"\n};\nconst _hoisted_49 = {\n  class: \"modal-header\"\n};\nconst _hoisted_50 = {\n  class: \"modal-body\"\n};\nconst _hoisted_51 = {\n  class: \"points-info\"\n};\nconst _hoisted_52 = {\n  class: \"form-row\"\n};\nconst _hoisted_53 = {\n  class: \"form-row\"\n};\nconst _hoisted_54 = [\"placeholder\"];\nconst _hoisted_55 = {\n  class: \"modal-actions\"\n};\nconst _hoisted_56 = [\"disabled\"];\nconst _hoisted_57 = {\n  key: 0\n};\nconst _hoisted_58 = {\n  key: 1\n};\nconst _hoisted_59 = {\n  key: 0,\n  class: \"error-msg\"\n};\nconst _hoisted_60 = {\n  key: 4,\n  class: \"modal\"\n};\nconst _hoisted_61 = {\n  class: \"modal-content level-change-modal\"\n};\nconst _hoisted_62 = {\n  class: \"modal-header\"\n};\nconst _hoisted_63 = {\n  class: \"modal-body\"\n};\nconst _hoisted_64 = {\n  class: \"level-change-content\"\n};\nconst _hoisted_65 = {\n  class: \"user-info-header\"\n};\nconst _hoisted_66 = {\n  class: \"user-login\"\n};\nconst _hoisted_67 = {\n  key: 0,\n  class: \"change-item\"\n};\nconst _hoisted_68 = {\n  class: \"change-details\"\n};\nconst _hoisted_69 = {\n  class: \"before-change\"\n};\nconst _hoisted_70 = {\n  class: \"value\"\n};\nconst _hoisted_71 = {\n  class: \"after-change\"\n};\nconst _hoisted_72 = {\n  class: \"value highlight\"\n};\nconst _hoisted_73 = {\n  key: 1,\n  class: \"change-item\"\n};\nconst _hoisted_74 = {\n  class: \"change-details\"\n};\nconst _hoisted_75 = {\n  class: \"before-change\"\n};\nconst _hoisted_76 = {\n  class: \"value\"\n};\nconst _hoisted_77 = {\n  class: \"after-change\"\n};\nconst _hoisted_78 = {\n  class: \"value highlight\"\n};\nconst _hoisted_79 = {\n  class: \"points-summary\"\n};\nconst _hoisted_80 = {\n  class: \"points-value\"\n};\nconst _hoisted_81 = {\n  class: \"congratulations-message\"\n};\nconst _hoisted_82 = {\n  key: 0\n};\nconst _hoisted_83 = {\n  class: \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_UserHistoryModal = _resolveComponent(\"UserHistoryModal\");\n  const _component_AppLayout = _resolveComponent(\"AppLayout\");\n  return _openBlock(), _createBlock(_component_AppLayout, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_cache[37] || (_cache[37] = _createElementVNode(\"h1\", {\n      class: \"page-title\"\n    }, \"Gestion des utilisateurs\", -1 /* HOISTED */)), _createCommentVNode(\" Message d'erreur pour le chargement des utilisateurs \"), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[28] || (_cache[28] = _createElementVNode(\"i\", {\n      class: \"fas fa-exclamation-triangle\"\n    }, null, -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.errorMessage), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n      placeholder: \"Rechercher...\",\n      class: \"search-input\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchQuery]])]), _createElementVNode(\"button\", {\n      onClick: _cache[1] || (_cache[1] = (...args) => $setup.openAddUserModal && $setup.openAddUserModal(...args)),\n      class: \"add-user-btn\"\n    }, \" Ajouter un utilisateur \")]), _ctx.deleteMessage ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 1,\n      class: _normalizeClass({\n        'success-msg': _ctx.deleteSuccess,\n        'error-msg': !_ctx.deleteSuccess\n      })\n    }, _toDisplayString(_ctx.deleteMessage), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Indicateur de chargement \"), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _cache[29] || (_cache[29] = [_createElementVNode(\"div\", {\n      class: \"loading-spinner\"\n    }, [_createElementVNode(\"i\", {\n      class: \"fas fa-spinner fa-spin\"\n    })], -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Chargement des utilisateurs...\", -1 /* HOISTED */)]))) : $setup.users.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _cache[30] || (_cache[30] = [_createElementVNode(\"i\", {\n      class: \"fas fa-users-slash\"\n    }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Aucun utilisateur trouvé\", -1 /* HOISTED */)]))) : $setup.filteredUsers.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"table\", _hoisted_8, [_cache[35] || (_cache[35] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Photo\"), _createElementVNode(\"th\", null, \"Nom\"), _createElementVNode(\"th\", null, \"Prénom\"), _createElementVNode(\"th\", null, \"Famille\"), _createElementVNode(\"th\", null, \"Login\"), _createElementVNode(\"th\", null, \"Rôle/Niveau\"), _createElementVNode(\"th\", null, \"Points & Actions\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredUsers, user => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: user._id\n      }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n        src: $setup.getPhotoUrl(user.photo, user._id),\n        alt: user.login,\n        class: \"user-avatar\",\n        onError: _cache[2] || (_cache[2] = (...args) => $setup.handleImageError && $setup.handleImageError(...args))\n      }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_9)]), _createElementVNode(\"td\", null, _toDisplayString(user.nom), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.prenom), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.famille?.codeFamille || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.login), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n        class: _normalizeClass($setup.getRoleBadgeClass(user.role))\n      }, _toDisplayString(user.role), 3 /* TEXT, CLASS */), _createElementVNode(\"span\", _hoisted_10, \"/\" + _toDisplayString(user.niveau), 1 /* TEXT */)]), _createElementVNode(\"td\", _hoisted_11, [_createElementVNode(\"span\", _hoisted_12, _toDisplayString(user.points || 0), 1 /* TEXT */), _createElementVNode(\"button\", {\n        onClick: $event => $setup.adjustPoints(user),\n        class: \"points-adjust-btn\",\n        title: \"Ajuster les points\"\n      }, [...(_cache[31] || (_cache[31] = [_createElementVNode(\"i\", {\n        class: \"fas fa-plus-circle\"\n      }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_13), _createElementVNode(\"button\", {\n        onClick: $event => $setup.editUser(user),\n        class: \"action-btn edit\",\n        title: \"Modifier\"\n      }, [...(_cache[32] || (_cache[32] = [_createElementVNode(\"i\", {\n        class: \"fas fa-edit\"\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", {\n        class: \"tooltip\"\n      }, \"Modifier\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_14), _createElementVNode(\"button\", {\n        onClick: $event => $setup.confirmDelete(user),\n        class: \"action-btn delete\",\n        title: \"Supprimer\"\n      }, [...(_cache[33] || (_cache[33] = [_createElementVNode(\"i\", {\n        class: \"fas fa-trash\"\n      }, null, -1 /* HOISTED */), _createElementVNode(\"span\", {\n        class: \"tooltip\"\n      }, \"Supprimer\", -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_15), _createElementVNode(\"button\", {\n        onClick: $event => $setup.showHistory(user),\n        class: \"action-btn history\",\n        title: \"Voir historique\"\n      }, [...(_cache[34] || (_cache[34] = [_createElementVNode(\"i\", {\n        class: \"fas fa-history\"\n      }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_16)])]);\n    }), 128 /* KEYED_FRAGMENT */))])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _cache[36] || (_cache[36] = [_createElementVNode(\"i\", {\n      class: \"fas fa-search\"\n    }, null, -1 /* HOISTED */), _createElementVNode(\"p\", null, \"Aucun résultat ne correspond à votre recherche\", -1 /* HOISTED */)])))]), _createCommentVNode(\" Modal pour éditer/ajouter un utilisateur \"), $setup.showModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h2\", null, _toDisplayString($setup.editingUser ? 'Modifier' : 'Ajouter') + \" un utilisateur\", 1 /* TEXT */), _createElementVNode(\"form\", {\n      onSubmit: _cache[14] || (_cache[14] = _withModifiers((...args) => $setup.saveUser && $setup.saveUser(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", _hoisted_20, [_cache[38] || (_cache[38] = _createElementVNode(\"label\", null, \"Nom :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.nom = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.nom]])]), _createElementVNode(\"div\", _hoisted_21, [_cache[39] || (_cache[39] = _createElementVNode(\"label\", null, \"Prénom :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.form.prenom = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.prenom]])]), _createElementVNode(\"div\", _hoisted_22, [_cache[40] || (_cache[40] = _createElementVNode(\"label\", null, \"Email :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.form.email = $event),\n      type: \"email\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.email]])]), _createElementVNode(\"div\", _hoisted_23, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", null, \"Genre :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.form.genre = $event),\n      required: \"\"\n    }, _cache[41] || (_cache[41] = [_createElementVNode(\"option\", {\n      value: \"Homme\"\n    }, \"Homme\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"Femme\"\n    }, \"Femme\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.form.genre]])]), _createElementVNode(\"div\", _hoisted_24, [_cache[45] || (_cache[45] = _createElementVNode(\"label\", null, \"Famille :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.form.codeFamille = $event),\n      required: \"\"\n    }, [_cache[43] || (_cache[43] = _createElementVNode(\"option\", {\n      value: \"\"\n    }, \"Sélectionner une famille\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.familles, famille => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: famille._id,\n        value: famille.codeFamille\n      }, _toDisplayString(famille.codeFamille), 9 /* TEXT, PROPS */, _hoisted_25);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.form.codeFamille]]), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[8] || (_cache[8] = (...args) => $setup.openAddFamilleModal && $setup.openAddFamilleModal(...args)),\n      class: \"add-famille-btn\"\n    }, _cache[44] || (_cache[44] = [_createElementVNode(\"i\", {\n      class: \"fas fa-plus\"\n    }, null, -1 /* HOISTED */), _createTextVNode(\" Nouvelle famille \")]))]), _createElementVNode(\"div\", _hoisted_26, [_cache[46] || (_cache[46] = _createElementVNode(\"label\", null, \"Login :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.form.login = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.login]])]), _createElementVNode(\"div\", _hoisted_27, [_cache[48] || (_cache[48] = _createElementVNode(\"label\", null, \"Rôle :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $setup.form.role = $event),\n      required: \"\"\n    }, _cache[47] || (_cache[47] = [_createElementVNode(\"option\", {\n      value: \"simple\"\n    }, \"Simple\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"complexe\"\n    }, \"Complexe\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"admin\"\n    }, \"Admin\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.form.role]])]), !$setup.editingUser ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [_cache[49] || (_cache[49] = _createElementVNode(\"label\", null, \"Mot de passe :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $setup.form.password = $event),\n      type: \"password\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.form.password]])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_29, [_cache[51] || (_cache[51] = _createElementVNode(\"label\", null, \"Niveau :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $setup.form.niveau = $event),\n      required: \"\"\n    }, _cache[50] || (_cache[50] = [_createElementVNode(\"option\", {\n      value: \"débutant\"\n    }, \"Débutant\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"intermédiaire\"\n    }, \"Intermédiaire\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"avancé\"\n    }, \"Avancé\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"expert\"\n    }, \"Expert\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $setup.form.niveau]])]), _createElementVNode(\"div\", _hoisted_30, [_cache[52] || (_cache[52] = _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"save-btn\"\n    }, \"Enregistrer\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[13] || (_cache[13] = (...args) => $setup.closeModal && $setup.closeModal(...args)),\n      class: \"cancel-btn\"\n    }, \"Annuler\")])], 32 /* NEED_HYDRATION */), $setup.formMessage ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: _normalizeClass({\n        'success-msg': $setup.formSuccess,\n        'error-msg': !$setup.formSuccess\n      })\n    }, _toDisplayString($setup.formMessage), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true)])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal pour ajouter une famille \"), $setup.showFamilleModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_createElementVNode(\"div\", _hoisted_32, [_cache[57] || (_cache[57] = _createElementVNode(\"h2\", null, \"Ajouter une famille\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n      onSubmit: _cache[19] || (_cache[19] = _withModifiers((...args) => $setup.saveFamille && $setup.saveFamille(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", _hoisted_33, [_cache[53] || (_cache[53] = _createElementVNode(\"label\", null, \"Code Famille :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $setup.familleForm.codeFamille = $event),\n      type: \"text\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.familleForm.codeFamille]])]), _createElementVNode(\"div\", _hoisted_34, [_cache[54] || (_cache[54] = _createElementVNode(\"label\", null, \"Nom de la famille :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $setup.familleForm.nom = $event),\n      type: \"text\",\n      required: \"\",\n      placeholder: \"Ex: Famille Dupont\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.familleForm.nom]])]), _createElementVNode(\"div\", _hoisted_35, [_cache[55] || (_cache[55] = _createElementVNode(\"label\", null, \"Description :\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $setup.familleForm.description = $event),\n      placeholder: \"Description de la famille (optionnelle)\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.familleForm.description]])]), _createElementVNode(\"div\", _hoisted_36, [_cache[56] || (_cache[56] = _createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"save-btn\"\n    }, \"Enregistrer\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[18] || (_cache[18] = (...args) => $setup.closeFamilleModal && $setup.closeFamilleModal(...args)),\n      class: \"cancel-btn\"\n    }, \"Annuler\")])], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_UserHistoryModal, {\n      show: $setup.showHistoryModal,\n      user: $setup.selectedUser,\n      onClose: $setup.closeHistoryModal\n    }, null, 8 /* PROPS */, [\"show\", \"user\", \"onClose\"]), _createCommentVNode(\" Modal pour l'historique des points \"), $setup.showPointsHistoryModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [_createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"h2\", null, \"Historique des points - \" + _toDisplayString($setup.selectedUser?.login), 1 /* TEXT */), _createElementVNode(\"button\", {\n      class: \"close-btn\",\n      onClick: _cache[20] || (_cache[20] = (...args) => $setup.closePointsHistoryModal && $setup.closePointsHistoryModal(...args))\n    }, _cache[58] || (_cache[58] = [_createElementVNode(\"i\", {\n      class: \"fas fa-times\"\n    }, null, -1 /* HOISTED */)]))]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"p\", _hoisted_42, [_cache[59] || (_cache[59] = _createTextVNode(\" Points actuels: \")), _createElementVNode(\"span\", _hoisted_43, _toDisplayString($setup.selectedUser?.points || 0), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_44, [$setup.pointsHistory.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_45, \" Aucun historique de points disponible \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_46, [_createElementVNode(\"table\", null, [_cache[60] || (_cache[60] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Date\"), _createElementVNode(\"th\", null, \"Action\"), _createElementVNode(\"th\", null, \"Montant\"), _createElementVNode(\"th\", null, \"Avant\"), _createElementVNode(\"th\", null, \"Après\"), _createElementVNode(\"th\", null, \"Raison\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.pointsHistory, (entry, index) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: index\n      }, [_createElementVNode(\"td\", null, _toDisplayString($setup.formatDate(entry.date)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($setup.formatAction(entry.action)), 1 /* TEXT */), _createElementVNode(\"td\", {\n        class: _normalizeClass($setup.getPointsClass(entry.details.montant))\n      }, _toDisplayString($setup.formatPointsChange(entry.details.montant)), 3 /* TEXT, CLASS */), _createElementVNode(\"td\", null, _toDisplayString(entry.details.pointsAvant), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(entry.details.pointsApres), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(entry.details.raison), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])])]))])])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal pour ajuster les points \"), $setup.showPointsAdjustModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_47, [_createElementVNode(\"div\", _hoisted_48, [_createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"h2\", null, [_createTextVNode(\"Ajuster les points - \" + _toDisplayString($setup.selectedUser?.login) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      class: \"close-btn\",\n      onClick: _cache[21] || (_cache[21] = (...args) => $setup.closePointsAdjustModal && $setup.closePointsAdjustModal(...args))\n    }, \"×\")])]), _createElementVNode(\"div\", _hoisted_50, [_createElementVNode(\"div\", _hoisted_51, [_createElementVNode(\"p\", null, [_cache[61] || (_cache[61] = _createTextVNode(\"Points actuels: \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.selectedUser?.points || 0), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[62] || (_cache[62] = _createTextVNode(\"Niveau actuel: \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.selectedUser?.niveau), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[63] || (_cache[63] = _createTextVNode(\"Rôle actuel: \")), _createElementVNode(\"strong\", null, _toDisplayString($setup.selectedUser?.role), 1 /* TEXT */)])]), _createElementVNode(\"form\", {\n      onSubmit: _cache[25] || (_cache[25] = _withModifiers((...args) => $setup.savePointsAdjustment && $setup.savePointsAdjustment(...args), [\"prevent\"]))\n    }, [_createElementVNode(\"div\", _hoisted_52, [_cache[64] || (_cache[64] = _createElementVNode(\"label\", null, \"Montant des points:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": _cache[22] || (_cache[22] = $event => $setup.pointsForm.amount = $event),\n      step: \"0.5\",\n      placeholder: \"Entrez un nombre positif ou négatif\",\n      required: \"\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.pointsForm.amount]])]), _createElementVNode(\"div\", _hoisted_53, [_cache[65] || (_cache[65] = _createElementVNode(\"label\", null, \"Raison:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[23] || (_cache[23] = $event => $setup.pointsForm.reason = $event),\n      placeholder: $setup.selectedUser?.prenom ? `${$setup.selectedUser.prenom} a été sage aujourd'hui !` : 'Ajustement de points'\n    }, null, 8 /* PROPS */, _hoisted_54), [[_vModelText, $setup.pointsForm.reason]])]), _createElementVNode(\"div\", _hoisted_55, [_createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"save-btn\",\n      disabled: $setup.loading\n    }, [$setup.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_57, \"Traitement...\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_58, \"Confirmer\"))], 8 /* PROPS */, _hoisted_56), _createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[24] || (_cache[24] = (...args) => $setup.closePointsAdjustModal && $setup.closePointsAdjustModal(...args)),\n      class: \"cancel-btn\"\n    }, \"Annuler\")])], 32 /* NEED_HYDRATION */), $setup.pointsErrorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_59, _toDisplayString($setup.pointsErrorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Modal de notification pour changement de niveau/rôle \"), $setup.showLevelChangeModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_60, [_createElementVNode(\"div\", _hoisted_61, [_createElementVNode(\"div\", _hoisted_62, [_cache[67] || (_cache[67] = _createElementVNode(\"h2\", null, \"Évolution de l'utilisateur\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n      class: \"close-btn\",\n      onClick: _cache[26] || (_cache[26] = (...args) => $setup.closeLevelChangeModal && $setup.closeLevelChangeModal(...args))\n    }, _cache[66] || (_cache[66] = [_createElementVNode(\"i\", {\n      class: \"fas fa-times\"\n    }, null, -1 /* HOISTED */)]))]), _createElementVNode(\"div\", _hoisted_63, [_createElementVNode(\"div\", _hoisted_64, [_createElementVNode(\"div\", _hoisted_65, [_createElementVNode(\"span\", _hoisted_66, _toDisplayString($setup.selectedUser?.login), 1 /* TEXT */)]), $setup.levelChangeData.niveauChanged ? (_openBlock(), _createElementBlock(\"div\", _hoisted_67, [_cache[70] || (_cache[70] = _createElementVNode(\"div\", {\n      class: \"change-label\"\n    }, \"Changement de niveau\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_68, [_createElementVNode(\"div\", _hoisted_69, [_cache[68] || (_cache[68] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"Avant:\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_70, _toDisplayString($setup.levelChangeData.niveauAvant), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_71, [_cache[69] || (_cache[69] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"Après:\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_72, _toDisplayString($setup.levelChangeData.niveauApres), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), $setup.levelChangeData.roleChanged ? (_openBlock(), _createElementBlock(\"div\", _hoisted_73, [_cache[73] || (_cache[73] = _createElementVNode(\"div\", {\n      class: \"change-label\"\n    }, \"Changement de rôle\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_74, [_createElementVNode(\"div\", _hoisted_75, [_cache[71] || (_cache[71] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"Avant:\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_76, _toDisplayString($setup.levelChangeData.roleAvant), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_77, [_cache[72] || (_cache[72] = _createElementVNode(\"span\", {\n      class: \"label\"\n    }, \"Après:\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_78, _toDisplayString($setup.levelChangeData.roleApres), 1 /* TEXT */)])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_79, [_cache[74] || (_cache[74] = _createElementVNode(\"div\", {\n      class: \"points-label\"\n    }, \"Points actuels:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_80, _toDisplayString($setup.selectedUser?.points), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_81, [$setup.levelChangeData.niveauChanged || $setup.levelChangeData.roleChanged ? (_openBlock(), _createElementBlock(\"p\", _hoisted_82, [$setup.isLevelUpgrade($setup.levelChangeData.niveauAvant, $setup.levelChangeData.niveauApres) || $setup.isRoleUpgrade($setup.levelChangeData.roleAvant, $setup.levelChangeData.roleApres) ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createTextVNode(\" 🎉 Félicitations ! L'utilisateur a progressé ! \")], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createTextVNode(\" ⚠️ Attention ! L'utilisateur a régressé suite à la perte de points. \")], 64 /* STABLE_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)])])]), _createElementVNode(\"div\", _hoisted_83, [_createElementVNode(\"button\", {\n      class: \"btn primary\",\n      onClick: _cache[27] || (_cache[27] = (...args) => $setup.closeLevelChangeModal && $setup.closeLevelChangeModal(...args))\n    }, \"Fermer\")])])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","key","_createBlock","_component_AppLayout","default","_withCtx","_createElementVNode","_hoisted_1","_createCommentVNode","$setup","errorMessage","_createElementBlock","_hoisted_2","_createTextVNode","_toDisplayString","_hoisted_3","_hoisted_4","type","_cache","$event","searchQuery","placeholder","onClick","args","openAddUserModal","_ctx","deleteMessage","_normalizeClass","deleteSuccess","isLoading","_hoisted_5","users","length","_hoisted_6","filteredUsers","_hoisted_7","_hoisted_8","_Fragment","_renderList","user","_id","src","getPhotoUrl","photo","alt","login","onError","handleImageError","_hoisted_9","nom","prenom","famille","codeFamille","getRoleBadgeClass","role","_hoisted_10","niveau","_hoisted_11","_hoisted_12","points","adjustPoints","title","_hoisted_13","editUser","_hoisted_14","confirmDelete","_hoisted_15","showHistory","_hoisted_16","_hoisted_17","showModal","_hoisted_18","_hoisted_19","editingUser","onSubmit","_withModifiers","saveUser","_hoisted_20","form","required","_hoisted_21","_hoisted_22","email","_hoisted_23","genre","value","_hoisted_24","familles","_hoisted_25","openAddFamilleModal","_hoisted_26","_hoisted_27","_hoisted_28","password","_hoisted_29","_hoisted_30","closeModal","formMessage","formSuccess","showFamilleModal","_hoisted_31","_hoisted_32","saveFamille","_hoisted_33","familleForm","_hoisted_34","_hoisted_35","description","_hoisted_36","closeFamilleModal","_createVNode","_component_UserHistoryModal","show","showHistoryModal","selectedUser","onClose","closeHistoryModal","showPointsHistoryModal","_hoisted_37","_hoisted_38","_hoisted_39","closePointsHistoryModal","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","pointsHistory","_hoisted_45","_hoisted_46","entry","index","formatDate","date","formatAction","action","getPointsClass","details","montant","formatPointsChange","pointsAvant","pointsApres","raison","showPointsAdjustModal","_hoisted_47","_hoisted_48","_hoisted_49","closePointsAdjustModal","_hoisted_50","_hoisted_51","savePointsAdjustment","_hoisted_52","pointsForm","amount","step","_hoisted_53","reason","_hoisted_54","_hoisted_55","disabled","loading","_hoisted_57","_hoisted_58","_hoisted_56","pointsErrorMessage","_hoisted_59","showLevelChangeModal","_hoisted_60","_hoisted_61","_hoisted_62","closeLevelChangeModal","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","levelChangeData","niveauChanged","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","niveauAvant","_hoisted_71","_hoisted_72","niveauApres","roleChanged","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","roleAvant","_hoisted_77","_hoisted_78","roleApres","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","isLevelUpgrade","isRoleUpgrade","_hoisted_83","_"],"sources":["C:\\Users\\benab\\Desktop\\COURS 24_25\\S2\\WEB\\V4\\Projet_WEB_ING1\\frontend\\src\\views\\AdminUsers.vue"],"sourcesContent":["<template>\n  <AppLayout>\n    <div class=\"admin-users-container\">\n      <h1 class=\"page-title\">Gestion des utilisateurs</h1>\n\n      <!-- Message d'erreur pour le chargement des utilisateurs -->\n      <div v-if=\"errorMessage\" class=\"error-msg\">\n        <i class=\"fas fa-exclamation-triangle\"></i> {{ errorMessage }}\n      </div>\n\n      <div class=\"actions-bar\">\n        <div class=\"search-box\">\n          <input\n              type=\"text\"\n              v-model=\"searchQuery\"\n              placeholder=\"Rechercher...\"\n              class=\"search-input\"\n          />\n        </div>\n        <button @click=\"openAddUserModal\" class=\"add-user-btn\">\n          Ajouter un utilisateur\n        </button>\n      </div>\n      <div v-if=\"deleteMessage\" :class=\"{'success-msg': deleteSuccess, 'error-msg': !deleteSuccess}\">\n        {{ deleteMessage }}\n      </div>\n\n      <!-- Indicateur de chargement -->\n      <div v-if=\"isLoading\" class=\"loading-container\">\n        <div class=\"loading-spinner\">\n          <i class=\"fas fa-spinner fa-spin\"></i>\n        </div>\n        <p>Chargement des utilisateurs...</p>\n      </div>\n\n      <div v-else-if=\"users.length === 0\" class=\"no-users\">\n        <i class=\"fas fa-users-slash\"></i>\n        <p>Aucun utilisateur trouvé</p>\n      </div>\n\n      <div v-else-if=\"filteredUsers.length > 0\" class=\"users-table\">\n        <table class=\"users-data-table\">\n          <thead>\n          <tr>\n            <th>Photo</th>\n            <th>Nom</th>\n            <th>Prénom</th>\n            <th>Famille</th>\n            <th>Login</th>\n            <th>Rôle/Niveau</th>\n            <th>Points & Actions</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr v-for=\"user in filteredUsers\" :key=\"user._id\">\n            <td>\n              <img\n                  :src=\"getPhotoUrl(user.photo, user._id)\"\n                  :alt=\"user.login\"\n                  class=\"user-avatar\"\n                  @error=\"handleImageError\"\n              />\n            </td>\n            <td>{{ user.nom }}</td>\n            <td>{{ user.prenom }}</td>\n            <td>{{ user.famille?.codeFamille || '-' }}</td>\n            <td>{{ user.login }}</td>\n            <td>\n              <span :class=\"getRoleBadgeClass(user.role)\">\n                {{ user.role }}\n              </span>\n              <span class=\"niveau-badge\">/{{ user.niveau }}</span>\n            </td>\n            <td class=\"points-actions-cell\">\n              <span class=\"points-badge\">{{ user.points || 0 }}</span>\n              <button @click=\"adjustPoints(user)\" class=\"points-adjust-btn\" title=\"Ajuster les points\">\n                <i class=\"fas fa-plus-circle\"></i>\n              </button>\n              <button @click=\"editUser(user)\" class=\"action-btn edit\" title=\"Modifier\">\n                <i class=\"fas fa-edit\"></i>\n                <span class=\"tooltip\">Modifier</span>\n              </button>\n              <button @click=\"confirmDelete(user)\" class=\"action-btn delete\" title=\"Supprimer\">\n                <i class=\"fas fa-trash\"></i>\n                <span class=\"tooltip\">Supprimer</span>\n              </button>\n              <button @click=\"showHistory(user)\" class=\"action-btn history\" title=\"Voir historique\">\n                <i class=\"fas fa-history\"></i>\n              </button>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div v-else class=\"no-results\">\n        <i class=\"fas fa-search\"></i>\n        <p>Aucun résultat ne correspond à votre recherche</p>\n      </div>\n\n    </div>\n\n    <!-- Modal pour éditer/ajouter un utilisateur -->\n    <div v-if=\"showModal\" class=\"modal\">\n      <div class=\"modal-content user-modal-content\">\n        <h2>{{ editingUser ? 'Modifier' : 'Ajouter' }} un utilisateur</h2>\n        <form @submit.prevent=\"saveUser\">\n          <div class=\"form-row\">\n            <label>Nom :</label>\n            <input v-model=\"form.nom\" type=\"text\" required />\n          </div>\n          <div class=\"form-row\">\n            <label>Prénom :</label>\n            <input v-model=\"form.prenom\" type=\"text\" required />\n          </div>\n          <div class=\"form-row\">\n            <label>Email :</label>\n            <input v-model=\"form.email\" type=\"email\" required />\n          </div>\n          <div class=\"form-row\">\n            <label>Genre :</label>\n            <select v-model=\"form.genre\" required>\n              <option value=\"Homme\">Homme</option>\n              <option value=\"Femme\">Femme</option>\n            </select>\n          </div>\n          <div class=\"form-row\">\n            <label>Famille :</label>\n            <select v-model=\"form.codeFamille\" required>\n              <option value=\"\">Sélectionner une famille</option>\n              <option v-for=\"famille in familles\" :key=\"famille._id\" :value=\"famille.codeFamille\">\n                {{ famille.codeFamille }}\n              </option>\n            </select>\n            <button type=\"button\" @click=\"openAddFamilleModal\" class=\"add-famille-btn\">\n              <i class=\"fas fa-plus\"></i> Nouvelle famille\n            </button>\n          </div>\n          <div class=\"form-row\">\n            <label>Login :</label>\n            <input v-model=\"form.login\" type=\"text\" required />\n          </div>\n          <div class=\"form-row\">\n            <label>Rôle :</label>\n            <select v-model=\"form.role\" required>\n              <option value=\"simple\">Simple</option>\n              <option value=\"complexe\">Complexe</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n          <div class=\"form-row\" v-if=\"!editingUser\">\n            <label>Mot de passe :</label>\n            <input v-model=\"form.password\" type=\"password\" required />\n          </div>\n          <div class=\"form-row\">\n            <label>Niveau :</label>\n            <select v-model=\"form.niveau\" required>\n              <option value=\"débutant\">Débutant</option>\n              <option value=\"intermédiaire\">Intermédiaire</option>\n              <option value=\"avancé\">Avancé</option>\n              <option value=\"expert\">Expert</option>\n            </select>\n          </div>\n          <div class=\"modal-actions\">\n            <button type=\"submit\" class=\"save-btn\">Enregistrer</button>\n            <button type=\"button\" @click=\"closeModal\" class=\"cancel-btn\">Annuler</button>\n          </div>\n        </form>\n        <div v-if=\"formMessage\" :class=\"{'success-msg': formSuccess, 'error-msg': !formSuccess}\">{{ formMessage }}</div>\n      </div>\n    </div>\n\n    <!-- Modal pour ajouter une famille -->\n    <div v-if=\"showFamilleModal\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h2>Ajouter une famille</h2>\n        <form @submit.prevent=\"saveFamille\">\n          <div class=\"form-row\">\n            <label>Code Famille :</label>\n            <input v-model=\"familleForm.codeFamille\" type=\"text\" required />\n          </div>\n          <div class=\"form-row\">\n            <label>Nom de la famille :</label>\n            <input v-model=\"familleForm.nom\" type=\"text\" required placeholder=\"Ex: Famille Dupont\" />\n          </div>\n          <div class=\"form-row\">\n            <label>Description :</label>\n            <textarea v-model=\"familleForm.description\" placeholder=\"Description de la famille (optionnelle)\"></textarea>\n          </div>\n          <div class=\"modal-actions\">\n            <button type=\"submit\" class=\"save-btn\">Enregistrer</button>\n            <button type=\"button\" @click=\"closeFamilleModal\" class=\"cancel-btn\">Annuler</button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <UserHistoryModal\n        :show=\"showHistoryModal\"\n        :user=\"selectedUser\"\n        @close=\"closeHistoryModal\"\n    />\n\n    <!-- Modal pour l'historique des points -->\n    <div v-if=\"showPointsHistoryModal\" class=\"modal\">\n      <div class=\"modal-content points-history-modal\">\n        <div class=\"modal-header\">\n          <h2>Historique des points - {{ selectedUser?.login }}</h2>\n          <button class=\"close-btn\" @click=\"closePointsHistoryModal\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"user-points-summary\">\n            <p class=\"total-points\">\n              Points actuels: <span class=\"points-value\">{{ selectedUser?.points || 0 }}</span>\n            </p>\n          </div>\n\n          <div class=\"points-history-list\">\n            <div v-if=\"pointsHistory.length === 0\" class=\"no-history\">\n              Aucun historique de points disponible\n            </div>\n            <div v-else class=\"points-history-table\">\n              <table>\n                <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Action</th>\n                  <th>Montant</th>\n                  <th>Avant</th>\n                  <th>Après</th>\n                  <th>Raison</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr v-for=\"(entry, index) in pointsHistory\" :key=\"index\">\n                  <td>{{ formatDate(entry.date) }}</td>\n                  <td>{{ formatAction(entry.action) }}</td>\n                  <td :class=\"getPointsClass(entry.details.montant)\">\n                    {{ formatPointsChange(entry.details.montant) }}\n                  </td>\n                  <td>{{ entry.details.pointsAvant }}</td>\n                  <td>{{ entry.details.pointsApres }}</td>\n                  <td>{{ entry.details.raison }}</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal pour ajuster les points -->\n    <div v-if=\"showPointsAdjustModal\" class=\"modal\">\n      <div class=\"modal-content points-adjust-modal\">\n        <div class=\"modal-header\">\n          <h2>Ajuster les points - {{ selectedUser?.login }} <button class=\"close-btn\" @click=\"closePointsAdjustModal\">×</button></h2>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"points-info\">\n            <p>Points actuels: <strong>{{ selectedUser?.points || 0 }}</strong></p>\n            <p>Niveau actuel: <strong>{{ selectedUser?.niveau }}</strong></p>\n            <p>Rôle actuel: <strong>{{ selectedUser?.role }}</strong></p>\n          </div>\n          <form @submit.prevent=\"savePointsAdjustment\">\n            <div class=\"form-row\">\n              <label>Montant des points:</label>\n              <input\n                type=\"number\"\n                v-model=\"pointsForm.amount\"\n                step=\"0.5\"\n                placeholder=\"Entrez un nombre positif ou négatif\"\n                required\n              />\n            </div>\n            <div class=\"form-row\">\n              <label>Raison:</label>\n              <input\n                type=\"text\"\n                v-model=\"pointsForm.reason\"\n                :placeholder=\"selectedUser?.prenom ? `${selectedUser.prenom} a été sage aujourd'hui !` : 'Ajustement de points'\"\n              />\n            </div>\n            <div class=\"modal-actions\">\n              <button type=\"submit\" class=\"save-btn\" :disabled=\"loading\">\n                <span v-if=\"loading\">Traitement...</span>\n                <span v-else>Confirmer</span>\n              </button>\n              <button type=\"button\" @click=\"closePointsAdjustModal\" class=\"cancel-btn\">Annuler</button>\n            </div>\n          </form>\n          <div v-if=\"pointsErrorMessage\" class=\"error-msg\">{{ pointsErrorMessage }}</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal de notification pour changement de niveau/rôle -->\n    <div v-if=\"showLevelChangeModal\" class=\"modal\">\n      <div class=\"modal-content level-change-modal\">\n        <div class=\"modal-header\">\n          <h2>Évolution de l'utilisateur</h2>\n          <button class=\"close-btn\" @click=\"closeLevelChangeModal\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"level-change-content\">\n            <div class=\"user-info-header\">\n              <span class=\"user-login\">{{ selectedUser?.login }}</span>\n            </div>\n\n            <div v-if=\"levelChangeData.niveauChanged\" class=\"change-item\">\n              <div class=\"change-label\">Changement de niveau</div>\n              <div class=\"change-details\">\n                <div class=\"before-change\">\n                  <span class=\"label\">Avant:</span>\n                  <span class=\"value\">{{ levelChangeData.niveauAvant }}</span>\n                </div>\n                <div class=\"after-change\">\n                  <span class=\"label\">Après:</span>\n                  <span class=\"value highlight\">{{ levelChangeData.niveauApres }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div v-if=\"levelChangeData.roleChanged\" class=\"change-item\">\n              <div class=\"change-label\">Changement de rôle</div>\n              <div class=\"change-details\">\n                <div class=\"before-change\">\n                  <span class=\"label\">Avant:</span>\n                  <span class=\"value\">{{ levelChangeData.roleAvant }}</span>\n                </div>\n                <div class=\"after-change\">\n                  <span class=\"label\">Après:</span>\n                  <span class=\"value highlight\">{{ levelChangeData.roleApres }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"points-summary\">\n              <div class=\"points-label\">Points actuels:</div>\n              <div class=\"points-value\">{{ selectedUser?.points }}</div>\n            </div>\n\n            <div class=\"congratulations-message\">\n              <p v-if=\"levelChangeData.niveauChanged || levelChangeData.roleChanged\">\n                <template v-if=\"isLevelUpgrade(levelChangeData.niveauAvant, levelChangeData.niveauApres) || isRoleUpgrade(levelChangeData.roleAvant, levelChangeData.roleApres)\">\n                  🎉 Félicitations ! L'utilisateur a progressé !\n                </template>\n                <template v-else>\n                  ⚠️ Attention ! L'utilisateur a régressé suite à la perte de points.\n                </template>\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button class=\"btn primary\" @click=\"closeLevelChangeModal\">Fermer</button>\n        </div>\n      </div>\n    </div>\n  </AppLayout>\n</template>\n\n<script>\nimport { ref, onMounted, computed } from 'vue';\nimport AppLayout from '@/layout/AppLayoutGlobal.vue';\nimport api from '@/services/api';\nimport defaultAvatar from '@/assets/default-avatar.png';\nimport { getPhotoUrl } from '@/utils/photo';\nimport UserHistoryModal from '@/components/UserHistoryModal.vue';\n\nexport default {\n  name: 'AdminUsers',\n  components: {\n    AppLayout,\n    UserHistoryModal\n  },\n  setup() {\n    const users = ref([]);\n    const familles = ref([]);\n    const searchQuery = ref('');\n    const showModal = ref(false);\n    const showFamilleModal = ref(false);\n    const editingUser = ref(null);\n    const form = ref({\n      nom: '',\n      prenom: '',\n      email: '',\n      genre: 'Homme',\n      codeFamille: '',\n      login: '',\n      password: '',\n      role: 'simple',\n      niveau: 'débutant'\n    });\n    const familleForm = ref({\n      codeFamille: '',\n      nom: '',\n      description: ''\n    });\n    const formMessage = ref('');\n    const formSuccess = ref(false);\n    const showHistoryModal = ref(false);\n    const selectedUser = ref(null);\n    const loading = ref(false);\n    const isLoading = ref(false);\n    const errorMessage = ref('');\n\n    // Nouvelles variables pour la gestion des points\n    const showPointsHistoryModal = ref(false);\n    const showPointsAdjustModal = ref(false);\n    const pointsHistory = ref([]);\n    const pointsForm = ref({\n      amount: null,\n      reason: ''\n    });\n\n    // Ajout des variables pour gérer le changement de niveau\n    const showLevelChangeModal = ref(false);\n    const levelChangeData = ref({\n      niveauChanged: false,\n      roleChanged: false,\n      niveauAvant: '',\n      niveauApres: '',\n      roleAvant: '',\n      roleApres: ''\n    });\n\n    const pointsErrorMessage = ref('');\n\n    const loadFamilles = async () => {\n      try {\n        const response = await api.get('/familles');\n        familles.value = response.data;\n      } catch (error) {\n        console.error('Erreur lors du chargement des familles:', error);\n      }\n    };\n\n    const loadUsers = async () => {\n      try {\n        isLoading.value = true;\n        errorMessage.value = '';\n        \n        const response = await api.get('/users');\n        console.log('Données brutes des utilisateurs:', response.data);\n        \n        // Fonction pour analyser la structure d'un utilisateur\n        const analyzeUserStructure = (user) => {\n          const hasPersonne = !!user.personne;\n          const hasDirectProps = !!(user.nom || user.prenom);\n          const personneStructure = hasPersonne ? Object.keys(user.personne).join(', ') : 'absent';\n          \n          console.log(`Utilisateur ${user._id || 'sans ID'}: ` +\n            `Objet personne: ${hasPersonne ? 'présent' : 'absent'}, ` +\n            `Props directes: ${hasDirectProps ? 'présentes' : 'absentes'}, ` +\n            `Structure personne: ${personneStructure}, ` +\n            `Rôle: ${user.role || 'non défini'}`);\n        };\n        \n        // Analyser la structure de chaque utilisateur\n        if (response.data && response.data.length > 0) {\n          console.log('--- Analyse de la structure des utilisateurs ---');\n          response.data.forEach(analyzeUserStructure);\n          console.log('-----------------------------------------------');\n        }\n        \n        users.value = response.data.map(user => {\n          // Vérification détaillée des données\n          console.log('Structure utilisateur:', user);\n          \n          return {\n            _id: user._id,\n            nom: user.personne?.nom || user.nom || 'Non défini',\n            prenom: user.personne?.prenom || user.prenom || 'Non défini',\n            login: user.login || 'Non défini',\n            role: user.role || 'simple',\n            niveau: user.niveau || 'débutant',\n            photo: user.photo || null,\n            points: user.points || 0,\n            genre: user.personne?.genre || user.genre || 'Non spécifié',\n            famille: user.famille\n          };\n        });\n        console.log('Utilisateurs chargés et transformés:', users.value);\n      } catch (error) {\n        console.error('Erreur lors du chargement des utilisateurs:', error);\n        errorMessage.value = \"Erreur lors du chargement des utilisateurs. Veuillez rafraîchir la page.\";\n      } finally {\n        isLoading.value = false;\n      }\n    };\n\n    const filteredUsers = computed(() => {\n      if (!searchQuery.value) return users.value;\n      const query = searchQuery.value.toLowerCase();\n      return users.value.filter(user =>\n          user.login?.toLowerCase().includes(query) ||\n          user.nom?.toLowerCase().includes(query) ||\n          user.prenom?.toLowerCase().includes(query) ||\n          user.famille?.codeFamille?.toLowerCase().includes(query)\n      );\n    });\n\n    const handleImageError = (event) => {\n      event.target.src = defaultAvatar;\n    };\n\n    const getRoleBadgeClass = (role) => {\n      return `role-badge role-${role}`;\n    };\n\n    const editUser = (user) => {\n      editingUser.value = user;\n      form.value = {\n        nom: user.nom || '',\n        prenom: user.prenom || '',\n        email: user.email || '',\n        genre: (user.genre === 'Homme' || user.genre === 'Femme') ? user.genre : 'Homme',\n        codeFamille: user.famille?.codeFamille || '',\n        login: user.login,\n        role: user.role,\n        niveau: user.niveau,\n        password: ''\n      };\n      formMessage.value = '';\n      showModal.value = true;\n    };\n\n    const openAddUserModal = () => {\n      editingUser.value = null;\n      showModal.value = true;\n      form.value = {\n        nom: '',\n        prenom: '',\n        email: '',\n        genre: 'Homme',\n        codeFamille: '',\n        login: '',\n        password: '',\n        role: 'simple',\n        niveau: 'débutant'\n      };\n      formMessage.value = '';\n    };\n\n    const openAddFamilleModal = () => {\n      showFamilleModal.value = true;\n      familleForm.value = {\n        codeFamille: '',\n        nom: '',\n        description: ''\n      };\n    };\n\n    const closeFamilleModal = () => {\n      showFamilleModal.value = false;\n    };\n\n    const saveFamille = async () => {\n      try {\n        await api.post('/familles', familleForm.value);\n        await loadFamilles();\n        closeFamilleModal();\n      } catch (error) {\n        console.error('Erreur lors de la création de la famille:', error);\n      }\n    };\n\n    const deleteMessage = ref('');\n    const deleteSuccess = ref(false);\n\n    const closeModal = () => {\n      showModal.value = false;\n      editingUser.value = null;\n    };\n\n    const confirmDelete = async (user) => {\n      if (confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur ${user.login} ?`)) {\n        try {\n          await api.delete(`/users/${user._id}`);\n          deleteMessage.value = 'Utilisateur supprimé avec succès !';\n          deleteSuccess.value = true;\n          await loadUsers();\n          setTimeout(() => {\n            deleteMessage.value = '';\n          }, 2000);\n        } catch (error) {\n          deleteMessage.value = error.response?.data?.message || \"Erreur lors de la suppression de l'utilisateur.\";\n          deleteSuccess.value = false;\n        }\n      }\n    };\n\n    const saveUser = async () => {\n      try {\n        formMessage.value = '';\n        if (!form.value.password && !editingUser.value) {\n          formMessage.value = 'Le mot de passe est requis pour un nouvel utilisateur';\n          formSuccess.value = false;\n          return;\n        }\n        const userData = {\n          nom: form.value.nom.trim(),\n          prenom: form.value.prenom.trim(),\n          email: form.value.email.trim(),\n          codeFamille: form.value.codeFamille,\n          login: form.value.login.trim(),\n          role: form.value.role,\n          niveau: form.value.niveau,\n          personne: {\n            nom: form.value.nom.trim(),\n            prenom: form.value.prenom.trim(),\n            genre: form.value.genre\n          }\n        };\n        if (!editingUser.value) {\n          userData.password = form.value.password;\n        }\n        let response;\n        if (editingUser.value) {\n          response = await api.put(`/users/${editingUser.value._id}`, userData);\n        } else {\n          response = await api.post('/users', userData);\n        }\n        if (response.data) {\n          formMessage.value = editingUser.value ?\n              'Utilisateur modifié avec succès !' :\n              'Utilisateur ajouté avec succès !';\n          formSuccess.value = true;\n          await loadUsers();\n          setTimeout(() => closeModal(), 1500);\n        }\n      } catch (err) {\n        let errorMessage = editingUser.value ?\n            'Erreur lors de la modification de l\\'utilisateur' :\n            'Erreur lors de la création de l\\'utilisateur';\n        if (err.response?.status === 404) {\n          errorMessage = 'Erreur de connexion au serveur. Vérifiez que le serveur backend est démarré.';\n        } else if (err.response?.status === 403) {\n          errorMessage = 'Vous n\\'avez pas les droits nécessaires.';\n        } else if (err.response?.data?.message) {\n          errorMessage = err.response.data.message;\n        }\n        formMessage.value = errorMessage;\n        formSuccess.value = false;\n      }\n    };\n\n    const showHistory = (user) => {\n      selectedUser.value = user;\n      showHistoryModal.value = true;\n    };\n\n    const closeHistoryModal = () => {\n      showHistoryModal.value = false;\n    };\n\n    // Nouvelle fonction pour afficher l'historique des points\n    const fetchPointsHistory = async (userId) => {\n      try {\n        loading.value = true;\n        const response = await api.get(`/history?search=${userId}`);\n        // Filtrer pour ne garder que les actions liées aux points\n        pointsHistory.value = response.data.histories.filter(\n            entry => entry.action === 'ajout_points' &&\n                entry.details.userId === userId\n        );\n      } catch (error) {\n        console.error('Erreur lors du chargement de l\\'historique des points:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Fonctions pour gérer l'affichage de l'historique des points\n    const viewPointsHistory = async (user) => {\n      selectedUser.value = user;\n      await fetchPointsHistory(user._id);\n      showPointsHistoryModal.value = true;\n    };\n\n    const closePointsHistoryModal = () => {\n      showPointsHistoryModal.value = false;\n      pointsHistory.value = [];\n    };\n\n    // Fonctions pour gérer l'ajustement des points\n    const adjustPoints = (user) => {\n      selectedUser.value = user;\n      pointsForm.value = {\n        amount: null,\n        reason: ''\n      };\n      showPointsAdjustModal.value = true;\n    };\n\n    const closePointsAdjustModal = () => {\n      showPointsAdjustModal.value = false;\n    };\n\n    const savePointsAdjustment = async () => {\n      if (!pointsForm.value.amount) return;\n      try {\n        loading.value = true;\n        pointsErrorMessage.value = '';\n        const response = await api.post(`/users/${selectedUser.value._id}/points`, {\n          amount: parseFloat(pointsForm.value.amount),\n          reason: pointsForm.value.reason\n        });\n        // Mettre à jour les points de l'utilisateur dans la liste\n        const userIndex = users.value.findIndex(u => u._id === selectedUser.value._id);\n        if (userIndex !== -1) {\n          const oldNiveau = users.value[userIndex].niveau;\n          const oldRole = users.value[userIndex].role;\n\n          // Mettre à jour les points\n          users.value[userIndex].points = response.data.points;\n          selectedUser.value.points = response.data.points;\n\n          // Vérifier s'il y a eu changement de niveau ou de rôle\n          if (response.data.niveauChanged || response.data.roleChanged) {\n            // Mettre à jour le niveau et le rôle\n            users.value[userIndex].niveau = response.data.niveau;\n            users.value[userIndex].role = response.data.role;\n            selectedUser.value.niveau = response.data.niveau;\n            selectedUser.value.role = response.data.role;\n\n            // Préparer les données pour le modal de notification\n            levelChangeData.value = {\n              niveauChanged: response.data.niveauChanged,\n              roleChanged: response.data.roleChanged,\n              niveauAvant: oldNiveau,\n              niveauApres: response.data.niveau,\n              roleAvant: oldRole,\n              roleApres: response.data.role\n            };\n\n            // Fermer le modal d'ajustement et afficher celui de notification\n            showPointsAdjustModal.value = false;\n            showLevelChangeModal.value = true;\n          } else {\n            // Rafraîchir l'historique des points et afficher\n            await fetchPointsHistory(selectedUser.value._id);\n            showPointsAdjustModal.value = false;\n            showPointsHistoryModal.value = true;\n          }\n        }\n        // Ajout : recharger la liste des utilisateurs après ajustement des points\n        await loadUsers();\n      } catch (error) {\n        console.error('Erreur lors de l\\'ajustement des points:', error);\n        pointsErrorMessage.value = error.response?.data?.message || \"Erreur lors de l'ajustement des points.\";\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // Fonctions d'aide pour l'affichage\n    const formatDate = (dateString) => {\n      return new Date(dateString).toLocaleString('fr-FR');\n    };\n\n    const formatAction = (action) => {\n      const actions = {\n        'ajout_points': 'Ajustement de points',\n        'upgrade_niveau': 'Changement de niveau'\n      };\n      return actions[action] || action;\n    };\n\n    const formatPointsChange = (amount) => {\n      if (amount > 0) return `+${amount}`;\n      return amount;\n    };\n\n    const getPointsClass = (amount) => {\n      if (amount > 0) return 'points-positive';\n      if (amount < 0) return 'points-negative';\n      return '';\n    };\n\n    // Fonction pour déterminer si un changement de niveau est une progression ou une régression\n    const isLevelUpgrade = (before, after) => {\n      const niveauxOrder = {\n        'débutant': 1,\n        'intermédiaire': 2,\n        'avancé': 3,\n        'expert': 4\n      };\n      return niveauxOrder[after] > niveauxOrder[before];\n    };\n\n    // Fonction pour déterminer si un changement de rôle est une progression ou une régression\n    const isRoleUpgrade = (before, after) => {\n      const rolesOrder = {\n        'visiteur': 1,\n        'simple': 2,\n        'complexe': 3,\n        'admin': 4\n      };\n      return rolesOrder[after] > rolesOrder[before];\n    };\n\n    // Fonction pour fermer le modal de changement de niveau\n    const closeLevelChangeModal = () => {\n      showLevelChangeModal.value = false;\n    };\n\n    onMounted(() => {\n      loadUsers();\n      loadFamilles();\n    });\n\n    return {\n      users,\n      familles,\n      searchQuery,\n      filteredUsers,\n      showModal,\n      showFamilleModal,\n      editingUser,\n      defaultAvatar,\n      getPhotoUrl,\n      handleImageError,\n      editUser,\n      openAddUserModal,\n      openAddFamilleModal,\n      closeModal,\n      closeFamilleModal,\n      confirmDelete,\n      saveUser,\n      saveFamille,\n      getRoleBadgeClass,\n      form,\n      familleForm,\n      formMessage,\n      formSuccess,\n      showHistoryModal,\n      selectedUser,\n      showHistory,\n      closeHistoryModal,\n\n      // Nouvelles variables pour les points\n      showPointsHistoryModal,\n      showPointsAdjustModal,\n      pointsHistory,\n      pointsForm,\n      loading,\n\n      // Nouvelles variables pour le changement de niveau\n      showLevelChangeModal,\n      levelChangeData,\n      closeLevelChangeModal,\n\n      // Nouvelles fonctions pour la comparaison\n      isLevelUpgrade,\n      isRoleUpgrade,\n\n      // Fonctions pour les points\n      viewPointsHistory,\n      closePointsHistoryModal,\n      adjustPoints,\n      closePointsAdjustModal,\n      savePointsAdjustment,\n      formatDate,\n      formatAction,\n      formatPointsChange,\n      getPointsClass,\n\n      // Nouvelles variables pour le chargement\n      isLoading,\n      errorMessage,\n      pointsErrorMessage\n    };\n  }\n};\n</script>\n\n<style scoped>\n.admin-users-container {\n  padding: 15px;\n}\n\n.page-title {\n  color: #2c5038;\n  margin-bottom: 20px;\n  font-size: 1.8rem;\n}\n\n.actions-bar {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 15px;\n}\n\n.search-input {\n  padding: 6px 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  width: 250px;\n}\n\n.add-user-btn {\n  background-color: #2c5038;\n  color: white;\n  padding: 6px 12px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n}\n\n.users-table {\n  width: 100%;\n  overflow-x: auto;\n  margin-top: 20px;\n}\n\n.users-table table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.users-table th, .users-table td {\n  padding: 12px 15px;\n  text-align: left;\n  border-bottom: 1px solid #e2e8f0;\n}\n\n.users-table th {\n  background-color: #f8fafc;\n  font-weight: 600;\n  color: #2c5038;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n}\n\n.users-table tbody tr:hover {\n  background-color: #f1f5f9;\n}\n\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  object-fit: cover;\n  border: 2px solid #4a7c59;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Ajustement des largeurs de colonnes */\n.users-table th:nth-child(1), .users-table td:nth-child(1) { width: 60px; }  /* Photo */\n.users-table th:nth-child(2), .users-table td:nth-child(2) { width: 12%; }   /* Nom */\n.users-table th:nth-child(3), .users-table td:nth-child(3) { width: 12%; }   /* Prénom */\n.users-table th:nth-child(4), .users-table td:nth-child(4) { width: 10%; }   /* Famille */\n.users-table th:nth-child(5), .users-table td:nth-child(5) { width: 12%; }   /* Login */\n.users-table th:nth-child(6), .users-table td:nth-child(6) { width: 8%; }    /* Rôle */\n.users-table th:nth-child(7), .users-table td:nth-child(7) { width: 12%; }   /* Niveau */\n.users-table th:nth-child(8), .users-table td:nth-child(8) { width: 8%; }    /* Points */\n.users-table th:nth-child(9), .users-table td:nth-child(9) { width: 16%; }   /* Actions */\n\n/* Style des badges de rôle */\n.role-badge {\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  text-transform: capitalize;\n  display: inline-block;\n}\n\n.role-admin {\n  background-color: #fee2e2;\n  color: #b91c1c;\n}\n\n.role-simple {\n  background-color: #e0f2fe;\n  color: #0369a1;\n}\n\n.role-complexe {\n  background-color: #dcfce7;\n  color: #166534;\n}\n\n.role-visiteur {\n  background-color: #fef3c7;\n  color: #92400e;\n}\n\n/* Messages de succès et d'erreur */\n.success-msg, .error-msg {\n  padding: 10px 15px;\n  margin: 10px 0;\n  border-radius: 5px;\n  font-weight: 500;\n}\n\n.success-msg {\n  background-color: #dcfce7;\n  color: #166534;\n  border: 1px solid #86efac;\n}\n\n.error-msg {\n  background-color: #fee2e2;\n  color: #b91c1c;\n  border: 1px solid #fca5a5;\n}\n\n/* Colonne d'actions */\n.actions-cell {\n  display: flex;\n  flex-wrap: nowrap;          \n  justify-content: flex-start;\n  align-items: center;\n  gap: 8px;\n  white-space: nowrap;\n  min-width: 120px;        \n  padding: 4px;\n}\n\n\n.users-data-table th:last-child,\n.users-data-table td.actions-cell {\n  width: 140px;\n  max-width: 160px;\n  white-space: nowrap;\n  text-align: left;\n}\n\n\nth.actions-header, td.actions-cell {\n  white-space: nowrap;\n  width: 1%;              /* permet au tableau d'ajuster au contenu */\n}\n\n\n.action-btn {\n  width: 28px;\n  height: 28px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.action-btn i {\n  font-size: 0.9rem;\n}\n\n.action-btn.edit {\n  background-color: #2c5038;\n  color: white;\n}\n\n.action-btn.delete {\n  background-color: #dc3545;\n  color: white;\n}\n\n.action-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n}\n\n.action-btn.edit:hover {\n  background-color: #1e3725;\n}\n\n.action-btn.delete:hover {\n  background-color: #c82333;\n}\n\n.action-btn .tooltip {\n  position: absolute;\n  bottom: -30px;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: #333;\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  opacity: 0;\n  visibility: hidden;\n  transition: all 0.3s ease;\n  white-space: nowrap;\n  z-index: 1000;\n}\n\n.action-btn:hover .tooltip {\n  opacity: 1;\n  visibility: visible;\n  bottom: -35px;\n}\n\n/* Ajout d'une petite flèche au tooltip */\n.action-btn .tooltip::before {\n  content: '';\n  position: absolute;\n  top: -4px;\n  left: 50%;\n  transform: translateX(-50%);\n  border-width: 0 4px 4px 4px;\n  border-style: solid;\n  border-color: transparent transparent #333 transparent;\n}\n\n/* Style pour la colonne Actions dans le header */\nth:last-child {\n  text-align: center !important;\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 2000;\n}\n\n.user-modal-content {\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  max-width: 420px;\n  width: 95vw;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.18);\n  position: relative;\n}\n\n@media (max-width: 600px) {\n  .user-modal-content {\n    max-width: 99vw;\n    padding: 10px;\n  }\n}\n\n.modal-actions {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n}\n\n.save-btn {\n  background-color: #4CAF50;\n  color: white;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.cancel-btn {\n  background-color: #9e9e9e;\n  color: white;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.form-row {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 12px;\n}\n.form-row label {\n  font-weight: 500;\n  margin-bottom: 4px;\n  color: #2c5038;\n}\n.form-row input, .form-row select {\n  padding: 7px 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n.avatar-homme {\n  border: 3px solid #007bff; /* Bleu */\n  padding: 2px;\n}\n\n.avatar-femme {\n  border: 3px solid #ff9800; /* Orange */\n  padding: 2px;\n}\n\n.avatar-neutre {\n  border: 3px solid #ccc; /* Gris */\n  padding: 2px;\n}\n\n.btn-history {\n  background-color: #2c5038;\n  color: white;\n  border: none;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  transition: background-color 0.3s;\n  font-size: 0.85rem;\n}\n\n.btn-history:hover {\n  background-color: #1a3022;\n}\n\n.btn-history i {\n  font-size: 0.85rem;\n}\n\n.actions {\n  display: flex;\n  gap: 10px;\n}\n\n.add-famille-btn {\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 4px 8px;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 5px;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.add-famille-btn i {\n  font-size: 0.9rem;\n}\n\n.add-famille-btn:hover {\n  background-color: #45a049;\n}\n\n.points-cell {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.points-badge {\n  background-color: #2c5038;\n  color: white;\n  padding: 3px 8px;\n  border-radius: 12px;\n  font-weight: bold;\n  font-size: 0.9rem;\n  min-width: 30px;\n  text-align: center;\n}\n\n.points-adjust-btn {\n  background: none;\n  border: none;\n  color: #2c5038;\n  cursor: pointer;\n  font-size: 1.1rem;\n  padding: 2px;\n  opacity: 0.7;\n  transition: opacity 0.3s;\n}\n\n.points-adjust-btn:hover {\n  opacity: 1;\n}\n\n.points-history-modal {\n  max-width: 800px;\n  width: 90%;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 20px;\n  background-color: #2c5038;\n  color: white;\n  border-radius: 8px 8px 0 0;\n}\n\n.modal-header h2 {\n  margin: 0;\n  font-size: 1.3rem;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 1.2rem;\n  cursor: pointer;\n}\n\n.user-points-summary {\n  background-color: #f8f9fa;\n  padding: 15px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n.total-points {\n  font-size: 1.1rem;\n  margin: 0;\n}\n\n.points-value {\n  font-weight: bold;\n  color: #2c5038;\n}\n\n.points-history-table {\n  width: 100%;\n  overflow-x: auto;\n}\n\n.points-history-table table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.points-history-table th,\n.points-history-table td {\n  padding: 10px;\n  border-bottom: 1px solid #ddd;\n  text-align: left;\n}\n\n.points-history-table th {\n  background-color: #f8f9fa;\n  font-weight: bold;\n  color: #333;\n}\n\n.points-positive {\n  color: green;\n  font-weight: bold;\n}\n\n.points-negative {\n  color: red;\n  font-weight: bold;\n}\n\n.no-history {\n  text-align: center;\n  padding: 20px;\n  color: #666;\n  font-style: italic;\n}\n\n.level-change-modal {\n  max-width: 400px;\n  width: 90%;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 20px;\n  background-color: #2c5038;\n  color: white;\n  border-radius: 8px 8px 0 0;\n}\n\n.modal-header h2 {\n  margin: 0;\n  font-size: 1.3rem;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 1.2rem;\n  cursor: pointer;\n}\n\n.level-change-content {\n  padding: 20px;\n}\n\n.user-info-header {\n  margin-bottom: 20px;\n}\n\n.user-login {\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\n.change-item {\n  margin-bottom: 10px;\n}\n\n.change-label {\n  font-weight: bold;\n}\n\n.change-details {\n  margin-top: 5px;\n}\n\n.before-change {\n  margin-right: 10px;\n}\n\n.after-change {\n  font-weight: bold;\n}\n\n.highlight {\n  font-weight: bold;\n  color: #2c5038;\n}\n\n.points-summary {\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n.points-label {\n  font-weight: bold;\n}\n\n.congratulations-message {\n  text-align: center;\n  margin-top: 10px;\n}\n\n.modal-footer {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.btn {\n  background-color: #2c5038;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.btn:hover {\n  background-color: #1a3022;\n}\n\n.primary {\n  background-color: #4CAF50;\n}\n\n.primary:hover {\n  background-color: #45a049;\n}\n\n.loading-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px 0;\n  color: #4a7c59;\n}\n\n.loading-spinner {\n  font-size: 2rem;\n  margin-bottom: 15px;\n}\n\n.no-users {\n  text-align: center;\n  padding: 30px;\n  background-color: #f8fafc;\n  border-radius: 8px;\n  color: #64748b;\n}\n\n.no-users i {\n  font-size: 2.5rem;\n  margin-bottom: 15px;\n  opacity: 0.6;\n}\n\n.no-results {\n  text-align: center;\n  padding: 30px;\n  background-color: #f8fafc;\n  border-radius: 8px;\n  color: #64748b;\n}\n\n.no-results i {\n  font-size: 2.5rem;\n  margin-bottom: 15px;\n  opacity: 0.6;\n}\n\n.niveau-badge {\n  font-size: 0.85em;\n  color: #64748b;\n  margin-left: 4px;\n  font-weight: 500;\n}\n\n.action-btn.history {\n  background-color: #e0e7ef;\n  color: #2c5038;\n  border: none;\n  width: 28px;\n  height: 28px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s;\n}\n\n.action-btn.history:hover {\n  background-color: #cbd5e1;\n}\n\n.points-actions-cell {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  white-space: nowrap;\n  min-width: 180px;\n  max-width: 260px;\n  padding: 4px;\n}\n\n.points-adjust-modal {\n  background: white;\n  padding: 0;\n  border-radius: 10px;\n  max-width: 350px;\n  width: 95vw;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 8px 32px rgba(0,0,0,0.18);\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n.points-adjust-modal .modal-header {\n  background: #23613d;\n  color: #fff;\n  padding: 18px 20px 10px 20px;\n  border-radius: 10px 10px 0 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.points-adjust-modal .modal-header h2 {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: bold;\n  flex: 1;\n}\n.points-adjust-modal .close-btn {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 1.3rem;\n  cursor: pointer;\n  margin-left: 10px;\n}\n.points-adjust-modal .modal-body {\n  padding: 18px 20px 20px 20px;\n}\n.points-adjust-modal .points-info {\n  background: #f8f9fa;\n  padding: 10px 12px;\n  border-radius: 7px;\n  margin-bottom: 18px;\n  font-size: 0.98rem;\n}\n.points-adjust-modal .form-row {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 12px;\n}\n.points-adjust-modal .form-row label {\n  font-weight: 500;\n  margin-bottom: 4px;\n  color: #23613d;\n}\n.points-adjust-modal .form-row input {\n  padding: 7px 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n}\n.points-adjust-modal .modal-actions {\n  margin-top: 18px;\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n}\n.points-adjust-modal .save-btn {\n  background-color: #4CAF50;\n  color: white;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.points-adjust-modal .cancel-btn {\n  background-color: #9e9e9e;\n  color: white;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.points-adjust-modal .error-msg {\n  background: #fee2e2;\n  color: #b91c1c;\n  border: 1px solid #fca5a5;\n  padding: 10px 15px;\n  border-radius: 5px;\n  margin-top: 12px;\n  font-weight: 500;\n  text-align: center;\n}\n@media (max-width: 600px) {\n  .points-adjust-modal {\n    max-width: 99vw;\n    padding: 0;\n  }\n  .points-adjust-modal .modal-header,\n  .points-adjust-modal .modal-body {\n    padding: 10px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}